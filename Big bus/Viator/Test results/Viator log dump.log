[2019-01-30 12:24:15.289] INFO    org.mule.module.launcher.application.DefaultMuleApplication [qtp1232112403-35]: 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+ Initializing app 'bb-viator-api-v1-t'                    +
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
[2019-01-30 12:24:16.012] INFO    com.mulesoft.ch.monitoring.MonitoringCoreExtension [qtp1232112403-35]: Monitoring enabled: true
[2019-01-30 12:24:16.015] INFO    com.mulesoft.ch.monitoring.MonitoringCoreExtension [qtp1232112403-35]: Registering ping flow injector...
[2019-01-30 12:24:16.021] INFO    com.mulesoft.ch.queue.boot.PersistentQueueCoreExtension [qtp1232112403-35]: The PersistentQueueManager is NOT configured. The normal VM queue manager will be used.
[2019-01-30 12:24:16.042] INFO    org.mule.api.security.tls.TlsProperties [qtp1232112403-35]: Loading configuration file: tls-default.conf
[2019-01-30 12:24:16.053] INFO    org.mule.api.security.tls.TlsProperties [qtp1232112403-35]: Loading configuration file: tls-default.conf
[2019-01-30 12:24:16.067] INFO    org.mule.api.security.tls.TlsProperties [qtp1232112403-35]: Loading configuration file: tls-default.conf
[2019-01-30 12:24:17.465] INFO    org.mule.lifecycle.AbstractLifecycleManager [qtp1232112403-35]: Initialising RegistryBroker
[2019-01-30 12:24:17.612] INFO    org.mule.module.extension.internal.manager.DefaultExtensionManager [qtp1232112403-35]: Starting discovery of extensions
[2019-01-30 12:24:17.833] INFO    org.mule.module.extension.internal.manager.DefaultExtensionManager [qtp1232112403-35]: Discovered 1 extensions
[2019-01-30 12:24:17.833] INFO    org.mule.module.extension.internal.manager.DefaultExtensionManager [qtp1232112403-35]: Registering extension validation (version 3.9)
[2019-01-30 12:24:17.965] INFO    org.mule.config.spring.MuleArtifactContext [qtp1232112403-35]: Refreshing org.mule.config.spring.MuleArtifactContext@3a2521c4: startup date [Wed Jan 30 12:24:17 UTC 2019]; root of context hierarchy
[2019-01-30 12:24:21.637] WARN    org.mule.transport.http.builder.HttpHeaderDefinitionParser [qtp1232112403-35]: Schema warning: Use of element <header> is deprecated.  HTTP transport is deprecated and will be removed in Mule 4.0. Use HTTP module instead..
[2019-01-30 12:24:22.549] ERROR   std-err [qtp1232112403-35]: Jan 30, 2019 12:24:22 PM java.util.prefs.FileSystemPreferences$1 run
[2019-01-30 12:24:22.549] ERROR   std-err [qtp1232112403-35]: INFO: Created user preferences directory.
[2019-01-30 12:24:22.715] INFO    org.mule.modules.security.placeholder.adapters.SecurePropertyPlaceholderModuleLicenseChecker [qtp1232112403-35]: Loading properties file from class path resource [properties/bb-viator-api-test.properties]
[2019-01-30 12:24:22.716] INFO    org.mule.modules.security.placeholder.adapters.SecurePropertyPlaceholderModuleLicenseChecker [qtp1232112403-35]: Loading properties file from class path resource [esb-common-logging.properties]
[2019-01-30 12:24:22.717] INFO    org.mule.modules.security.placeholder.adapters.SecurePropertyPlaceholderModuleLicenseChecker [qtp1232112403-35]: Loading properties file from class path resource [properties/errorMessages.properties]
[2019-01-30 12:24:22.719] INFO    org.mule.modules.security.placeholder.adapters.SecurePropertyPlaceholderModuleLicenseChecker [qtp1232112403-35]: Loading properties file from class path resource [properties/bb-viator-api-queries.properties]
[2019-01-30 12:24:23.856] ERROR   std-err [qtp1232112403-35]: Jan 30, 2019 12:24:23 PM java.util.prefs.FileSystemPreferences$6 run
[2019-01-30 12:24:23.856] ERROR   std-err [qtp1232112403-35]: WARNING: Prefs file removed in background /home/ion-mule/.java/.userPrefs/prefs.xml
[2019-01-30 12:24:23.857] ERROR   std-err [qtp1232112403-35]: Jan 30, 2019 12:24:23 PM java.util.prefs.FileSystemPreferences$6 run
[2019-01-30 12:24:23.858] ERROR   std-err [qtp1232112403-35]: WARNING: Prefs file removed in background /etc/.java/.systemPrefs/prefs.xml
[2019-01-30 12:24:23.881] INFO    org.springframework.context.support.PropertySourcesPlaceholderConfigurer [qtp1232112403-35]: Loading properties file from class path resource [esb-common-logging.properties]
[2019-01-30 12:24:23.911] INFO    org.springframework.context.support.PropertySourcesPlaceholderConfigurer [qtp1232112403-35]: Loading properties file from class path resource [esb-common-logging.properties]
[2019-01-30 12:24:23.968] INFO    org.mule.config.spring.processors.NoDevkitInjectorProcessor [qtp1232112403-35]: JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
[2019-01-30 12:24:25.091] WARN    org.mule.expression.DefaultExpressionManager [qtp1232112403-35]: Expression string is not an expression.  Use isExpression(String) to validate first
[2019-01-30 12:24:25.091] WARN    org.mule.expression.DefaultExpressionManager [qtp1232112403-35]: Expression string is not an expression.  Use isExpression(String) to validate first
[2019-01-30 12:24:27.982] WARN    org.mule.module.ognl.expression.OgnlExpressionEvaluator [qtp1232112403-35]: OGNL module is deprecated and will be removed in Mule 4.0. Use MEL expressions instead.
[2019-01-30 12:24:28.743] INFO    org.mule.api.security.tls.TlsProperties [qtp1232112403-35]: Loading configuration file: tls-default.conf
[2019-01-30 12:24:28.863] INFO    org.mule.util.journal.TransactionJournal [qtp1232112403-35]: Using files for tx logs /opt/mule/mule-3.9.1/./.mule/bb-viator-api-v1-t/queue-tx-log/tx1.log and /opt/mule/mule-3.9.1/./.mule/bb-viator-api-v1-t/queue-tx-log/tx2.log
[2019-01-30 12:24:28.877] INFO    org.mule.util.journal.TransactionJournal [qtp1232112403-35]: Using files for tx logs /opt/mule/mule-3.9.1/./.mule/bb-viator-api-v1-t/queue-xa-tx-log/tx1.log and /opt/mule/mule-3.9.1/./.mule/bb-viator-api-v1-t/queue-xa-tx-log/tx2.log
[2019-01-30 12:24:28.888] INFO    org.mule.lifecycle.AbstractLifecycleManager [qtp1232112403-35]: Initialising connector: Gmail
[2019-01-30 12:24:28.987] INFO    org.mule.lifecycle.AbstractLifecycleManager [qtp1232112403-35]: Initialising connector: connector.VM.mule.default
[2019-01-30 12:24:29.295] INFO    org.mule.lifecycle.AbstractLifecycleManager [qtp1232112403-35]: Initialising model: _muleSystemModel
[2019-01-30 12:24:29.303] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Initialising flow: LogtoDB-File-JMS
[2019-01-30 12:24:29.305] INFO    org.mule.exception.CatchMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.CatchMessagingExceptionStrategy@23e77255
[2019-01-30 12:24:29.305] INFO    org.mule.exception.DefaultMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.DefaultMessagingExceptionStrategy@68cf24c6
[2019-01-30 12:24:29.336] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: LogtoDB-File-JMS.stage1
[2019-01-30 12:24:29.360] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.639972258
[2019-01-30 12:24:30.119] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.2026535366
[2019-01-30 12:24:30.189] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.1625275745
[2019-01-30 12:24:30.189] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.1061689566
[2019-01-30 12:24:30.199] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Initialising flow: bb-viator-api-flow-get-tp-name
[2019-01-30 12:24:30.199] INFO    org.mule.exception.DefaultMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.DefaultMessagingExceptionStrategy@8f528c
[2019-01-30 12:24:30.205] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-get-tp-name.stage1
[2019-01-30 12:24:30.206] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Initialising flow: api-main
[2019-01-30 12:24:30.206] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=404, exceptions=[org.mule.module.apikit.exception.NotFoundException]}
[2019-01-30 12:24:30.207] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=405, exceptions=[org.mule.module.apikit.exception.MethodNotAllowedException]}
[2019-01-30 12:24:30.208] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=415, exceptions=[org.mule.module.apikit.exception.UnsupportedMediaTypeException]}
[2019-01-30 12:24:30.208] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=406, exceptions=[org.mule.module.apikit.exception.NotAcceptableException]}
[2019-01-30 12:24:30.208] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=400, exceptions=[com.fasterxml.jackson.core.JsonParseException]}
[2019-01-30 12:24:30.213] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: api-main.1
[2019-01-30 12:24:30.423] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.188488487
[2019-01-30 12:24:30.431] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: api-main.2
[2019-01-30 12:24:30.431] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=422, exceptions=[org.mule.module.apikit.exception.BadRequestException]}
[2019-01-30 12:24:30.439] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: api-main.3
[2019-01-30 12:24:30.441] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.194398182
[2019-01-30 12:24:30.444] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: api-main.4
[2019-01-30 12:24:30.449] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=200, exceptions=[org.mule.module.json.validation.JsonSchemaValidationException]}
[2019-01-30 12:24:30.452] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: api-main.5
[2019-01-30 12:24:30.456] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: api-main.6
[2019-01-30 12:24:30.457] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=500, exceptions=[java.lang.Exception]}
[2019-01-30 12:24:30.504] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: api-main.stage1
[2019-01-30 12:24:30.513] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Initialising flow: post:/products:application/json:api-config
[2019-01-30 12:24:30.513] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=404, exceptions=[org.mule.module.apikit.exception.NotFoundException]}
[2019-01-30 12:24:30.517] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=405, exceptions=[org.mule.module.apikit.exception.MethodNotAllowedException]}
[2019-01-30 12:24:30.517] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=415, exceptions=[org.mule.module.apikit.exception.UnsupportedMediaTypeException]}
[2019-01-30 12:24:30.517] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=406, exceptions=[org.mule.module.apikit.exception.NotAcceptableException]}
[2019-01-30 12:24:30.520] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=400, exceptions=[com.fasterxml.jackson.core.JsonParseException]}
[2019-01-30 12:24:30.527] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products:application/json:api-config.1
[2019-01-30 12:24:30.528] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.2137387413
[2019-01-30 12:24:30.530] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products:application/json:api-config.2
[2019-01-30 12:24:30.531] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=422, exceptions=[org.mule.module.apikit.exception.BadRequestException]}
[2019-01-30 12:24:30.535] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products:application/json:api-config.3
[2019-01-30 12:24:30.536] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.2085943805
[2019-01-30 12:24:30.545] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products:application/json:api-config.4
[2019-01-30 12:24:30.545] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=200, exceptions=[org.mule.module.json.validation.JsonSchemaValidationException]}
[2019-01-30 12:24:30.548] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products:application/json:api-config.5
[2019-01-30 12:24:30.555] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products:application/json:api-config.6
[2019-01-30 12:24:30.555] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=500, exceptions=[java.lang.Exception]}
[2019-01-30 12:24:30.557] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products:application/json:api-config.stage1
[2019-01-30 12:24:30.566] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Initialising flow: post:/products/availability:application/json:api-config
[2019-01-30 12:24:30.566] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=404, exceptions=[org.mule.module.apikit.exception.NotFoundException]}
[2019-01-30 12:24:30.567] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=405, exceptions=[org.mule.module.apikit.exception.MethodNotAllowedException]}
[2019-01-30 12:24:30.567] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=415, exceptions=[org.mule.module.apikit.exception.UnsupportedMediaTypeException]}
[2019-01-30 12:24:30.569] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=406, exceptions=[org.mule.module.apikit.exception.NotAcceptableException]}
[2019-01-30 12:24:30.572] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=400, exceptions=[com.fasterxml.jackson.core.JsonParseException]}
[2019-01-30 12:24:30.576] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products/availability:application/json:api-config.1
[2019-01-30 12:24:30.577] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.115057313
[2019-01-30 12:24:30.580] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products/availability:application/json:api-config.2
[2019-01-30 12:24:30.580] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=422, exceptions=[org.mule.module.apikit.exception.BadRequestException]}
[2019-01-30 12:24:30.585] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products/availability:application/json:api-config.3
[2019-01-30 12:24:30.585] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.1034843888
[2019-01-30 12:24:30.592] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products/availability:application/json:api-config.4
[2019-01-30 12:24:30.592] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=200, exceptions=[org.mule.module.json.validation.JsonSchemaValidationException]}
[2019-01-30 12:24:30.594] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products/availability:application/json:api-config.5
[2019-01-30 12:24:30.598] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products/availability:application/json:api-config.6
[2019-01-30 12:24:30.600] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=500, exceptions=[java.lang.Exception]}
[2019-01-30 12:24:30.602] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/products/availability:application/json:api-config.stage1
[2019-01-30 12:24:30.605] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Initialising flow: post:/bookings:application/json:api-config
[2019-01-30 12:24:30.606] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=404, exceptions=[org.mule.module.apikit.exception.NotFoundException]}
[2019-01-30 12:24:30.606] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=405, exceptions=[org.mule.module.apikit.exception.MethodNotAllowedException]}
[2019-01-30 12:24:30.606] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=415, exceptions=[org.mule.module.apikit.exception.UnsupportedMediaTypeException]}
[2019-01-30 12:24:30.606] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=406, exceptions=[org.mule.module.apikit.exception.NotAcceptableException]}
[2019-01-30 12:24:30.607] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=400, exceptions=[com.fasterxml.jackson.core.JsonParseException]}
[2019-01-30 12:24:30.612] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings:application/json:api-config.1
[2019-01-30 12:24:30.613] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.1278699744
[2019-01-30 12:24:30.616] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings:application/json:api-config.2
[2019-01-30 12:24:30.616] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=422, exceptions=[org.mule.module.apikit.exception.BadRequestException]}
[2019-01-30 12:24:30.619] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings:application/json:api-config.3
[2019-01-30 12:24:30.619] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.1759497063
[2019-01-30 12:24:30.625] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings:application/json:api-config.4
[2019-01-30 12:24:30.626] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=200, exceptions=[org.mule.module.json.validation.JsonSchemaValidationException]}
[2019-01-30 12:24:30.629] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings:application/json:api-config.5
[2019-01-30 12:24:30.641] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings:application/json:api-config.6
[2019-01-30 12:24:30.642] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=500, exceptions=[java.lang.Exception]}
[2019-01-30 12:24:30.644] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings:application/json:api-config.stage1
[2019-01-30 12:24:30.652] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Initialising flow: post:/bookings/cancel:application/json:api-config
[2019-01-30 12:24:30.653] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=404, exceptions=[org.mule.module.apikit.exception.NotFoundException]}
[2019-01-30 12:24:30.653] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=405, exceptions=[org.mule.module.apikit.exception.MethodNotAllowedException]}
[2019-01-30 12:24:30.653] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=415, exceptions=[org.mule.module.apikit.exception.UnsupportedMediaTypeException]}
[2019-01-30 12:24:30.653] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=406, exceptions=[org.mule.module.apikit.exception.NotAcceptableException]}
[2019-01-30 12:24:30.653] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=400, exceptions=[com.fasterxml.jackson.core.JsonParseException]}
[2019-01-30 12:24:30.656] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings/cancel:application/json:api-config.1
[2019-01-30 12:24:30.656] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.771048457
[2019-01-30 12:24:30.658] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings/cancel:application/json:api-config.2
[2019-01-30 12:24:30.665] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=422, exceptions=[org.mule.module.apikit.exception.BadRequestException]}
[2019-01-30 12:24:30.670] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings/cancel:application/json:api-config.3
[2019-01-30 12:24:30.673] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.1642167207
[2019-01-30 12:24:30.677] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings/cancel:application/json:api-config.4
[2019-01-30 12:24:30.677] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=200, exceptions=[org.mule.module.json.validation.JsonSchemaValidationException]}
[2019-01-30 12:24:30.679] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings/cancel:application/json:api-config.5
[2019-01-30 12:24:30.682] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings/cancel:application/json:api-config.6
[2019-01-30 12:24:30.683] INFO    org.mule.module.apikit.MappingExceptionListener [qtp1232112403-35]: Initialising exception listener: MappingExceptionListener{statusCode=500, exceptions=[java.lang.Exception]}
[2019-01-30 12:24:30.685] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: post:/bookings/cancel:application/json:api-config.stage1
[2019-01-30 12:24:30.692] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Initialising flow: bb-viator-api-flow-availability
[2019-01-30 12:24:30.694] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-availability.1
[2019-01-30 12:24:30.697] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-availability.2
[2019-01-30 12:24:30.697] INFO    org.mule.exception.CatchMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.CatchMessagingExceptionStrategy@20c5434b
[2019-01-30 12:24:30.709] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-availability.3
[2019-01-30 12:24:30.711] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-availability.4
[2019-01-30 12:24:30.711] INFO    org.mule.exception.CatchMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.CatchMessagingExceptionStrategy@1ab80a6e
[2019-01-30 12:24:30.712] INFO    org.mule.exception.DefaultMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.DefaultMessagingExceptionStrategy@3aab24cc
[2019-01-30 12:24:30.717] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-availability.stage1
[2019-01-30 12:24:30.724] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-availability.5
[2019-01-30 12:24:30.734] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-availability.6
[2019-01-30 12:24:30.761] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.1026517680
[2019-01-30 12:24:30.772] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-availability.7
[2019-01-30 12:24:30.774] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Initialising flow: bb-viator-api-flow-tourlist
[2019-01-30 12:24:30.792] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-tourlist.1
[2019-01-30 12:24:30.795] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-tourlist.2
[2019-01-30 12:24:30.800] INFO    org.mule.exception.CatchMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.CatchMessagingExceptionStrategy@20b0f6b9
[2019-01-30 12:24:30.800] INFO    org.mule.exception.DefaultMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.DefaultMessagingExceptionStrategy@5a04b5d0
[2019-01-30 12:24:30.802] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-tourlist.stage1
[2019-01-30 12:24:30.805] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-tourlist.3
[2019-01-30 12:24:30.810] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-tourlist.4
[2019-01-30 12:24:30.818] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-tourlist.5
[2019-01-30 12:24:30.826] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-tourlist.6
[2019-01-30 12:24:30.827] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Initialising component: component.15848688
[2019-01-30 12:24:30.833] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-tourlist.7
[2019-01-30 12:24:30.834] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Initialising flow: bb-viator-api-flow-bookings-cancellation
[2019-01-30 12:24:30.849] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-bookings-cancellation.1
[2019-01-30 12:24:30.852] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-bookings-cancellation.2
[2019-01-30 12:24:30.852] INFO    org.mule.exception.CatchMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.CatchMessagingExceptionStrategy@73f9be1a
[2019-01-30 12:24:30.859] INFO    org.mule.exception.DefaultMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.DefaultMessagingExceptionStrategy@5f530ced
[2019-01-30 12:24:30.862] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-bookings-cancellation.stage1
[2019-01-30 12:24:30.868] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-bookings-cancellation.3
[2019-01-30 12:24:30.870] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-bookings-cancellation.4
[2019-01-30 12:24:30.883] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-bookings-cancellation.5
[2019-01-30 12:24:30.888] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-bookings-cancellation.6
[2019-01-30 12:24:30.894] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-bookings-cancellation.7
[2019-01-30 12:24:30.905] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-bookings-cancellation.8
[2019-01-30 12:24:30.907] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Initialising flow: bb-viator-api-flow-booking
[2019-01-30 12:24:30.910] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-booking.1
[2019-01-30 12:24:30.918] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-booking.2
[2019-01-30 12:24:30.918] INFO    org.mule.exception.CatchMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.CatchMessagingExceptionStrategy@6e5386c2
[2019-01-30 12:24:30.918] INFO    org.mule.exception.DefaultMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.DefaultMessagingExceptionStrategy@55eaae45
[2019-01-30 12:24:30.936] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-booking.stage1
[2019-01-30 12:24:30.939] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-booking.3
[2019-01-30 12:24:30.942] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-booking.4
[2019-01-30 12:24:30.956] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-booking.5
[2019-01-30 12:24:30.958] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-booking.6
[2019-01-30 12:24:30.965] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-booking.7
[2019-01-30 12:24:30.973] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Initialising service: bb-viator-api-flow-booking.8
[2019-01-30 12:24:31.956] INFO    org.mule.module.apikit.Configuration [qtp1232112403-35]: Building resource URI cache...
[2019-01-30 12:24:32.066] INFO    org.mule.config.spring.SpringXmlConfigurationBuilder [qtp1232112403-35]: Configured Mule using "org.mule.config.spring.SpringXmlConfigurationBuilder" with configuration resource(s): "[ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api-global-config.xml'}, ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api.xml'}, ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api-common-error-handler.xml'}, ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api-availability.xml'}, ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api-tourlist.xml'}, ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api-booking-cancel.xml'}, ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api-booking.xml'}]"
[2019-01-30 12:24:32.068] INFO    org.mule.config.builders.AutoConfigurationBuilder [qtp1232112403-35]: Configured Mule using "org.mule.config.builders.AutoConfigurationBuilder" with configuration resource(s): "[ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api-global-config.xml'}, ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api.xml'}, ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api-common-error-handler.xml'}, ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api-availability.xml'}, ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api-tourlist.xml'}, ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api-booking-cancel.xml'}, ConfigResource{resourceName='/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/bb-viator-api-booking.xml'}]"
[2019-01-30 12:24:32.092] INFO    com.mulesoft.module.policies.lifecyle.GateKeeper [qtp1232112403-35]: GateKeeper Mode: FLEXIBLE
[2019-01-30 12:24:32.116] INFO    com.mulesoft.module.policies.lifecyle.GateKeeper [qtp1232112403-35]: API BigBusTours-Viator-API-Portal-Test 2.0:15623602 is blocked (unavailable).
[2019-01-30 12:24:32.117] INFO    com.mulesoft.ch.batch.BatchCoreExtension [qtp1232112403-35]: Persistent queues is not enabled for batch module as it was not configured in Cloudhub console
[2019-01-30 12:24:32.147] INFO    com.mulesoft.analytics.appviz.service.HeartbeatTimer [qtp1232112403-35]: Visualizer: Scheduling Heartbeat Task.
[2019-01-30 12:24:32.148] INFO    com.mulesoft.analytics.appviz.service.TrafficCollectionService [qtp1232112403-35]: Visualizer: Registering Notification Listeners for Anypoint Visualizer for application bb-viator-api-v1-t
[2019-01-30 12:24:32.149] INFO    org.mule.module.launcher.application.DefaultMuleApplication [qtp1232112403-35]: 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+ Starting app 'bb-viator-api-v1-t'                        +
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
[2019-01-30 12:24:32.215] INFO    org.mule.util.queue.QueueXaResourceManager [qtp1232112403-35]: Starting ResourceManager
[2019-01-30 12:24:32.216] INFO    org.mule.util.queue.QueueXaResourceManager [qtp1232112403-35]: Started ResourceManager
[2019-01-30 12:24:32.235] INFO    com.mulesoft.ch.objectstore.ObjectStoreImpl [qtp1232112403-35]: Successfully opened CloudHub ObjectStore
[2019-01-30 12:24:32.235] INFO    com.mulesoft.ch.objectstore.ObjectStoreImpl [qtp1232112403-35]: Successfully opened CloudHub ObjectStore
[2019-01-30 12:24:32.238] INFO    com.mulesoft.ch.objectstore.ObjectStoreImpl [qtp1232112403-35]: Successfully opened CloudHub ObjectStore
[2019-01-30 12:24:32.287] INFO    org.mule.module.http.internal.listener.DefaultHttpListenerConfig [qtp1232112403-35]: Listening for requests on https://0.0.0.0:8082
[2019-01-30 12:24:32.298] INFO    org.mule.transport.email.GmailSmtpConnector [qtp1232112403-35]: Connected: GmailSmtpConnector
{
  name=Gmail
  lifecycle=initialise
  this=5f58bbf7
  numberOfConcurrentTransactedReceivers=4
  createMultipleTransactedReceivers=true
  connected=true
  supportedProtocols=[smtp]
  serviceOverrides=<none>
}

[2019-01-30 12:24:32.307] INFO    org.mule.transport.email.GmailSmtpConnector [qtp1232112403-35]: Starting: GmailSmtpConnector
{
  name=Gmail
  lifecycle=initialise
  this=5f58bbf7
  numberOfConcurrentTransactedReceivers=4
  createMultipleTransactedReceivers=true
  connected=true
  supportedProtocols=[smtp]
  serviceOverrides=<none>
}

[2019-01-30 12:24:32.308] INFO    org.mule.lifecycle.AbstractLifecycleManager [qtp1232112403-35]: Starting connector: Gmail
[2019-01-30 12:24:32.310] INFO    org.mule.transport.vm.VMConnector [qtp1232112403-35]: Connected: VMConnector
{
  name=connector.VM.mule.default
  lifecycle=initialise
  this=b0e30b4
  numberOfConcurrentTransactedReceivers=4
  createMultipleTransactedReceivers=true
  connected=true
  supportedProtocols=[vm]
  serviceOverrides=<none>
}

[2019-01-30 12:24:32.310] INFO    org.mule.transport.vm.VMConnector [qtp1232112403-35]: Starting: VMConnector
{
  name=connector.VM.mule.default
  lifecycle=initialise
  this=b0e30b4
  numberOfConcurrentTransactedReceivers=4
  createMultipleTransactedReceivers=true
  connected=true
  supportedProtocols=[vm]
  serviceOverrides=<none>
}

[2019-01-30 12:24:32.310] INFO    org.mule.lifecycle.AbstractLifecycleManager [qtp1232112403-35]: Starting connector: connector.VM.mule.default
[2019-01-30 12:24:32.332] INFO    org.mule.modules.security.placeholder.agents.DefaultSplashScreenAgent [qtp1232112403-35]: 
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+ DevKit Extensions (1) used in this application                               +
+ Cloudhub 2.0.2 (DevKit 3.9.0 Build UNNAMED.2793.f49b6c7)+                    +
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
[2019-01-30 12:24:32.357] INFO    org.mule.lifecycle.AbstractLifecycleManager [qtp1232112403-35]: Starting model: _muleSystemModel
[2019-01-30 12:24:32.365] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Starting flow: LogtoDB-File-JMS
[2019-01-30 12:24:32.365] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: LogtoDB-File-JMS.stage1
[2019-01-30 12:24:32.374] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.639972258
[2019-01-30 12:24:32.374] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.2026535366
[2019-01-30 12:24:32.374] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.1625275745
[2019-01-30 12:24:32.384] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.1061689566
[2019-01-30 12:24:32.392] INFO    com.mulesoft.agent.configuration.postconfigure.DefaultPostConfigureRunner [qtp1232112403-35]: Initializing the flow.status.notification.internal.message.handler ...
[2019-01-30 12:24:32.395] INFO    com.mulesoft.agent.configuration.postconfigure.DefaultPostConfigureRunner [qtp1232112403-35]: flow.status.notification.internal.message.handler initialized successfully.
[2019-01-30 12:24:32.396] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Starting flow: bb-viator-api-flow-get-tp-name
[2019-01-30 12:24:32.396] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-get-tp-name.stage1
[2019-01-30 12:24:32.402] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Starting flow: api-main
[2019-01-30 12:24:32.402] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: api-main.1
[2019-01-30 12:24:32.408] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.188488487
[2019-01-30 12:24:32.408] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: api-main.2
[2019-01-30 12:24:32.413] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: api-main.3
[2019-01-30 12:24:32.419] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.194398182
[2019-01-30 12:24:32.420] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: api-main.4
[2019-01-30 12:24:32.426] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: api-main.5
[2019-01-30 12:24:32.428] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: api-main.6
[2019-01-30 12:24:32.434] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: api-main.stage1
[2019-01-30 12:24:32.507] INFO    org.mule.module.apikit.Configuration [qtp1232112403-35]: 
********************************************************************************
* APIKit Console URL:                                                          *
* https://bb-viator-api-v1-t.ir-e1.cloudhub.io/api/1/console                   *
********************************************************************************
[2019-01-30 12:24:32.507] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Starting flow: post:/products:application/json:api-config
[2019-01-30 12:24:32.507] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products:application/json:api-config.1
[2019-01-30 12:24:32.515] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.2137387413
[2019-01-30 12:24:32.515] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products:application/json:api-config.2
[2019-01-30 12:24:32.523] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products:application/json:api-config.3
[2019-01-30 12:24:32.525] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.2085943805
[2019-01-30 12:24:32.525] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products:application/json:api-config.4
[2019-01-30 12:24:32.528] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products:application/json:api-config.5
[2019-01-30 12:24:32.537] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products:application/json:api-config.6
[2019-01-30 12:24:32.539] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products:application/json:api-config.stage1
[2019-01-30 12:24:32.541] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Starting flow: post:/products/availability:application/json:api-config
[2019-01-30 12:24:32.542] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products/availability:application/json:api-config.1
[2019-01-30 12:24:32.546] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.115057313
[2019-01-30 12:24:32.550] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products/availability:application/json:api-config.2
[2019-01-30 12:24:32.553] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products/availability:application/json:api-config.3
[2019-01-30 12:24:32.556] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.1034843888
[2019-01-30 12:24:32.557] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products/availability:application/json:api-config.4
[2019-01-30 12:24:32.561] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products/availability:application/json:api-config.5
[2019-01-30 12:24:32.562] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products/availability:application/json:api-config.6
[2019-01-30 12:24:32.571] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/products/availability:application/json:api-config.stage1
[2019-01-30 12:24:32.574] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Starting flow: post:/bookings:application/json:api-config
[2019-01-30 12:24:32.574] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings:application/json:api-config.1
[2019-01-30 12:24:32.576] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.1278699744
[2019-01-30 12:24:32.576] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings:application/json:api-config.2
[2019-01-30 12:24:32.578] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings:application/json:api-config.3
[2019-01-30 12:24:32.587] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.1759497063
[2019-01-30 12:24:32.587] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings:application/json:api-config.4
[2019-01-30 12:24:32.590] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings:application/json:api-config.5
[2019-01-30 12:24:32.591] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings:application/json:api-config.6
[2019-01-30 12:24:32.603] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings:application/json:api-config.stage1
[2019-01-30 12:24:32.609] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Starting flow: post:/bookings/cancel:application/json:api-config
[2019-01-30 12:24:32.609] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings/cancel:application/json:api-config.1
[2019-01-30 12:24:32.611] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.771048457
[2019-01-30 12:24:32.611] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings/cancel:application/json:api-config.2
[2019-01-30 12:24:32.615] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings/cancel:application/json:api-config.3
[2019-01-30 12:24:32.620] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.1642167207
[2019-01-30 12:24:32.620] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings/cancel:application/json:api-config.4
[2019-01-30 12:24:32.622] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings/cancel:application/json:api-config.5
[2019-01-30 12:24:32.628] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings/cancel:application/json:api-config.6
[2019-01-30 12:24:32.630] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: post:/bookings/cancel:application/json:api-config.stage1
[2019-01-30 12:24:32.631] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Starting flow: bb-viator-api-flow-availability
[2019-01-30 12:24:32.631] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-availability.1
[2019-01-30 12:24:32.635] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-availability.2
[2019-01-30 12:24:32.639] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-availability.3
[2019-01-30 12:24:32.640] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-availability.4
[2019-01-30 12:24:32.642] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-availability.stage1
[2019-01-30 12:24:32.646] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-availability.5
[2019-01-30 12:24:32.647] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-availability.6
[2019-01-30 12:24:32.648] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.1026517680
[2019-01-30 12:24:32.649] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-availability.7
[2019-01-30 12:24:32.650] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Starting flow: bb-viator-api-flow-tourlist
[2019-01-30 12:24:32.650] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-tourlist.1
[2019-01-30 12:24:32.652] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-tourlist.2
[2019-01-30 12:24:32.653] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-tourlist.stage1
[2019-01-30 12:24:32.655] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-tourlist.3
[2019-01-30 12:24:32.656] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-tourlist.4
[2019-01-30 12:24:32.661] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-tourlist.5
[2019-01-30 12:24:32.662] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-tourlist.6
[2019-01-30 12:24:32.663] INFO    org.mule.component.ComponentLifecycleManager [qtp1232112403-35]: Starting component: component.15848688
[2019-01-30 12:24:32.663] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-tourlist.7
[2019-01-30 12:24:32.665] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Starting flow: bb-viator-api-flow-bookings-cancellation
[2019-01-30 12:24:32.665] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-bookings-cancellation.1
[2019-01-30 12:24:32.666] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-bookings-cancellation.2
[2019-01-30 12:24:32.668] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-bookings-cancellation.stage1
[2019-01-30 12:24:32.673] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-bookings-cancellation.3
[2019-01-30 12:24:32.674] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-bookings-cancellation.4
[2019-01-30 12:24:32.675] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-bookings-cancellation.5
[2019-01-30 12:24:32.677] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-bookings-cancellation.6
[2019-01-30 12:24:32.680] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-bookings-cancellation.7
[2019-01-30 12:24:32.694] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-bookings-cancellation.8
[2019-01-30 12:24:32.697] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Starting flow: bb-viator-api-flow-booking
[2019-01-30 12:24:32.697] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-booking.1
[2019-01-30 12:24:32.701] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-booking.2
[2019-01-30 12:24:32.703] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-booking.stage1
[2019-01-30 12:24:32.710] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-booking.3
[2019-01-30 12:24:32.712] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-booking.4
[2019-01-30 12:24:32.713] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-booking.5
[2019-01-30 12:24:32.716] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-booking.6
[2019-01-30 12:24:32.717] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-booking.7
[2019-01-30 12:24:32.719] INFO    org.mule.processor.SedaStageLifecycleManager [qtp1232112403-35]: Starting service: bb-viator-api-flow-booking.8
[2019-01-30 12:24:32.965] INFO    org.mule.module.http.internal.listener.DefaultHttpListenerConfig [qtp1232112403-35]: Listening for requests on http://0.0.0.0:7557
[2019-01-30 12:24:32.967] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Initialising flow: ____ping____flow_____1257073027
[2019-01-30 12:24:32.968] INFO    org.mule.exception.DefaultMessagingExceptionStrategy [qtp1232112403-35]: Initialising exception listener: org.mule.exception.DefaultMessagingExceptionStrategy@49f27872
[2019-01-30 12:24:32.984] INFO    org.mule.construct.FlowConstructLifecycleManager [qtp1232112403-35]: Starting flow: ____ping____flow_____1257073027
[2019-01-30 12:24:33.001] INFO    org.mule.transport.vm.VMConnector [qtp1232112403-35]: Registering listener: LogtoDB-File-JMS on endpointUri: vm://BB_Logging_VM
[2019-01-30 12:24:33.030] INFO    org.mule.lifecycle.AbstractLifecycleManager [qtp1232112403-35]: Initialising: 'null'. Object is: VMMessageReceiver
[2019-01-30 12:24:33.036] INFO    org.mule.transport.vm.VMMessageReceiver [qtp1232112403-35]: Connecting clusterizable message receiver
[2019-01-30 12:24:33.041] INFO    org.mule.lifecycle.AbstractLifecycleManager [qtp1232112403-35]: Starting: 'null'. Object is: VMMessageReceiver
[2019-01-30 12:24:33.041] INFO    org.mule.transport.vm.VMMessageReceiver [qtp1232112403-35]: Starting clusterizable message receiver
[2019-01-30 12:24:33.077] INFO    org.mule.module.management.agent.WrapperManagerAgent [qtp1232112403-35]: Mule is embedded in a container already launched by a wrapper.Duplicates will not be registered. Use the org.tanukisoftware.wrapper:type=WrapperManager MBean instead for control.
[2019-01-30 12:24:33.143] INFO    org.mule.module.management.agent.AbstractJmxAgent [qtp1232112403-35]: Attempting to register service with name: Mule.bb-viator-api-v1-t:type=Endpoint,service="LogtoDB-File-JMS",connector=connector.VM.mule.default,name="endpoint.vm.BB.Logging.VM"
[2019-01-30 12:24:33.143] INFO    org.mule.module.management.agent.AbstractJmxAgent [qtp1232112403-35]: Registered Endpoint Service with name: Mule.bb-viator-api-v1-t:type=Endpoint,service="LogtoDB-File-JMS",connector=connector.VM.mule.default,name="endpoint.vm.BB.Logging.VM"
[2019-01-30 12:24:33.154] INFO    org.mule.module.management.agent.AbstractJmxAgent [qtp1232112403-35]: Registered Connector Service with name Mule.bb-viator-api-v1-t:type=Connector,name="Gmail"
[2019-01-30 12:24:33.154] INFO    org.mule.module.management.agent.AbstractJmxAgent [qtp1232112403-35]: Registered Connector Service with name Mule.bb-viator-api-v1-t:type=Connector,name="connector.VM.mule.default"
[2019-01-30 12:24:33.165] INFO    org.mule.DefaultMuleContext [qtp1232112403-35]: 
**********************************************************************
* Application: bb-viator-api-v1-t                                    *
* OS encoding: /, Mule encoding: UTF-8                               *
*                                                                    *
* Agents Running:                                                    *
*   DevKit Extension Information                                     *
*   Batch module default engine                                      *
*   JMX Agent                                                        *
*   Wrapper Manager                                                  *
**********************************************************************
[2019-01-30 12:24:33.908] INFO    com.mulesoft.module.policies.lifecyle.GateKeeper [agw-policy-polling.01]: API API {name='BigBusTours-Viator-API-Portal-Test', version='2.0:15623602'} is now unblocked (available).
[2019-01-30 12:24:42.163] INFO    com.mulesoft.agent.configuration.postconfigure.DefaultPostConfigureRunner [Timer-5]: Initializing the mule.agent.appviz.heartbeat.notification.handler ...
[2019-01-30 12:24:42.163] INFO    com.mulesoft.agent.configuration.postconfigure.DefaultPostConfigureRunner [Timer-5]: mule.agent.appviz.heartbeat.notification.handler initialized successfully.
[2019-01-31 13:01:35.021] INFO    org.mule.module.http.internal.listener.HttpListenerRegistry [[bb-viator-api-v1-t].api-httpListenerConfig.worker.01]: No listener found for request: (GET)/admin/assets/js/views/login.js
[2019-01-31 13:01:35.022] INFO    org.mule.module.http.internal.listener.HttpListenerRegistry [[bb-viator-api-v1-t].api-httpListenerConfig.worker.01]: Available listeners are: [(*)/api/1/*]
[2019-01-31 15:17:15.529] WARN    com.mulesoft.analytics.AnalyticsConnectorMessageNotificationListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.01]: Error collecting analytics for api 133730108 and uri https://bb-viator-api-v1-t.ir-e1.cloudhub.io/api/1/console/. Analytics event is dropped.
[2019-01-31 15:17:15.851] WARN    com.mulesoft.analytics.AnalyticsConnectorMessageNotificationListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.01]: Error collecting analytics for api 133730108 and uri https://bb-viator-api-v1-t.ir-e1.cloudhub.io/api/1/console/styles/api-console-light-theme.css. Analytics event is dropped.
[2019-01-31 15:17:15.897] WARN    com.mulesoft.analytics.AnalyticsConnectorMessageNotificationListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Error collecting analytics for api 133730108 and uri https://bb-viator-api-v1-t.ir-e1.cloudhub.io/api/1/console/scripts/api-console-vendor.min.js. Analytics event is dropped.
[2019-01-31 15:17:16.030] WARN    com.mulesoft.analytics.AnalyticsConnectorMessageNotificationListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Error collecting analytics for api 133730108 and uri https://bb-viator-api-v1-t.ir-e1.cloudhub.io/api/1/console/scripts/api-console.min.js. Analytics event is dropped.
[2019-01-31 15:17:17.275] WARN    com.mulesoft.analytics.AnalyticsConnectorMessageNotificationListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.01]: Error collecting analytics for api 133730108 and uri https://bb-viator-api-v1-t.ir-e1.cloudhub.io/api/1/console/fonts/Lato-Regular2.woff2. Analytics event is dropped.
[2019-01-31 15:17:18.422] WARN    com.mulesoft.analytics.AnalyticsConnectorMessageNotificationListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Error collecting analytics for api 133730108 and uri https://bb-viator-api-v1-t.ir-e1.cloudhub.io/api/1/console/. Analytics event is dropped.
[2019-01-31 15:17:18.939] INFO    org.mule.module.http.internal.listener.HttpListenerRegistry [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: No listener found for request: (GET)/favicon.ico
[2019-01-31 15:17:18.939] INFO    org.mule.module.http.internal.listener.HttpListenerRegistry [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Available listeners are: [(*)/api/1/*]
[2019-01-31 15:17:19.377] WARN    com.mulesoft.analytics.AnalyticsConnectorMessageNotificationListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Error collecting analytics for api 133730108 and uri https://bb-viator-api-v1-t.ir-e1.cloudhub.io/api/1/console/fonts/Lato-Bold2.woff2. Analytics event is dropped.
[2019-01-31 15:17:33.690] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-availability.5.02]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-availability, Request Id: ff63e692-6b37-4284-92d9-3763f03136ce, Message Id: 5531db90-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
	  "requestType": "AvailabilityRequest",
	  "data": {
		"ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
		"ResellerId": "1000",
		"SupplierId": "1004",
		"ExternalReference": "10051374722992616",
		"Timestamp": "2018-01-21 18:34:24",
		"StartDate": "2019-07-01",
		"EndDate": "2019-07-10",
		"DeltaOnly": false,
		"SupplierProductCode": "14488",

		"TravellerMix": {
		  "Adult": "1",
		  "Child": "1",
		  "Youth": "0",
		  "Infant": "0",
		  "Senior": "0",
		  "Total": "2"
		}
	  }
	}
[2019-01-31 15:17:34.009] INFO    org.mule.lifecycle.AbstractLifecycleManager [[bb-viator-api-v1-t].connector.VM.mule.default.dispatcher.01]: Initialising: 'connector.VM.mule.default.dispatcher.1634777761'. Object is: VMMessageDispatcher
[2019-01-31 15:17:34.009] INFO    org.mule.lifecycle.AbstractLifecycleManager [[bb-viator-api-v1-t].connector.VM.mule.default.dispatcher.01]: Starting: 'connector.VM.mule.default.dispatcher.1634777761'. Object is: VMMessageDispatcher
[2019-01-31 15:17:34.133] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:17:34.158] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:5531db90-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null {
	  "requestType": "AvailabilityRequest",
	  "data": {
		"ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
		"ResellerId": "1000",
		"SupplierId": "1004",
		"ExternalReference": "10051374722992616",
		"Timestamp": "2018-01-21 18:34:24",
		"StartDate": "2019-07-01",
		"EndDate": "2019-07-10",
		"DeltaOnly": false,
		"SupplierProductCode": "14488",

		"TravellerMix": {
		  "Adult": "1",
		  "Child": "1",
		  "Youth": "0",
		  "Infant": "0",
		  "Senior": "0",
		  "Total": "2"
		}
	  }
	}
[2019-01-31 15:17:35.180] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:17:35.180] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:17:35.180] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:17:35.183] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('ff63e692-6b37-4284-92d9-3763f03136ce','5531db90-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-01-31 15:17:33.912 [bb-viator-api-v1-t].bb-viator-api-flow-availability.5.02','{
	  "requestType": "AvailabilityRequest",
	  "data": {
		"ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
		"ResellerId": "1000",
		"SupplierId": "1004",
		"ExternalReference": "10051374722992616",
		"Timestamp": "2018-01-21 18:34:24",
		"StartDate": "2019-07-01",
		"EndDate": "2019-07-10",
		"DeltaOnly": false,
		"SupplierProductCode": "14488",

		"TravellerMix": {
		  "Adult": "1",
		  "Child": "1",
		  "Youth": "0",
		  "Infant": "0",
		  "Senior": "0",
		  "Total": "2"
		}
	  }
	}',CURRENT_TIMESTAMP,'2019-01-31 15:17:33.883','1')
[2019-01-31 15:17:35.831] ERROR   std-err [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Loading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.
[2019-01-31 15:17:36.295] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-availability.6.02]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-availability, Request Id: ff63e692-6b37-4284-92d9-3763f03136ce, Message Id: 5531db90-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=Civitatis, tp_default_vacancies=100, id=6}]
[2019-01-31 15:17:36.309] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:17:36.310] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:5531db90-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null [{tp_name=Civitatis, tp_default_vacancies=100, id=6}]
[2019-01-31 15:17:36.323] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:17:36.323] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:17:36.323] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:17:36.329] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('ff63e692-6b37-4284-92d9-3763f03136ce','5531db90-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-01-31 15:17:36.299 [bb-viator-api-v1-t].bb-viator-api-flow-availability.6.02','[{tp_name=Civitatis, tp_default_vacancies=100, id=6}]',CURRENT_TIMESTAMP,'2019-01-31 15:17:36.299','1')
[2019-01-31 15:17:36.681] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: productId: 14488
[2019-01-31 15:17:36.682] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: fromDate: 2019-07-01
[2019-01-31 15:17:36.682] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: toDate: 2019-07-10
[2019-01-31 15:17:36.683] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: blackOutDates: {14488=,}
[2019-01-31 15:17:36.684] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: strDateTime:2019-07-01
[2019-01-31 15:17:36.689] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: cal.getTime():Thu Jan 31 00:00:00 UTC 2019
[2019-01-31 15:17:36.689] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: sdf.parse:1
[2019-01-31 15:17:36.690] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: strDateTime:2019-07-10
[2019-01-31 15:17:36.690] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: cal.getTime():Thu Jan 31 00:00:00 UTC 2019
[2019-01-31 15:17:36.690] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: sdf.parse:1
[2019-01-31 15:17:36.694] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: fromDate is before toDate
[2019-01-31 15:17:36.695] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: requested duration : 9
[2019-01-31 15:17:36.729] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-availability.7.02]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-availability, Request Id: ff63e692-6b37-4284-92d9-3763f03136ce, Message Id: 5531db90-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"responseType":"AvailabilityResponse","data":{"ApiKey":"aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722992616","Timestamp":"2019-01-31T15:17:36.696Z","RequestStatus":{"Status":"SUCCESS"},"SupplierProductCode":"14488","TourAvailability":[{"Date":"2019-07-01","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-02","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-03","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-04","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-05","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-06","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-07","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-08","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-09","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-10","AvailabilityStatus":{"Status":"AVAILABLE"}}]}}
[2019-01-31 15:17:36.736] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:17:36.736] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:5531db90-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null {"responseType":"AvailabilityResponse","data":{"ApiKey":"aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722992616","Timestamp":"2019-01-31T15:17:36.696Z","RequestStatus":{"Status":"SUCCESS"},"SupplierProductCode":"14488","TourAvailability":[{"Date":"2019-07-01","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-02","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-03","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-04","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-05","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-06","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-07","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-08","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-09","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-10","AvailabilityStatus":{"Status":"AVAILABLE"}}]}}
[2019-01-31 15:17:36.752] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:17:36.753] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:17:36.753] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:17:36.753] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('ff63e692-6b37-4284-92d9-3763f03136ce','5531db90-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-01-31 15:17:36.731 [bb-viator-api-v1-t].bb-viator-api-flow-availability.7.02','{"responseType":"AvailabilityResponse","data":{"ApiKey":"aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722992616","Timestamp":"2019-01-31T15:17:36.696Z","RequestStatus":{"Status":"SUCCESS"},"SupplierProductCode":"14488","TourAvailability":[{"Date":"2019-07-01","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-02","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-03","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-04","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-05","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-06","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-07","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-08","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-09","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-07-10","AvailabilityStatus":{"Status":"AVAILABLE"}}]}}',CURRENT_TIMESTAMP,'2019-01-31 15:17:36.731','1')
[2019-01-31 15:17:49.328] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.3.02]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: 58f32f15-2adb-4cb1-a5a4-ec1f4c6b19af, Message Id: 5ebec600-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "requestType": "TourListRequest",
  "data": {
    "ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
    "ResellerId": "1000",
    "SupplierId": "1004",
    "ExternalReference": "10051374722994001",
    "Timestamp": "2018-01-21 18:20:49",
    "Extension": {
      "any": {}
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ]
  }
}
[2019-01-31 15:17:49.342] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:17:49.342] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:5ebec600-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null {
  "requestType": "TourListRequest",
  "data": {
    "ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
    "ResellerId": "1000",
    "SupplierId": "1004",
    "ExternalReference": "10051374722994001",
    "Timestamp": "2018-01-21 18:20:49",
    "Extension": {
      "any": {}
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ]
  }
}
[2019-01-31 15:17:49.357] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:17:49.357] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:17:49.357] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:17:49.358] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('58f32f15-2adb-4cb1-a5a4-ec1f4c6b19af','5ebec600-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-01-31 15:17:49.333 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.3.02','{
  "requestType": "TourListRequest",
  "data": {
    "ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
    "ResellerId": "1000",
    "SupplierId": "1004",
    "ExternalReference": "10051374722994001",
    "Timestamp": "2018-01-21 18:20:49",
    "Extension": {
      "any": {}
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ]
  }
}',CURRENT_TIMESTAMP,'2019-01-31 15:17:49.333','1')
[2019-01-31 15:17:49.363] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.4.02]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: 58f32f15-2adb-4cb1-a5a4-ec1f4c6b19af, Message Id: 5ebec600-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=Civitatis, tp_default_vacancies=100, id=6}]
[2019-01-31 15:17:49.376] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:17:49.377] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:5ebec600-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null [{tp_name=Civitatis, tp_default_vacancies=100, id=6}]
[2019-01-31 15:17:49.389] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:17:49.390] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:17:49.390] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:17:49.390] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('58f32f15-2adb-4cb1-a5a4-ec1f4c6b19af','5ebec600-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-01-31 15:17:49.368 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.4.02','[{tp_name=Civitatis, tp_default_vacancies=100, id=6}]',CURRENT_TIMESTAMP,'2019-01-31 15:17:49.368','1')
[2019-01-31 15:17:49.590] WARN    org.mule.processor.AsyncDelegateMessageProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Using 'async' router with consumable payload (com.mulesoft.weave.reader.ByteArraySeekableStream) may lead to unexpected results. Please ensure that only one of the branches actually consumes the payload, or transform it by using an <object-to-byte-array-transformer>.
[2019-01-31 15:17:49.619] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.5.02]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: 58f32f15-2adb-4cb1-a5a4-ec1f4c6b19af, Message Id: 5ebec600-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "countryCodeFilter": "null",
  "tradePartnerName": "Civitatis"
}
[2019-01-31 15:17:49.634] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:17:49.635] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:5ebec600-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null {
  "countryCodeFilter": "null",
  "tradePartnerName": "Civitatis"
}
[2019-01-31 15:17:49.655] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:17:49.655] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:17:49.656] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:17:49.656] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('58f32f15-2adb-4cb1-a5a4-ec1f4c6b19af','5ebec600-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-01-31 15:17:49.629 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.5.02','{
  "countryCodeFilter": "null",
  "tradePartnerName": "Civitatis"
}',CURRENT_TIMESTAMP,'2019-01-31 15:17:49.628','1')
[2019-01-31 15:17:56.381] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.6.02]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: 58f32f15-2adb-4cb1-a5a4-ec1f4c6b19af, Message Id: 5ebec600-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"status":"SUCCESS","code":null,"message":null,"productResult":{"countries":[{"id":null,"name":"USA","code":"USA","cities":[{"id":null,"name":"USA -8 hours","branches":[{"id":"5","name":"UAT-San Francisco","products":[{"id":"54493","name":"Classic Tour SAN FRANCISCO","description":null,"printName":"Classic Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for One Day Hop-on Hop-Tour and Walking Tours. Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"36.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"46.8","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54495","name":"Deluxe Tour SAN FRANCISCO","description":null,"printName":"Deluxe Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for Two Day Hop-on Hop-Tour, Walking Tours & Night Tour (Except May 24th 2017). Tour operates rain or shine. All sales are final. No refunds or exchange...
[2019-01-31 15:17:56.400] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:17:56.404] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:5ebec600-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null {"status":"SUCCESS","code":null,"message":null,"productResult":{"countries":[{"id":null,"name":"USA","code":"USA","cities":[{"id":null,"name":"USA -8 hours","branches":[{"id":"5","name":"UAT-San Francisco","products":[{"id":"54493","name":"Classic Tour SAN FRANCISCO","description":null,"printName":"Classic Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for One Day Hop-on Hop-Tour and Walking Tours. Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"36.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"46.8","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54495","name":"Deluxe Tour SAN FRANCISCO","description":null,"printName":"Deluxe Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for Two Day Hop-on Hop-Tour, Walking Tours & Night Tour (Except May 24th 2017). Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"67.5","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"54.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54496","name":"Night Tour SAN FRANCISCO","description":null,"printName":"Night Tour ","printText":"Daily at 6:30pm, 7:00pm & (7:30pm April - October) Arrive 30 minutes prior to desired tour time as seats are first come first serve. Tour operates rain or shine. All sales are final. No refunds of exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"18:30","toTime":"21:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"18:30","toTime":"21:00"},{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"18:30","toTime":"21:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"27.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"18.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54494","name":"Premium Tour SAN FRANCISCO","description":null,"printName":"Premium Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for One Day Hop-on Hop-Tour & Walking Tours . Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"46.8","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"58.5","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"7","name":"UAT-Las Vegas","products":[{"id":"74505","name":"Deluxe Tour LAS VEGAS","description":null,"printName":"Deluxe","printText":"Valid for 3 days hop on hop off 10 am to 6 pm daily. If purchased or redeemed after 3 PM,this ticket is valid until the same time 3 days from now. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"67.5","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"53.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74506","name":"Night Tour LAS VEGAS","description":null,"printName":"Panoramic Night Tour","printText":"Must be used within 24 hours after purchase. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"19:00","toTime":"10:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"35.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"45.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74503","name":"Classic Tour LAS VEGAS","description":null,"printName":"Classic","printText":"Valid for one day hop on hop off tour 10 am to 6 pm daily. THIS TICKET INCLUDES STATE PASSENGER TAX.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"44.1","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"35.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74504","name":"Premium Tour LAS VEGAS","description":null,"printName":"Premium","printText":"Valid for 2 days  hop on hop off 10 am to 6 pm daily. If purchased or redeemed after 3 PM,this ticket is valid until the same time 2 days from now. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"53.1","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"44.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]},{"id":null,"name":"USA -5 hours","branches":[{"id":"2","name":"UAT-New York","products":[{"id":"24659","name":"Night Tour NEW YORK","description":null,"printName":"Night Tour ","printText":"Valid for a single Night Tour. Departs from Stop#18- M&M World from 7pm to 9pm every 30min. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"18:00","toTime":"20:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"19:00","toTime":"21:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"19:00","toTime":"21:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"18:00","toTime":"20:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"18:00","toTime":"20:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"35.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"44.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24490","name":"Classic Tour NEW YORK","description":null,"printName":"Classic","printText":"If purchased or redeemed after 3pm this ticket is valid until the same time the next day. This ticket is valid on the Downtown and Uptown Loops. Last departure for Uptown and Downtown is at 5pm. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"44.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"53.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24511","name":"Deluxe Tour NEW YORK","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 days. If purchased or redeemed after 3PM, this ticket is valid until the same time 2 days from now. This ticket is valid on the Uptown, Downtown, Harlem, Brooklyn Loops and Night Tours as well as a Sightseeing Cruise. Last depature for the Uptown and Downtown  is at 5PM. Last depature for the Brooklyn and Harlem Loop is 3PM. Want more? Please ask an agent about upgrades.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"62.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"80.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24491","name":"Premium Tour NEW YORK","description":null,"printName":"2 Day Premium","printText":"Valid for 2 Days. If purchased or redeemed after 3pm this ticket is valid until the same time 2 days from now.This ticket is valid on the Downtown, Midtown, Uptown and the Brooklyn Tours. . Last departure for Uptown and Downtown is at 5pm. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"53.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"62.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"4","name":"UAT-Washington DC","products":[{"id":"44569","name":"Panoramic Night Tour WASHINGTON DC","description":null,"printName":"Panoramic Night Tour ","printText":"Valid for one Night Tour. See current brochure for departure time.\n","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-12","fromTime":"18:30","toTime":"20:30"},{"startPeriod":"Mar-13","endPeriod":"May-25","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"May-26","endPeriod":"Sep-04","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Sep-05","endPeriod":"Dec-31","fromTime":"18:30","toTime":"20:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"26.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"35.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"44567","name":"Premium Tour WASHINGTON DC","description":null,"printName":"Premium Tour ","printText":"Valid for 1 day on all Loops","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"26.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"44.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"44568","name":"Deluxe Tour WASHINGTON DC","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 days on all Loops","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-12","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"Mar-13","endPeriod":"May-25","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"May-26","endPeriod":"Sep-04","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Sep-05","endPeriod":"Dec-31","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"62.1","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"44.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"6","name":"UAT-Miami","products":[{"id":"64657","name":"Deluxe Tour MIAMI","description":null,"printName":"Deluxe Tour ","printText":"2 Days all Loops Tour, Biscayne Boat and Night Tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"71.1","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"57.6","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64658","name":"Night Tour MIAMI","description":null,"printName":"Night Tour","printText":"Departs from Senor frogs at 7:30pm and Central Station 8:00pm.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"19:30","toTime":"21:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"26.1","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"17.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64570","name":"Classic Tour MIAMI","description":null,"printName":"Classic Tour ","printText":"1 Day all loops tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"39.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64571","name":"Premium Tour MIAMI","description":null,"printName":"Premium Tour ","printText":"1 Day All Loops Tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"53.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"62.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]},{"id":null,"name":"USA -6 hours","branches":[{"id":"15","name":"UAT-Chicago","products":[{"id":"154565","name":"Premium Tour CHICAGO","description":null,"printName":"Premium Tour ","printText":"Valid for 2 day on the date of purchase.If purchased after 3 PM this ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of our staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"27.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"49.5","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154656","name":"Night Tour CHICAGO","description":null,"printName":"Night Tour ","printText":"Live Guided, Panoramic, Non-Stop Night Tour of Chicago. Departs from Navy Pier (stop 11) Nightly at 7.00pm","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"19:45","toTime":"22:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"19:45","toTime":"22:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"26.1","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"13.5","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154564","name":"Classic Tour CHICAGO","description":null,"printName":"Classic Tour ","printText":"Valid for one day on the date of purchase.If purchase after 3PM,ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of the staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"40.5","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"22.5","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154655","name":"Deluxe Tour CHICAGO","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 day on the date of purchase.If purchased after 3 PM this ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of our staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"31.5","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"58.5","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]}]},{"id":null,"name":" Europe","code":"EUR","cities":[{"id":null,"name":"Europe Time Zone","branches":[{"id":"16","name":"UAT-Rome","products":[{"id":"164498","name":"Premium Tour ROME","description":null,"printName":"Premium Tour ","printText":"Valid for 2 consecutive days on City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00 Enjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"35.1","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"22.5","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"164497","name":"Classic Tour ROME","description":null,"printName":"Classic Tour ","printText":"City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00.Enjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"28.8","currencyCode":"EUR"},{"amount":"28.8","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"28.8","currencyCode":"EUR"},{"amount":"28.8","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"164499","name":"Deluxe Tour ROME","description":null,"printName":"Deluxe Tour ","printText":"Valid for 3 consecutive days on City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00\nEnjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"29.7","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"43.2","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"3","name":"UAT-Paris","products":[{"id":"34664","name":"Deluxe Tour PARIS","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 consecutive days","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"21.6","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"43.2","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34665","name":"Night Tour PARIS","description":null,"printName":"Night Tour ","printText":"Panoramic Night Tour- Valid for 1 Tour  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"21:15","toTime":"23:15"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"20:15","toTime":"22:15"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"21:15","toTime":"23:15"},{"startPeriod":"Jan-05","endPeriod":"Mar-26","fromTime":"20:15","toTime":"22:15"},{"startPeriod":"Mar-26","endPeriod":"Oct-29","fromTime":"21:15","toTime":"23:15"}],"category":[{"categoryName":"Child","prices":[{"amount":"10.8","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"20.7","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34500","name":"Classic Tour PARIS","description":null,"printName":"Classic Tour ","printText":"Valid 1 Day ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"15.3","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"31.5","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34501","name":"Premium Tour PARIS","description":null,"printName":"Premium Tour ","printText":"Valid for 2 consecutive days","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"35.1","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"18.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"8","name":"UAT-Vienna","products":[{"id":"84572","name":"Classic Tour VIENNA","description":null,"printName":"Classic Tour","printText":"Valid for 24 hours, All Routes & City walk. Enjoy your time in Vienna. incl. 10% VAT.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"17.1","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"25.2","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84661","name":"Deluxe Tour VIENNA","description":null,"printName":"Deluxe Tour ","printText":"Valid for 48 hours + 3rd Day FREE. All Routes, river cruise, City walk & Night Tour. Enjoy your time in Vienna. incl. 10% VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"44.1","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"28.8","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84663","name":"Night Tour VIENNA","description":null,"printName":"Night Tour ","printText":"Tour starts from stop 1 \"Opera\". Enjoy your time in Vienna. incl. 10 % VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Apr-01","endPeriod":"Sep-30","fromTime":"19:30","toTime":"20:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"15.3","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"10.8","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84573","name":"Premium Tour VIENNA","description":null,"printName":"Premium Tour ","printText":"Valid for 48 hours + 3rd Day FREE. All Routes, City walk & Night Tour. Enjoy your time in Vienna. incl. 10 % VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"19.8","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"30.6","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"9","name":"UAT-Budapest","products":[{"id":"94897","name":"Night Tour BUDAPEST","description":null,"printName":"Night Tour BUDAPEST","printText":"Valid on one Night Tour starting at 19:30pm at the bus stop no.15. Not valid for Day Tour or Hop On Hop Off","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Mar-15","endPeriod":"Apr-30","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"21:00","toTime":"22:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Jan-01","endPeriod":"Jan-15","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Jan-15","endPeriod":"Mar-14","fromTime":"18:00","toTime":"19:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"4200.0","currencyCode":"HUF"}]},{"categoryName":"Adult","prices":[{"amount":"4200.0","currencyCode":"HUF"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"94866","name":"Deluxe Tour BUDAPEST","description":null,"printName":"Deluxe Tour ","printText":"Valid for 72 Hr on all Big Bus  Budapest Routes, Walking Tour, River Cruise ( Dock 11), Night Tour ( Stop 15) a... [truncated]
[2019-01-31 15:17:56.439] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:17:56.439] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:17:56.439] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:17:56.440] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('58f32f15-2adb-4cb1-a5a4-ec1f4c6b19af','5ebec600-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-01-31 15:17:56.387 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.6.02','{"status":"SUCCESS","code":null,"message":null,"productResult":{"countries":[{"id":null,"name":"USA","code":"USA","cities":[{"id":null,"name":"USA -8 hours","branches":[{"id":"5","name":"UAT-San Francisco","products":[{"id":"54493","name":"Classic Tour SAN FRANCISCO","description":null,"printName":"Classic Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for One Day Hop-on Hop-Tour and Walking Tours. Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"36.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"46.8","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54495","name":"Deluxe Tour SAN FRANCISCO","description":null,"printName":"Deluxe Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for Two Day Hop-on Hop-Tour, Walking Tours & Night Tour (Except May 24th 2017). Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"67.5","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"54.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54496","name":"Night Tour SAN FRANCISCO","description":null,"printName":"Night Tour ","printText":"Daily at 6:30pm, 7:00pm & (7:30pm April - October) Arrive 30 minutes prior to desired tour time as seats are first come first serve. Tour operates rain or shine. All sales are final. No refunds of exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"18:30","toTime":"21:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"18:30","toTime":"21:00"},{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"18:30","toTime":"21:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"27.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"18.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54494","name":"Premium Tour SAN FRANCISCO","description":null,"printName":"Premium Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for One Day Hop-on Hop-Tour & Walking Tours . Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"46.8","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"58.5","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"7","name":"UAT-Las Vegas","products":[{"id":"74505","name":"Deluxe Tour LAS VEGAS","description":null,"printName":"Deluxe","printText":"Valid for 3 days hop on hop off 10 am to 6 pm daily. If purchased or redeemed after 3 PM,this ticket is valid until the same time 3 days from now. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"67.5","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"53.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74506","name":"Night Tour LAS VEGAS","description":null,"printName":"Panoramic Night Tour","printText":"Must be used within 24 hours after purchase. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"19:00","toTime":"10:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"35.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"45.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74503","name":"Classic Tour LAS VEGAS","description":null,"printName":"Classic","printText":"Valid for one day hop on hop off tour 10 am to 6 pm daily. THIS TICKET INCLUDES STATE PASSENGER TAX.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"44.1","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"35.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74504","name":"Premium Tour LAS VEGAS","description":null,"printName":"Premium","printText":"Valid for 2 days  hop on hop off 10 am to 6 pm daily. If purchased or redeemed after 3 PM,this ticket is valid until the same time 2 days from now. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"53.1","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"44.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]},{"id":null,"name":"USA -5 hours","branches":[{"id":"2","name":"UAT-New York","products":[{"id":"24659","name":"Night Tour NEW YORK","description":null,"printName":"Night Tour ","printText":"Valid for a single Night Tour. Departs from Stop#18- M&M World from 7pm to 9pm every 30min. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"18:00","toTime":"20:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"19:00","toTime":"21:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"19:00","toTime":"21:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"18:00","toTime":"20:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"18:00","toTime":"20:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"35.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"44.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24490","name":"Classic Tour NEW YORK","description":null,"printName":"Classic","printText":"If purchased or redeemed after 3pm this ticket is valid until the same time the next day. This ticket is valid on the Downtown and Uptown Loops. Last departure for Uptown and Downtown is at 5pm. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"44.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"53.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24511","name":"Deluxe Tour NEW YORK","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 days. If purchased or redeemed after 3PM, this ticket is valid until the same time 2 days from now. This ticket is valid on the Uptown, Downtown, Harlem, Brooklyn Loops and Night Tours as well as a Sightseeing Cruise. Last depature for the Uptown and Downtown  is at 5PM. Last depature for the Brooklyn and Harlem Loop is 3PM. Want more? Please ask an agent about upgrades.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"62.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"80.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24491","name":"Premium Tour NEW YORK","description":null,"printName":"2 Day Premium","printText":"Valid for 2 Days. If purchased or redeemed after 3pm this ticket is valid until the same time 2 days from now.This ticket is valid on the Downtown, Midtown, Uptown and the Brooklyn Tours. . Last departure for Uptown and Downtown is at 5pm. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"53.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"62.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"4","name":"UAT-Washington DC","products":[{"id":"44569","name":"Panoramic Night Tour WASHINGTON DC","description":null,"printName":"Panoramic Night Tour ","printText":"Valid for one Night Tour. See current brochure for departure time.\n","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-12","fromTime":"18:30","toTime":"20:30"},{"startPeriod":"Mar-13","endPeriod":"May-25","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"May-26","endPeriod":"Sep-04","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Sep-05","endPeriod":"Dec-31","fromTime":"18:30","toTime":"20:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"26.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"35.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"44567","name":"Premium Tour WASHINGTON DC","description":null,"printName":"Premium Tour ","printText":"Valid for 1 day on all Loops","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"26.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"44.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"44568","name":"Deluxe Tour WASHINGTON DC","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 days on all Loops","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-12","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"Mar-13","endPeriod":"May-25","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"May-26","endPeriod":"Sep-04","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Sep-05","endPeriod":"Dec-31","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"62.1","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"44.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"6","name":"UAT-Miami","products":[{"id":"64657","name":"Deluxe Tour MIAMI","description":null,"printName":"Deluxe Tour ","printText":"2 Days all Loops Tour, Biscayne Boat and Night Tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"71.1","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"57.6","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64658","name":"Night Tour MIAMI","description":null,"printName":"Night Tour","printText":"Departs from Senor frogs at 7:30pm and Central Station 8:00pm.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"19:30","toTime":"21:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"26.1","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"17.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64570","name":"Classic Tour MIAMI","description":null,"printName":"Classic Tour ","printText":"1 Day all loops tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"39.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64571","name":"Premium Tour MIAMI","description":null,"printName":"Premium Tour ","printText":"1 Day All Loops Tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"53.1","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"62.1","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]},{"id":null,"name":"USA -6 hours","branches":[{"id":"15","name":"UAT-Chicago","products":[{"id":"154565","name":"Premium Tour CHICAGO","description":null,"printName":"Premium Tour ","printText":"Valid for 2 day on the date of purchase.If purchased after 3 PM this ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of our staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"27.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"49.5","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154656","name":"Night Tour CHICAGO","description":null,"printName":"Night Tour ","printText":"Live Guided, Panoramic, Non-Stop Night Tour of Chicago. Departs from Navy Pier (stop 11) Nightly at 7.00pm","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"19:45","toTime":"22:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"19:45","toTime":"22:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"26.1","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"13.5","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154564","name":"Classic Tour CHICAGO","description":null,"printName":"Classic Tour ","printText":"Valid for one day on the date of purchase.If purchase after 3PM,ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of the staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"40.5","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"22.5","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154655","name":"Deluxe Tour CHICAGO","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 day on the date of purchase.If purchased after 3 PM this ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of our staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"31.5","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"58.5","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]}]},{"id":null,"name":" Europe","code":"EUR","cities":[{"id":null,"name":"Europe Time Zone","branches":[{"id":"16","name":"UAT-Rome","products":[{"id":"164498","name":"Premium Tour ROME","description":null,"printName":"Premium Tour ","printText":"Valid for 2 consecutive days on City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00 Enjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"35.1","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"22.5","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"164497","name":"Classic Tour ROME","description":null,"printName":"Classic Tour ","printText":"City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00.Enjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"28.8","currencyCode":"EUR"},{"amount":"28.8","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"28.8","currencyCode":"EUR"},{"amount":"28.8","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"164499","name":"Deluxe Tour ROME","description":null,"printName":"Deluxe Tour ","printText":"Valid for 3 consecutive days on City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00\nEnjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"29.7","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"43.2","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"3","name":"UAT-Paris","products":[{"id":"34664","name":"Deluxe Tour PARIS","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 consecutive days","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"21.6","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"43.2","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34665","name":"Night Tour PARIS","description":null,"printName":"Night Tour ","printText":"Panoramic Night Tour- Valid for 1 Tour  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"21:15","toTime":"23:15"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"20:15","toTime":"22:15"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"21:15","toTime":"23:15"},{"startPeriod":"Jan-05","endPeriod":"Mar-26","fromTime":"20:15","toTime":"22:15"},{"startPeriod":"Mar-26","endPeriod":"Oct-29","fromTime":"21:15","toTime":"23:15"}],"category":[{"categoryName":"Child","prices":[{"amount":"10.8","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"20.7","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34500","name":"Classic Tour PARIS","description":null,"printName":"Classic Tour ","printText":"Valid 1 Day ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"15.3","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"31.5","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34501","name":"Premium Tour PARIS","description":null,"printName":"Premium Tour ","printText":"Valid for 2 consecutive days","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"35.1","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"18.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"8","name":"UAT-Vienna","products":[{"id":"84572","name":"Classic Tour VIENNA","description":null,"printName":"Classic Tour","printText":"Valid for 24 hours, All Routes & City walk. Enjoy your time in Vienna. incl. 10% VAT.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"17.1","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"25.2","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84661","name":"Deluxe Tour VIENNA","description":null,"printName":"Deluxe Tour ","printText":"Valid for 48 hours + 3rd Day FREE. All Routes, river cruise, City walk & Night Tour. Enjoy your time in Vienna. incl. 10% VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"44.1","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"28.8","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84663","name":"Night Tour VIENNA","description":null,"printName":"Night Tour ","printText":"Tour starts from stop 1 \"Opera\". Enjoy your time in Vienna. incl. 10 % VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Apr-01","endPeriod":"Sep-30","fromTime":"19:30","toTime":"20:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"15.3","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"10.8","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84573","name":"Premium Tour VIENNA","description":null,"printName":"Premium Tour ","printText":"Valid for 48 hours + 3rd Day FREE. All Routes, City walk & Night Tour. Enjoy your time in Vienna. incl. 10 % VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"19.8","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"30.6","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"9","name":"UAT-Budapest","products":[{"id":"94897","name":"Night Tour BUDAPEST","description":null,"printName":"Night Tour BUDAPEST","printText":"Valid on one Night Tour starting at 19:30pm at the bus stop no.15. Not valid for Day Tour or Hop On Hop Off","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Mar-15","endPeriod":"Apr-30","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"21:00","toTime":"22:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Jan-01","endPeriod":"Jan-15","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Jan-15","endPeriod":"Mar-14","fromTime":"18:00","toTime":"19:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"4200.0","currencyCode":"HUF"}]},{"categoryName":"Adult","prices":[{"amount":"4200.0","currencyCode":"HUF"}]}],"supplierID":"BBC","ha... [truncated]
[2019-01-31 15:17:56.849] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.7.02]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: 58f32f15-2adb-4cb1-a5a4-ec1f4c6b19af, Message Id: 5ebec600-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"responseType":"TourListResponse","data":{"ApiKey":"aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722994001","Timestamp":"2019-01-31T15:17:56.822Z","RequestStatus":{"Status":"SUCCESS"},"Tour":[{"SupplierProductCode":"54493","SupplierProductName":"Classic Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54495","SupplierProductName":"Deluxe Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54496","SupplierProductName":"Night Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54494","SupplierProductName":"Premium Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74505","SupplierProductName":"Deluxe Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74506","SupplierProductName":"Night Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74503","SupplierProductName":"Classic Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74504","Sup...
[2019-01-31 15:17:56.862] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:17:56.862] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:5ebec600-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null {"responseType":"TourListResponse","data":{"ApiKey":"aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722994001","Timestamp":"2019-01-31T15:17:56.822Z","RequestStatus":{"Status":"SUCCESS"},"Tour":[{"SupplierProductCode":"54493","SupplierProductName":"Classic Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54495","SupplierProductName":"Deluxe Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54496","SupplierProductName":"Night Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54494","SupplierProductName":"Premium Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74505","SupplierProductName":"Deluxe Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74506","SupplierProductName":"Night Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74503","SupplierProductName":"Classic Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74504","SupplierProductName":"Premium Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24659","SupplierProductName":"Night Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24490","SupplierProductName":"Classic Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24511","SupplierProductName":"Deluxe Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24491","SupplierProductName":"Premium Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44569","SupplierProductName":"Panoramic Night Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44567","SupplierProductName":"Premium Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44568","SupplierProductName":"Deluxe Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64657","SupplierProductName":"Deluxe Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64658","SupplierProductName":"Night Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64570","SupplierProductName":"Classic Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64571","SupplierProductName":"Premium Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154565","SupplierProductName":"Premium Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154656","SupplierProductName":"Night Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154564","SupplierProductName":"Classic Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154655","SupplierProductName":"Deluxe Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164498","SupplierProductName":"Premium Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164497","SupplierProductName":"Classic Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164499","SupplierProductName":"Deluxe Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34664","SupplierProductName":"Deluxe Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34665","SupplierProductName":"Night Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34500","SupplierProductName":"Classic Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34501","SupplierProductName":"Premium Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84572","SupplierProductName":"Classic Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84661","SupplierProductName":"Deluxe Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84663","SupplierProductName":"Night Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84573","SupplierProductName":"Premium Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94897","SupplierProductName":"Night Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94866","SupplierProductName":"Deluxe Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94865","SupplierProductName":"Premium Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94864","SupplierProductName":"Classic Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114559","SupplierProductName":"Night Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114556","SupplierProductName":"Classic Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114557","SupplierProductName":"Premium Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114558","SupplierProductName":"Deluxe Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124562","SupplierProductName":"Premium Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124666","SupplierProductName":"Deluxe Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124667","SupplierProductName":"Night Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124560","SupplierProductName":"Classic Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"205003","SupplierProductName":"Classic Tour MUSCAT","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"205005","SupplierProductName":"Premium Tour MUSCAT","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14489","SupplierProductName":"Premium Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14488","SupplierProductName":"Classic Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14660","SupplierProductName":"Deluxe Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14751","SupplierProductName":" Night Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134750","SupplierProductName":"Night Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134508","SupplierProductName":"Premium Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134697","SupplierProductName":"Deluxe Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134507","SupplierProductName":"Classic Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194595","SupplierProductName":"Deluxe Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194593","SupplierProductName":"Classic Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194594","SupplierProductName":"Premium Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""}]}}
[2019-01-31 15:17:56.891] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:17:56.891] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:17:56.892] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:17:56.892] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('58f32f15-2adb-4cb1-a5a4-ec1f4c6b19af','5ebec600-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-01-31 15:17:56.855 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.7.02','{"responseType":"TourListResponse","data":{"ApiKey":"aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722994001","Timestamp":"2019-01-31T15:17:56.822Z","RequestStatus":{"Status":"SUCCESS"},"Tour":[{"SupplierProductCode":"54493","SupplierProductName":"Classic Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54495","SupplierProductName":"Deluxe Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54496","SupplierProductName":"Night Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54494","SupplierProductName":"Premium Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74505","SupplierProductName":"Deluxe Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74506","SupplierProductName":"Night Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74503","SupplierProductName":"Classic Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74504","SupplierProductName":"Premium Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24659","SupplierProductName":"Night Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24490","SupplierProductName":"Classic Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24511","SupplierProductName":"Deluxe Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24491","SupplierProductName":"Premium Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44569","SupplierProductName":"Panoramic Night Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44567","SupplierProductName":"Premium Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44568","SupplierProductName":"Deluxe Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64657","SupplierProductName":"Deluxe Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64658","SupplierProductName":"Night Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64570","SupplierProductName":"Classic Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64571","SupplierProductName":"Premium Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154565","SupplierProductName":"Premium Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154656","SupplierProductName":"Night Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154564","SupplierProductName":"Classic Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154655","SupplierProductName":"Deluxe Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164498","SupplierProductName":"Premium Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164497","SupplierProductName":"Classic Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164499","SupplierProductName":"Deluxe Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34664","SupplierProductName":"Deluxe Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34665","SupplierProductName":"Night Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34500","SupplierProductName":"Classic Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34501","SupplierProductName":"Premium Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84572","SupplierProductName":"Classic Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84661","SupplierProductName":"Deluxe Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84663","SupplierProductName":"Night Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84573","SupplierProductName":"Premium Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94897","SupplierProductName":"Night Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94866","SupplierProductName":"Deluxe Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94865","SupplierProductName":"Premium Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94864","SupplierProductName":"Classic Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114559","SupplierProductName":"Night Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114556","SupplierProductName":"Classic Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114557","SupplierProductName":"Premium Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114558","SupplierProductName":"Deluxe Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124562","SupplierProductName":"Premium Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124666","SupplierProductName":"Deluxe Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124667","SupplierProductName":"Night Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124560","SupplierProductName":"Classic Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"205003","SupplierProductName":"Classic Tour MUSCAT","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"205005","SupplierProductName":"Premium Tour MUSCAT","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14489","SupplierProductName":"Premium Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14488","SupplierProductName":"Classic Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14660","SupplierProductName":"Deluxe Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14751","SupplierProductName":" Night Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134750","SupplierProductName":"Night Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134508","SupplierProductName":"Premium Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134697","SupplierProductName":"Deluxe Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134507","SupplierProductName":"Classic Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194595","SupplierProductName":"Deluxe Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194593","SupplierProductName":"Classic Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194594","SupplierProductName":"Premium Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""}]}}',CURRENT_TIMESTAMP,'2019-01-31 15:17:56.855','1')
[2019-01-31 15:18:34.547] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.3.02]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 22037c71-5b2a-4b88-a0d9-77d0594d4c06, Message Id: 79a62210-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "requestType": "BookingRequest",
  "data": {
    "ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2018-03-07T12:35:47.214-08:00",
    "BookingReference": "645394587",
    "TravelDate": "2019-09-02",
    "SupplierProductCode": "14489",
    "Location": "London",
    "TourOptions": {
      "Language": {
        "LanguageCode": "en",
        "LanguageOption": [
          "GUIDE"
        ]
      }
    },
    "Inclusions": {
      "Inclusion": [
        "Hop-on hop-off bus tour",
        "Live guide (Red Route)",
        "Recorded commentary",
        "Complimentary earphones",
        "30-minute river cruise",
        "A walking tour",
        "Reward Voucher booklet",
        "Hotel drop-off"
      ]
    },
    "CurrencyCode": "GBP",
    "Amount": 77.22,
    "Traveller": [
      {
        "TravellerIdentifier": "1",
        "TravellerTitle": "",
        "GivenName": "Michael",
        "Surname": "Matusik",
        "AgeBand": "ADULT",
        "LeadTraveller": true
      },
      {
        "TravellerIdentifier": "2",
        "TravellerTitle": "",
        "GivenName": "Michael",
        "Surname": "Matusik",
        "AgeBand": "ADULT",
        "LeadTraveller": false
      },
      {
        "TravellerIdentifier": "3",
        "TravellerTitle": "",
        "GivenName": "Michael",
  ...
[2019-01-31 15:18:34.556] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:18:34.557] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:79a62210-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null {
  "requestType": "BookingRequest",
  "data": {
    "ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2018-03-07T12:35:47.214-08:00",
    "BookingReference": "645394587",
    "TravelDate": "2019-09-02",
    "SupplierProductCode": "14489",
    "Location": "London",
    "TourOptions": {
      "Language": {
        "LanguageCode": "en",
        "LanguageOption": [
          "GUIDE"
        ]
      }
    },
    "Inclusions": {
      "Inclusion": [
        "Hop-on hop-off bus tour",
        "Live guide (Red Route)",
        "Recorded commentary",
        "Complimentary earphones",
        "30-minute river cruise",
        "A walking tour",
        "Reward Voucher booklet",
        "Hotel drop-off"
      ]
    },
    "CurrencyCode": "GBP",
    "Amount": 77.22,
    "Traveller": [
      {
        "TravellerIdentifier": "1",
        "TravellerTitle": "",
        "GivenName": "Michael",
        "Surname": "Matusik",
        "AgeBand": "ADULT",
        "LeadTraveller": true
      },
      {
        "TravellerIdentifier": "2",
        "TravellerTitle": "",
        "GivenName": "Michael",
        "Surname": "Matusik",
        "AgeBand": "ADULT",
        "LeadTraveller": false
      },
      {
        "TravellerIdentifier": "3",
        "TravellerTitle": "",
        "GivenName": "Michael",
        "Surname": "Matusik",
        "AgeBand": "ADULT",
        "LeadTraveller": false
      }
    ],
    "TravellerMix": {
      "Adult": "3",
      "Child": "0",
      "Youth": "0",
      "Infant": "0",
      "Senior": "0",
      "Total": "3"
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ]
  }
}
[2019-01-31 15:18:34.584] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:18:34.585] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:18:34.585] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:18:34.585] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('22037c71-5b2a-4b88-a0d9-77d0594d4c06','79a62210-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-01-31 15:18:34.548 [bb-viator-api-v1-t].bb-viator-api-flow-booking.3.02','{
  "requestType": "BookingRequest",
  "data": {
    "ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2018-03-07T12:35:47.214-08:00",
    "BookingReference": "645394587",
    "TravelDate": "2019-09-02",
    "SupplierProductCode": "14489",
    "Location": "London",
    "TourOptions": {
      "Language": {
        "LanguageCode": "en",
        "LanguageOption": [
          "GUIDE"
        ]
      }
    },
    "Inclusions": {
      "Inclusion": [
        "Hop-on hop-off bus tour",
        "Live guide (Red Route)",
        "Recorded commentary",
        "Complimentary earphones",
        "30-minute river cruise",
        "A walking tour",
        "Reward Voucher booklet",
        "Hotel drop-off"
      ]
    },
    "CurrencyCode": "GBP",
    "Amount": 77.22,
    "Traveller": [
      {
        "TravellerIdentifier": "1",
        "TravellerTitle": "",
        "GivenName": "Michael",
        "Surname": "Matusik",
        "AgeBand": "ADULT",
        "LeadTraveller": true
      },
      {
        "TravellerIdentifier": "2",
        "TravellerTitle": "",
        "GivenName": "Michael",
        "Surname": "Matusik",
        "AgeBand": "ADULT",
        "LeadTraveller": false
      },
      {
        "TravellerIdentifier": "3",
        "TravellerTitle": "",
        "GivenName": "Michael",
        "Surname": "Matusik",
        "AgeBand": "ADULT",
        "LeadTraveller": false
      }
    ],
    "TravellerMix": {
      "Adult": "3",
      "Child": "0",
      "Youth": "0",
      "Infant": "0",
      "Senior": "0",
      "Total": "3"
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ]
  }
}',CURRENT_TIMESTAMP,'2019-01-31 15:18:34.548','1')
[2019-01-31 15:18:34.683] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.4.02]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 22037c71-5b2a-4b88-a0d9-77d0594d4c06, Message Id: 79a62210-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=Civitatis, tp_default_vacancies=100, id=6}]
[2019-01-31 15:18:34.704] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:18:34.705] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:79a62210-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null [{tp_name=Civitatis, tp_default_vacancies=100, id=6}]
[2019-01-31 15:18:34.719] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:18:34.719] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:18:34.719] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:18:34.719] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('22037c71-5b2a-4b88-a0d9-77d0594d4c06','79a62210-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-01-31 15:18:34.692 [bb-viator-api-v1-t].bb-viator-api-flow-booking.4.02','[{tp_name=Civitatis, tp_default_vacancies=100, id=6}]',CURRENT_TIMESTAMP,'2019-01-31 15:18:34.692','1')
[2019-01-31 15:18:34.732] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Date TimeZone :sun.util.calendar.ZoneInfo[id="PST",offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=PST,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]]
[2019-01-31 15:18:34.732] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: System Date :2019-01-31
[2019-01-31 15:18:34.755] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.5.02]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 22037c71-5b2a-4b88-a0d9-77d0594d4c06, Message Id: 79a62210-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}]
[2019-01-31 15:18:34.764] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:18:34.764] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:79a62210-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null [{product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}]
[2019-01-31 15:18:34.781] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:18:34.781] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:18:34.781] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:18:34.782] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('22037c71-5b2a-4b88-a0d9-77d0594d4c06','79a62210-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-01-31 15:18:34.756 [bb-viator-api-v1-t].bb-viator-api-flow-booking.5.02','[{product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}, {product_id=14489, default_branch_currency=GBP}]',CURRENT_TIMESTAMP,'2019-01-31 15:18:34.756','1')
[2019-01-31 15:18:34.896] WARN    org.mule.processor.AsyncDelegateMessageProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Using 'async' router with consumable payload (com.mulesoft.weave.reader.ByteArraySeekableStream) may lead to unexpected results. Please ensure that only one of the branches actually consumes the payload, or transform it by using an <object-to-byte-array-transformer>.
[2019-01-31 15:18:34.905] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-booking.6.02]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 22037c71-5b2a-4b88-a0d9-77d0594d4c06, Message Id: 79a62210-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "bookingRequest": {
    "tradePartnerName": "Civitatis",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": ""
    },
    "products": {
      "product": [
        {
          "productId": "14489",
          "dateOfTravel": "2019-09-02",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}
[2019-01-31 15:18:34.911] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:18:34.912] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:79a62210-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null {
  "bookingRequest": {
    "tradePartnerName": "Civitatis",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": ""
    },
    "products": {
      "product": [
        {
          "productId": "14489",
          "dateOfTravel": "2019-09-02",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}
[2019-01-31 15:18:34.927] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:18:34.927] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:18:34.927] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:18:34.927] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('22037c71-5b2a-4b88-a0d9-77d0594d4c06','79a62210-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-01-31 15:18:34.906 [bb-viator-api-v1-t].bb-viator-api-flow-booking.6.02','{
  "bookingRequest": {
    "tradePartnerName": "Civitatis",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": ""
    },
    "products": {
      "product": [
        {
          "productId": "14489",
          "dateOfTravel": "2019-09-02",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}',CURRENT_TIMESTAMP,'2019-01-31 15:18:34.906','1')
[2019-01-31 15:18:42.054] WARN    org.mule.processor.AsyncDelegateMessageProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Using 'async' router with consumable payload (org.glassfish.grizzly.utils.BufferInputStream) may lead to unexpected results. Please ensure that only one of the branches actually consumes the payload, or transform it by using an <object-to-byte-array-transformer>.
[2019-01-31 15:18:42.074] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.7.02]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 22037c71-5b2a-4b88-a0d9-77d0594d4c06, Message Id: 79a62210-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: 
[2019-01-31 15:18:42.099] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:18:42.099] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:79a62210-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null 
[2019-01-31 15:18:42.111] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:18:42.112] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:18:42.112] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:18:42.112] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('22037c71-5b2a-4b88-a0d9-77d0594d4c06','79a62210-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-01-31 15:18:42.075 [bb-viator-api-v1-t].bb-viator-api-flow-booking.7.02','',CURRENT_TIMESTAMP,'2019-01-31 15:18:42.075','1')
[2019-01-31 15:18:42.243] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.8.02]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 22037c71-5b2a-4b88-a0d9-77d0594d4c06, Message Id: 79a62210-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-01-31T15:18:42.143Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10110141|1|02092019|1[14489AD:1:3960:GBP]fd790552ad2490eb",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10110142|1|02092019|1[14489AD:1:3960:GBP]86c959fe22dc80ec",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10110143|1|02092019|1[14489AD:1:3960:GBP]858a1225de2d9822",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "79a755d2-397a-42e4-acd9-2acf48b9c64e"
  }
}
[2019-01-31 15:18:42.252] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:18:42.253] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:79a62210-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null {
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-01-31T15:18:42.143Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10110141|1|02092019|1[14489AD:1:3960:GBP]fd790552ad2490eb",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10110142|1|02092019|1[14489AD:1:3960:GBP]86c959fe22dc80ec",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10110143|1|02092019|1[14489AD:1:3960:GBP]858a1225de2d9822",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "79a755d2-397a-42e4-acd9-2acf48b9c64e"
  }
}
[2019-01-31 15:18:42.271] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:18:42.271] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:18:42.271] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: dataSource : source.getNumActive() : 0
[2019-01-31 15:18:42.271] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.02]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('22037c71-5b2a-4b88-a0d9-77d0594d4c06','79a62210-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-01-31 15:18:42.247 [bb-viator-api-v1-t].bb-viator-api-flow-booking.8.02','{
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-01-31T15:18:42.143Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10110141|1|02092019|1[14489AD:1:3960:GBP]fd790552ad2490eb",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10110142|1|02092019|1[14489AD:1:3960:GBP]86c959fe22dc80ec",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10110143|1|02092019|1[14489AD:1:3960:GBP]858a1225de2d9822",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "79a755d2-397a-42e4-acd9-2acf48b9c64e"
  }
}',CURRENT_TIMESTAMP,'2019-01-31 15:18:42.247','1')
[2019-01-31 15:20:11.690] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.3.02]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: db0cae85-dd0a-4e9f-a120-dc5d2220dc8d, Message Id: b3970ca0-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "requestType": "BookingCancellationRequest",
  "data": {
    "ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
    "ResellerId": "1000",
    "SupplierId": "1004",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-11-21 17:49:40",
    "Extension": {
      "any": {}
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ],
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "BookingReference": "332002200014548999731299852079166",
    "SupplierConfirmationNumber": "79a755d2-397a-42e4-acd9-2acf48b9c64e",
    "CancelDate": "2019-12-01",
    "Author": "Customer Service",
    "Reason": "No longer traveling",
    "SupplierNote": "Refunded Customer"
  }
}
[2019-01-31 15:20:11.701] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.03]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:20:11.708] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.03]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:b3970ca0-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null {
  "requestType": "BookingCancellationRequest",
  "data": {
    "ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
    "ResellerId": "1000",
    "SupplierId": "1004",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-11-21 17:49:40",
    "Extension": {
      "any": {}
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ],
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "BookingReference": "332002200014548999731299852079166",
    "SupplierConfirmationNumber": "79a755d2-397a-42e4-acd9-2acf48b9c64e",
    "CancelDate": "2019-12-01",
    "Author": "Customer Service",
    "Reason": "No longer traveling",
    "SupplierNote": "Refunded Customer"
  }
}
[2019-01-31 15:20:11.728] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.4.02]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: db0cae85-dd0a-4e9f-a120-dc5d2220dc8d, Message Id: b3970ca0-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=Civitatis, tp_default_vacancies=100, id=6}]
[2019-01-31 15:20:11.744] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.03]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:20:11.744] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.03]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:20:11.744] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.03]: dataSource : source.getNumActive() : 1
[2019-01-31 15:20:11.745] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.03]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('db0cae85-dd0a-4e9f-a120-dc5d2220dc8d','b3970ca0-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-01-31 15:20:11.691 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.3.02','{
  "requestType": "BookingCancellationRequest",
  "data": {
    "ApiKey": "aRVhfkb%GoiCypwBQgWLZ9mlWt6z7R+|_U**j%DwzF0",
    "ResellerId": "1000",
    "SupplierId": "1004",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-11-21 17:49:40",
    "Extension": {
      "any": {}
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ],
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "BookingReference": "332002200014548999731299852079166",
    "SupplierConfirmationNumber": "79a755d2-397a-42e4-acd9-2acf48b9c64e",
    "CancelDate": "2019-12-01",
    "Author": "Customer Service",
    "Reason": "No longer traveling",
    "SupplierNote": "Refunded Customer"
  }
}',CURRENT_TIMESTAMP,'2019-01-31 15:20:11.691','1')
[2019-01-31 15:20:11.762] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.03]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:20:11.763] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.03]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:b3970ca0-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null [{tp_name=Civitatis, tp_default_vacancies=100, id=6}]
[2019-01-31 15:20:11.765] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.5.02]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: db0cae85-dd0a-4e9f-a120-dc5d2220dc8d, Message Id: b3970ca0-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=Civitatis, tp_default_vacancies=100, id=6}]
[2019-01-31 15:20:11.783] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:20:11.783] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:b3970ca0-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null [{tp_name=Civitatis, tp_default_vacancies=100, id=6}]
[2019-01-31 15:20:11.785] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.03]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:20:11.785] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.03]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:20:11.785] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.03]: dataSource : source.getNumActive() : 0
[2019-01-31 15:20:11.785] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.03]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('db0cae85-dd0a-4e9f-a120-dc5d2220dc8d','b3970ca0-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-01-31 15:20:11.737 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.4.02','[{tp_name=Civitatis, tp_default_vacancies=100, id=6}]',CURRENT_TIMESTAMP,'2019-01-31 15:20:11.733','1')
[2019-01-31 15:20:11.813] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:20:11.813] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:20:11.814] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: dataSource : source.getNumActive() : 0
[2019-01-31 15:20:11.814] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('db0cae85-dd0a-4e9f-a120-dc5d2220dc8d','b3970ca0-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-01-31 15:20:11.767 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.5.02','[{tp_name=Civitatis, tp_default_vacancies=100, id=6}]',CURRENT_TIMESTAMP,'2019-01-31 15:20:11.767','1')
[2019-01-31 15:20:11.814] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Date TimeZone :sun.util.calendar.ZoneInfo[id="PST",offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=PST,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]]
[2019-01-31 15:20:11.814] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: System Date :2019-01-31
[2019-01-31 15:20:11.838] WARN    org.mule.processor.AsyncDelegateMessageProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Using 'async' router with consumable payload (com.mulesoft.weave.reader.ByteArraySeekableStream) may lead to unexpected results. Please ensure that only one of the branches actually consumes the payload, or transform it by using an <object-to-byte-array-transformer>.
[2019-01-31 15:20:11.846] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.6.02]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: db0cae85-dd0a-4e9f-a120-dc5d2220dc8d, Message Id: b3970ca0-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "cancelBookingRequest": {
    "tradePartnerName": "Civitatis",
    "bookingReference": "79a755d2-397a-42e4-acd9-2acf48b9c64e"
  }
}
[2019-01-31 15:20:11.852] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:20:11.852] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:b3970ca0-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-01-31 15:20:11.865] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:20:11.866] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:20:11.867] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: dataSource : source.getNumActive() : 0
[2019-01-31 15:20:11.867] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('db0cae85-dd0a-4e9f-a120-dc5d2220dc8d','b3970ca0-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-01-31 15:20:11.849 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.6.02','{
  "cancelBookingRequest": {
    "tradePartnerName": "Civitatis",
    "bookingReference": "79a755d2-397a-42e4-acd9-2acf48b9c64e"
  }
}',CURRENT_TIMESTAMP,'2019-01-31 15:20:11.849','1')
[2019-01-31 15:20:18.157] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.7.02]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: db0cae85-dd0a-4e9f-a120-dc5d2220dc8d, Message Id: b3970ca0-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: { "status":"SUCCESS", "errorMessage":"" }
[2019-01-31 15:20:18.172] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:20:18.172] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:b3970ca0-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-01-31 15:20:18.184] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:20:18.185] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:20:18.185] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: dataSource : source.getNumActive() : 0
[2019-01-31 15:20:18.185] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('db0cae85-dd0a-4e9f-a120-dc5d2220dc8d','b3970ca0-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-01-31 15:20:18.16 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.7.02','{ "status":"SUCCESS", "errorMessage":"" }',CURRENT_TIMESTAMP,'2019-01-31 15:20:18.16','1')
[2019-01-31 15:20:18.186] WARN    org.mule.processor.AsyncDelegateMessageProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Using 'async' router with consumable payload (com.mulesoft.weave.reader.ByteArraySeekableStream) may lead to unexpected results. Please ensure that only one of the branches actually consumes the payload, or transform it by using an <object-to-byte-array-transformer>.
[2019-01-31 15:20:18.197] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.8.02]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: db0cae85-dd0a-4e9f-a120-dc5d2220dc8d, Message Id: b3970ca0-256b-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: 
[2019-01-31 15:20:18.207] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-01-31 15:20:18.207] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:b3970ca0-256b-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-01-31 15:20:18.219] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-01-31 15:20:18.220] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: dataSource : source.getInitialSize() : 1
[2019-01-31 15:20:18.220] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: dataSource : source.getNumActive() : 0
[2019-01-31 15:20:18.220] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.04]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('db0cae85-dd0a-4e9f-a120-dc5d2220dc8d','b3970ca0-256b-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-01-31 15:20:18.2 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.8.02','',CURRENT_TIMESTAMP,'2019-01-31 15:20:18.2','1')
[2019-01-31 17:16:05.092] INFO    org.mule.module.http.internal.listener.HttpListenerRegistry [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: No listener found for request: (GET)/
[2019-01-31 17:16:05.092] INFO    org.mule.module.http.internal.listener.HttpListenerRegistry [[bb-viator-api-v1-t].api-httpListenerConfig.worker.02]: Available listeners are: [(*)/api/1/*]
[2019-02-01 05:06:53.616] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-availability.5.03]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-availability, Request Id: 489311ca-6db1-4d2b-b654-aea35c7db99f, Message Id: 30a86db0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "requestType": "AvailabilityRequest",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "1004",
    "ExternalReference": "10051374722992616",
    "Timestamp": "2019-08-21 18:34:24",
    "StartDate": "2019-08-21",
    "EndDate": "2019-09-20",
    "DeltaOnly": false,
    "SupplierProductCode": "14488",
    "TourOptions": {
      "SupplierOptionCode": "9am",
      "SupplierOptionName": "Bondi Beach Private Lesson 9AM",
      "TourDepartureTime": "09:00:00",
      "TourDuration": "PT1H",
      "Language": {
        "LanguageCode": "EN",
        "LanguageOption": "GUIDE"
      }
    },
    "AvailabilityHold": {
      "Expiry": "PT300S"
    },
    "TravellerMix": {
      "Adult": "1",
      "Child": "1",
      "Youth": "0",
      "Infant": "0",
      "Senior": "0",
      "Total": "2"
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ]
  }
}
[2019-02-01 05:06:53.627] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:06:53.628] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:30a86db0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:06:53.697] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:06:53.698] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:06:53.698] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: dataSource : source.getNumActive() : 0
[2019-02-01 05:06:53.698] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('489311ca-6db1-4d2b-b654-aea35c7db99f','30a86db0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-01 05:06:53.617 [bb-viator-api-v1-t].bb-viator-api-flow-availability.5.03','{
  "requestType": "AvailabilityRequest",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "1004",
    "ExternalReference": "10051374722992616",
    "Timestamp": "2019-08-21 18:34:24",
    "StartDate": "2019-08-21",
    "EndDate": "2019-09-20",
    "DeltaOnly": false,
    "SupplierProductCode": "14488",
    "TourOptions": {
      "SupplierOptionCode": "9am",
      "SupplierOptionName": "Bondi Beach Private Lesson 9AM",
      "TourDepartureTime": "09:00:00",
      "TourDuration": "PT1H",
      "Language": {
        "LanguageCode": "EN",
        "LanguageOption": "GUIDE"
      }
    },
    "AvailabilityHold": {
      "Expiry": "PT300S"
    },
    "TravellerMix": {
      "Adult": "1",
      "Child": "1",
      "Youth": "0",
      "Infant": "0",
      "Senior": "0",
      "Total": "2"
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ]
  }
}',CURRENT_TIMESTAMP,'2019-02-01 05:06:53.617','1')
[2019-02-01 05:06:53.719] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-availability.6.03]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-availability, Request Id: 489311ca-6db1-4d2b-b654-aea35c7db99f, Message Id: 30a86db0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-01 05:06:53.728] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:06:53.729] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:30a86db0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:06:53.733] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: productId: 14488
[2019-02-01 05:06:53.733] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: fromDate: 2019-08-21
[2019-02-01 05:06:53.733] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: toDate: 2019-09-20
[2019-02-01 05:06:53.733] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: blackOutDates: {14488=,}
[2019-02-01 05:06:53.734] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: strDateTime:2019-08-21
[2019-02-01 05:06:53.734] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: cal.getTime():Fri Feb 01 00:00:00 UTC 2019
[2019-02-01 05:06:53.734] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: sdf.parse:1
[2019-02-01 05:06:53.734] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: strDateTime:2019-09-20
[2019-02-01 05:06:53.734] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: cal.getTime():Fri Feb 01 00:00:00 UTC 2019
[2019-02-01 05:06:53.734] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: sdf.parse:1
[2019-02-01 05:06:53.734] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: fromDate is before toDate
[2019-02-01 05:06:53.734] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: requested duration : 30
[2019-02-01 05:06:53.744] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:06:53.744] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:06:53.744] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: dataSource : source.getNumActive() : 0
[2019-02-01 05:06:53.744] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('489311ca-6db1-4d2b-b654-aea35c7db99f','30a86db0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:06:53.723 [bb-viator-api-v1-t].bb-viator-api-flow-availability.6.03','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-01 05:06:53.723','1')
[2019-02-01 05:06:53.761] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-availability.7.03]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-availability, Request Id: 489311ca-6db1-4d2b-b654-aea35c7db99f, Message Id: 30a86db0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"responseType":"AvailabilityResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722992616","Timestamp":"2019-02-01T05:06:53.737Z","RequestStatus":{"Status":"SUCCESS"},"SupplierProductCode":"14488","TourAvailability":[{"Date":"2019-08-21","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-22","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-23","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-24","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-25","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-26","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-27","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-28","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-29","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-30","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-31","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-01","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-02","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-03","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-04","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-05","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-06","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-07","AvailabilityStatus":{"Status":"AVAILABLE"}},{...
[2019-02-01 05:06:53.767] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:06:53.768] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:30a86db0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:06:53.783] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:06:53.784] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:06:53.784] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: dataSource : source.getNumActive() : 0
[2019-02-01 05:06:53.784] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('489311ca-6db1-4d2b-b654-aea35c7db99f','30a86db0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:06:53.762 [bb-viator-api-v1-t].bb-viator-api-flow-availability.7.03','{"responseType":"AvailabilityResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722992616","Timestamp":"2019-02-01T05:06:53.737Z","RequestStatus":{"Status":"SUCCESS"},"SupplierProductCode":"14488","TourAvailability":[{"Date":"2019-08-21","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-22","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-23","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-24","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-25","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-26","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-27","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-28","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-29","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-30","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-08-31","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-01","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-02","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-03","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-04","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-05","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-06","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-07","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-08","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-09","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-10","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-11","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-12","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-13","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-14","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-15","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-16","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-17","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-18","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-19","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-09-20","AvailabilityStatus":{"Status":"AVAILABLE"}}]}}',CURRENT_TIMESTAMP,'2019-02-01 05:06:53.762','1')
[2019-02-01 05:07:32.359] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.3.03]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: abb84242-cfed-4dcd-89b3-634bc99f1e44, Message Id: 47bf12b0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "2000145",
   "ExternalReference": "332002200014548999731299852079166",
   "Timestamp": "2019-03-07T12:35:47.214-08:00",
   "BookingReference": "645394587",
   "TravelDate": "2019-07-02",
   "SupplierProductCode": "14488",
   "Location": "London",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     }
   },
   "Inclusions": {
     "Inclusion": [
       "Hop-on hop-off bus tour",
       "Live guide (Red Route)",
       "Recorded commentary",
       "Complimentary earphones",
       "30-minute river cruise",
       "A walking tour",
       "Reward Voucher booklet",
       "Hotel drop-off"
     ]
   },
   "CurrencyCode": "GBP",
   "Amount": 77.22,
   "Traveller": [
     {
       "TravellerIdentifier": "1",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     },
     {
       "TravellerIdentifier": "2",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     },
     {
       "TravellerIdentifier": "3",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",...
[2019-02-01 05:07:32.373] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:07:32.373] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:47bf12b0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:07:32.393] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: Date TimeZone :sun.util.calendar.ZoneInfo[id="PST",offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=PST,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]]
[2019-02-01 05:07:32.393] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.03]: System Date :2019-01-31
[2019-02-01 05:07:32.394] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.4.03]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: abb84242-cfed-4dcd-89b3-634bc99f1e44, Message Id: 47bf12b0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-01 05:07:32.417] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:07:32.418] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:47bf12b0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:07:32.420] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.5.03]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: abb84242-cfed-4dcd-89b3-634bc99f1e44, Message Id: 47bf12b0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}]
[2019-02-01 05:07:32.424] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:07:32.424] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:07:32.424] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: dataSource : source.getNumActive() : 0
[2019-02-01 05:07:32.424] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.05]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('abb84242-cfed-4dcd-89b3-634bc99f1e44','47bf12b0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-01 05:07:32.359 [bb-viator-api-v1-t].bb-viator-api-flow-booking.3.03','{
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "2000145",
   "ExternalReference": "332002200014548999731299852079166",
   "Timestamp": "2019-03-07T12:35:47.214-08:00",
   "BookingReference": "645394587",
   "TravelDate": "2019-07-02",
   "SupplierProductCode": "14488",
   "Location": "London",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     }
   },
   "Inclusions": {
     "Inclusion": [
       "Hop-on hop-off bus tour",
       "Live guide (Red Route)",
       "Recorded commentary",
       "Complimentary earphones",
       "30-minute river cruise",
       "A walking tour",
       "Reward Voucher booklet",
       "Hotel drop-off"
     ]
   },
   "CurrencyCode": "GBP",
   "Amount": 77.22,
   "Traveller": [
     {
       "TravellerIdentifier": "1",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     },
     {
       "TravellerIdentifier": "2",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     },
     {
       "TravellerIdentifier": "3",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     }
   ],
   "TravellerMix": {
     "Adult": "3",
     "Child": "0",
     "Youth": "0",
     "Infant": "0",
     "Senior": "0",
     "Total": "3"
   },
   "ContactDetail": {
     "ContactType": "ALTERNATE",
     "ContactName": "Cust Name",
     "ContactValue": "+1 999999999999"
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ]
 }
}',CURRENT_TIMESTAMP,'2019-02-01 05:07:32.359','1')
[2019-02-01 05:07:32.437] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.07]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:07:32.437] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.07]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:47bf12b0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:07:32.438] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:07:32.438] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:07:32.438] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: dataSource : source.getNumActive() : 0
[2019-02-01 05:07:32.438] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('abb84242-cfed-4dcd-89b3-634bc99f1e44','47bf12b0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:07:32.396 [bb-viator-api-v1-t].bb-viator-api-flow-booking.4.03','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-01 05:07:32.395','1')
[2019-02-01 05:07:32.446] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-booking.6.03]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: abb84242-cfed-4dcd-89b3-634bc99f1e44, Message Id: 47bf12b0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "bookingRequest": {
    "tradePartnerName": "test",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": "",
      "phone": "+1 999999999999"
    },
    "products": {
      "product": [
        {
          "productId": "14488",
          "dateOfTravel": "2019-07-02",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}
[2019-02-01 05:07:32.453] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:07:32.453] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:47bf12b0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:07:32.455] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.07]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:07:32.455] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.07]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:07:32.455] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.07]: dataSource : source.getNumActive() : 0
[2019-02-01 05:07:32.456] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.07]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('abb84242-cfed-4dcd-89b3-634bc99f1e44','47bf12b0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:07:32.421 [bb-viator-api-v1-t].bb-viator-api-flow-booking.5.03','[{product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}]',CURRENT_TIMESTAMP,'2019-02-01 05:07:32.421','1')
[2019-02-01 05:07:32.465] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:07:32.465] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:07:32.465] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: dataSource : source.getNumActive() : 0
[2019-02-01 05:07:32.466] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('abb84242-cfed-4dcd-89b3-634bc99f1e44','47bf12b0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-02-01 05:07:32.448 [bb-viator-api-v1-t].bb-viator-api-flow-booking.6.03','{
  "bookingRequest": {
    "tradePartnerName": "test",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": "",
      "phone": "+1 999999999999"
    },
    "products": {
      "product": [
        {
          "productId": "14488",
          "dateOfTravel": "2019-07-02",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}',CURRENT_TIMESTAMP,'2019-02-01 05:07:32.448','1')
[2019-02-01 05:07:52.434] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.7.03]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: abb84242-cfed-4dcd-89b3-634bc99f1e44, Message Id: 47bf12b0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: 
[2019-02-01 05:07:52.437] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:07:52.437] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:47bf12b0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:07:52.451] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:07:52.451] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:07:52.451] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: dataSource : source.getNumActive() : 0
[2019-02-01 05:07:52.451] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('abb84242-cfed-4dcd-89b3-634bc99f1e44','47bf12b0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-02-01 05:07:52.435 [bb-viator-api-v1-t].bb-viator-api-flow-booking.7.03','',CURRENT_TIMESTAMP,'2019-02-01 05:07:52.434','1')
[2019-02-01 05:07:52.456] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.8.03]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: abb84242-cfed-4dcd-89b3-634bc99f1e44, Message Id: 47bf12b0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-02-01T05:07:52.429Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10112171|1|02072019|1[14488AD:1:3700:GBP]453f11e6b4fb086d",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10112172|1|02072019|1[14488AD:1:3700:GBP]c9f1036457094221",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10112173|1|02072019|1[14488AD:1:3700:GBP]82d77fa1f2aa4841",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "c4a37f6b-ece2-4e17-8eee-7a09caf321c1"
  }
}
[2019-02-01 05:07:52.465] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:07:52.465] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:47bf12b0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:07:52.476] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:07:52.476] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:07:52.476] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: dataSource : source.getNumActive() : 0
[2019-02-01 05:07:52.476] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.06]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('abb84242-cfed-4dcd-89b3-634bc99f1e44','47bf12b0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:07:52.458 [bb-viator-api-v1-t].bb-viator-api-flow-booking.8.03','{
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-02-01T05:07:52.429Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10112171|1|02072019|1[14488AD:1:3700:GBP]453f11e6b4fb086d",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10112172|1|02072019|1[14488AD:1:3700:GBP]c9f1036457094221",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10112173|1|02072019|1[14488AD:1:3700:GBP]82d77fa1f2aa4841",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "c4a37f6b-ece2-4e17-8eee-7a09caf321c1"
  }
}',CURRENT_TIMESTAMP,'2019-02-01 05:07:52.457','1')
[2019-02-01 05:09:04.543] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.3.03]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: f10c5108-c882-4b3a-80d8-e3998b2aa326, Message Id: 7eb49790-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "requestType": "TourListRequest",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "1004",
    "ExternalReference": "10051374722994001",
    "Timestamp": "2019-02-25 18:20:49",
    "Extension": {
      "any": {}
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ]
  }
}
[2019-02-01 05:09:04.566] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.4.03]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: f10c5108-c882-4b3a-80d8-e3998b2aa326, Message Id: 7eb49790-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-01 05:09:04.592] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:09:04.592] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:7eb49790-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:09:04.593] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.09]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:09:04.594] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.09]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:7eb49790-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:09:04.595] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.5.03]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: f10c5108-c882-4b3a-80d8-e3998b2aa326, Message Id: 7eb49790-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "countryCodeFilter": "null",
  "tradePartnerName": "test"
}
[2019-02-01 05:09:04.603] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.10]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:09:04.603] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.10]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:7eb49790-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:09:04.666] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:09:04.666] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:09:04.666] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: dataSource : source.getNumActive() : 0
[2019-02-01 05:09:04.666] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f10c5108-c882-4b3a-80d8-e3998b2aa326','7eb49790-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-01 05:09:04.544 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.3.03','{
  "requestType": "TourListRequest",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "1004",
    "ExternalReference": "10051374722994001",
    "Timestamp": "2019-02-25 18:20:49",
    "Extension": {
      "any": {}
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ]
  }
}',CURRENT_TIMESTAMP,'2019-02-01 05:09:04.544','1')
[2019-02-01 05:09:04.668] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.09]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:09:04.668] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.09]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:09:04.668] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.09]: dataSource : source.getNumActive() : 0
[2019-02-01 05:09:04.668] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.09]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f10c5108-c882-4b3a-80d8-e3998b2aa326','7eb49790-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:09:04.567 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.4.03','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-01 05:09:04.567','1')
[2019-02-01 05:09:04.669] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.10]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:09:04.670] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.10]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:09:04.670] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.10]: dataSource : source.getNumActive() : 0
[2019-02-01 05:09:04.670] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.10]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f10c5108-c882-4b3a-80d8-e3998b2aa326','7eb49790-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-02-01 05:09:04.596 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.5.03','{
  "countryCodeFilter": "null",
  "tradePartnerName": "test"
}',CURRENT_TIMESTAMP,'2019-02-01 05:09:04.596','1')
[2019-02-01 05:09:08.228] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.6.03]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: f10c5108-c882-4b3a-80d8-e3998b2aa326, Message Id: 7eb49790-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"status":"SUCCESS","code":null,"message":null,"productResult":{"countries":[{"id":null,"name":"USA","code":"USA","cities":[{"id":null,"name":"USA -8 hours","branches":[{"id":"5","name":"UAT-San Francisco","products":[{"id":"54493","name":"Classic Tour SAN FRANCISCO","description":null,"printName":"Classic Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for One Day Hop-on Hop-Tour and Walking Tours. Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"40.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"52.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54495","name":"Deluxe Tour SAN FRANCISCO","description":null,"printName":"Deluxe Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for Two Day Hop-on Hop-Tour, Walking Tours & Night Tour (Except May 24th 2017). Tour operates rain or shine. All sales are final. No refunds or exchange...
[2019-02-01 05:09:08.238] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:09:08.238] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:7eb49790-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:09:08.251] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:09:08.251] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:09:08.251] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: dataSource : source.getNumActive() : 0
[2019-02-01 05:09:08.252] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f10c5108-c882-4b3a-80d8-e3998b2aa326','7eb49790-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-02-01 05:09:08.229 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.6.03','{"status":"SUCCESS","code":null,"message":null,"productResult":{"countries":[{"id":null,"name":"USA","code":"USA","cities":[{"id":null,"name":"USA -8 hours","branches":[{"id":"5","name":"UAT-San Francisco","products":[{"id":"54493","name":"Classic Tour SAN FRANCISCO","description":null,"printName":"Classic Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for One Day Hop-on Hop-Tour and Walking Tours. Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"40.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"52.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54495","name":"Deluxe Tour SAN FRANCISCO","description":null,"printName":"Deluxe Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for Two Day Hop-on Hop-Tour, Walking Tours & Night Tour (Except May 24th 2017). Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"75.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"60.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54496","name":"Night Tour SAN FRANCISCO","description":null,"printName":"Night Tour ","printText":"Daily at 6:30pm, 7:00pm & (7:30pm April - October) Arrive 30 minutes prior to desired tour time as seats are first come first serve. Tour operates rain or shine. All sales are final. No refunds of exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"18:30","toTime":"21:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"18:30","toTime":"21:00"},{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"18:30","toTime":"21:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"30.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"20.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54494","name":"Premium Tour SAN FRANCISCO","description":null,"printName":"Premium Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for One Day Hop-on Hop-Tour & Walking Tours . Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"52.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"65.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"7","name":"UAT-Las Vegas","products":[{"id":"74505","name":"Deluxe Tour LAS VEGAS","description":null,"printName":"Deluxe","printText":"Valid for 3 days hop on hop off 10 am to 6 pm daily. If purchased or redeemed after 3 PM,this ticket is valid until the same time 3 days from now. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"75.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"59.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74506","name":"Night Tour LAS VEGAS","description":null,"printName":"Panoramic Night Tour","printText":"Must be used within 24 hours after purchase. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"19:00","toTime":"10:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"35.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"45.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74503","name":"Classic Tour LAS VEGAS","description":null,"printName":"Classic","printText":"Valid for one day hop on hop off tour 10 am to 6 pm daily. THIS TICKET INCLUDES STATE PASSENGER TAX.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"39.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74504","name":"Premium Tour LAS VEGAS","description":null,"printName":"Premium","printText":"Valid for 2 days  hop on hop off 10 am to 6 pm daily. If purchased or redeemed after 3 PM,this ticket is valid until the same time 2 days from now. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"59.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"49.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]},{"id":null,"name":"USA -6 hours","branches":[{"id":"15","name":"UAT-Chicago","products":[{"id":"154565","name":"Premium Tour CHICAGO","description":null,"printName":"Premium Tour ","printText":"Valid for 2 day on the date of purchase.If purchased after 3 PM this ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of our staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"30.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"55.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154656","name":"Night Tour CHICAGO","description":null,"printName":"Night Tour ","printText":"Live Guided, Panoramic, Non-Stop Night Tour of Chicago. Departs from Navy Pier (stop 11) Nightly at 7.00pm","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"19:45","toTime":"22:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"19:45","toTime":"22:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"29.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"15.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154564","name":"Classic Tour CHICAGO","description":null,"printName":"Classic Tour ","printText":"Valid for one day on the date of purchase.If purchase after 3PM,ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of the staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"45.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"25.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154655","name":"Deluxe Tour CHICAGO","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 day on the date of purchase.If purchased after 3 PM this ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of our staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"35.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"65.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]},{"id":null,"name":"USA -5 hours","branches":[{"id":"2","name":"UAT-New York","products":[{"id":"24659","name":"Night Tour NEW YORK","description":null,"printName":"Night Tour ","printText":"Valid for a single Night Tour. Departs from Stop#18- M&M World from 7pm to 9pm every 30min. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"18:00","toTime":"20:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"19:00","toTime":"21:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"19:00","toTime":"21:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"18:00","toTime":"20:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"18:00","toTime":"20:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"39.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24490","name":"Classic Tour NEW YORK","description":null,"printName":"Classic","printText":"If purchased or redeemed after 3pm this ticket is valid until the same time the next day. This ticket is valid on the Downtown and Uptown Loops. Last departure for Uptown and Downtown is at 5pm. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"49.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"59.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24511","name":"Deluxe Tour NEW YORK","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 days. If purchased or redeemed after 3PM, this ticket is valid until the same time 2 days from now. This ticket is valid on the Uptown, Downtown, Harlem, Brooklyn Loops and Night Tours as well as a Sightseeing Cruise. Last depature for the Uptown and Downtown  is at 5PM. Last depature for the Brooklyn and Harlem Loop is 3PM. Want more? Please ask an agent about upgrades.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"69.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"89.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24491","name":"Premium Tour NEW YORK","description":null,"printName":"2 Day Premium","printText":"Valid for 2 Days. If purchased or redeemed after 3pm this ticket is valid until the same time 2 days from now.This ticket is valid on the Downtown, Midtown, Uptown and the Brooklyn Tours. . Last departure for Uptown and Downtown is at 5pm. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"59.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"69.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"4","name":"UAT-Washington DC","products":[{"id":"44569","name":"Panoramic Night Tour WASHINGTON DC","description":null,"printName":"Panoramic Night Tour ","printText":"Valid for one Night Tour. See current brochure for departure time.\n","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-12","fromTime":"18:30","toTime":"20:30"},{"startPeriod":"Mar-13","endPeriod":"May-25","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"May-26","endPeriod":"Sep-04","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Sep-05","endPeriod":"Dec-31","fromTime":"18:30","toTime":"20:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"29.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"39.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"44567","name":"Premium Tour WASHINGTON DC","description":null,"printName":"Premium Tour ","printText":"Valid for 1 day on all Loops","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"29.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"44568","name":"Deluxe Tour WASHINGTON DC","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 days on all Loops","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-12","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"Mar-13","endPeriod":"May-25","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"May-26","endPeriod":"Sep-04","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Sep-05","endPeriod":"Dec-31","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"69.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"49.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"6","name":"UAT-Miami","products":[{"id":"64657","name":"Deluxe Tour MIAMI","description":null,"printName":"Deluxe Tour ","printText":"2 Days all Loops Tour, Biscayne Boat and Night Tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"79.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"64.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64658","name":"Night Tour MIAMI","description":null,"printName":"Night Tour","printText":"Departs from Senor frogs at 7:30pm and Central Station 8:00pm.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"19:30","toTime":"21:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"29.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"19.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64570","name":"Classic Tour MIAMI","description":null,"printName":"Classic Tour ","printText":"1 Day all loops tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"39.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64571","name":"Premium Tour MIAMI","description":null,"printName":"Premium Tour ","printText":"1 Day All Loops Tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"59.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"69.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]}]},{"id":null,"name":" Europe","code":"EUR","cities":[{"id":null,"name":"Europe Time Zone","branches":[{"id":"16","name":"UAT-Rome","products":[{"id":"164498","name":"Premium Tour ROME","description":null,"printName":"Premium Tour ","printText":"Valid for 2 consecutive days on City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00 Enjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"39.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"25.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"164497","name":"Classic Tour ROME","description":null,"printName":"Classic Tour ","printText":"City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00.Enjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"32.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"21.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"164499","name":"Deluxe Tour ROME","description":null,"printName":"Deluxe Tour ","printText":"Valid for 3 consecutive days on City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00\nEnjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"33.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"48.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"3","name":"UAT-Paris","products":[{"id":"34664","name":"Deluxe Tour PARIS","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 consecutive days","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"24.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"48.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34665","name":"Night Tour PARIS","description":null,"printName":"Night Tour ","printText":"Panoramic Night Tour- Valid for 1 Tour  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"21:15","toTime":"23:15"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"20:15","toTime":"22:15"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"21:15","toTime":"23:15"},{"startPeriod":"Jan-05","endPeriod":"Mar-26","fromTime":"20:15","toTime":"22:15"},{"startPeriod":"Mar-26","endPeriod":"Oct-29","fromTime":"21:15","toTime":"23:15"}],"category":[{"categoryName":"Child","prices":[{"amount":"12.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"23.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34500","name":"Classic Tour PARIS","description":null,"printName":"Classic Tour ","printText":"Valid 1 Day ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"17.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"35.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34501","name":"Premium Tour PARIS","description":null,"printName":"Premium Tour ","printText":"Valid for 2 consecutive days","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"39.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"20.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"8","name":"UAT-Vienna","products":[{"id":"84572","name":"Classic Tour VIENNA","description":null,"printName":"Classic Tour","printText":"Valid for 24 hours, All Routes & City walk. Enjoy your time in Vienna. incl. 10% VAT.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"19.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"28.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84661","name":"Deluxe Tour VIENNA","description":null,"printName":"Deluxe Tour ","printText":"Valid for 48 hours + 3rd Day FREE. All Routes, river cruise, City walk & Night Tour. Enjoy your time in Vienna. incl. 10% VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"32.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84663","name":"Night Tour VIENNA","description":null,"printName":"Night Tour ","printText":"Tour starts from stop 1 \"Opera\". Enjoy your time in Vienna. incl. 10 % VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Apr-01","endPeriod":"Sep-30","fromTime":"19:30","toTime":"20:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"17.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"12.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84573","name":"Premium Tour VIENNA","description":null,"printName":"Premium Tour ","printText":"Valid for 48 hours + 3rd Day FREE. All Routes, City walk & Night Tour. Enjoy your time in Vienna. incl. 10 % VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"34.0","currencyCode":"EUR"},{"amount":"34.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"34.0","currencyCode":"EUR"},{"amount":"34.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"9","name":"UAT-Budapest","products":[{"id":"94897","name":"Night Tour BUDAPEST","description":null,"printName":"Night Tour BUDAPEST","printText":"Valid on one Night Tour starting at 19:30pm at the bus stop no.15. Not valid for Day Tour or Hop On Hop Off","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Mar-15","endPeriod":"Apr-30","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"21:00","toTime":"22:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Jan-01","endPeriod":"Jan-15","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Jan-15","endPeriod":"Mar-14","fromTime":"18:00","toTime":"19:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"4200.0","currencyCode":"HUF"}]},{"categoryName":"Adult","prices":[{"amount":"4200.0","currencyCode":"HUF"}]}],"supplierID":"BBC","ha... [truncated]
[2019-02-01 05:09:08.303] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.7.03]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: f10c5108-c882-4b3a-80d8-e3998b2aa326, Message Id: 7eb49790-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"responseType":"TourListResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722994001","Timestamp":"2019-02-01T05:09:08.283Z","RequestStatus":{"Status":"SUCCESS"},"Tour":[{"SupplierProductCode":"54493","SupplierProductName":"Classic Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54495","SupplierProductName":"Deluxe Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54496","SupplierProductName":"Night Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54494","SupplierProductName":"Premium Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74505","SupplierProductName":"Deluxe Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74506","SupplierProductName":"Night Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74503","SupplierProductName":"Classic Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74504","Sup...
[2019-02-01 05:09:08.311] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:09:08.312] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:7eb49790-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:09:08.330] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:09:08.330] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:09:08.330] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: dataSource : source.getNumActive() : 0
[2019-02-01 05:09:08.331] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.08]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f10c5108-c882-4b3a-80d8-e3998b2aa326','7eb49790-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:09:08.308 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.7.03','{"responseType":"TourListResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722994001","Timestamp":"2019-02-01T05:09:08.283Z","RequestStatus":{"Status":"SUCCESS"},"Tour":[{"SupplierProductCode":"54493","SupplierProductName":"Classic Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54495","SupplierProductName":"Deluxe Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54496","SupplierProductName":"Night Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54494","SupplierProductName":"Premium Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74505","SupplierProductName":"Deluxe Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74506","SupplierProductName":"Night Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74503","SupplierProductName":"Classic Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74504","SupplierProductName":"Premium Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154565","SupplierProductName":"Premium Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154656","SupplierProductName":"Night Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154564","SupplierProductName":"Classic Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154655","SupplierProductName":"Deluxe Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24659","SupplierProductName":"Night Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24490","SupplierProductName":"Classic Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24511","SupplierProductName":"Deluxe Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24491","SupplierProductName":"Premium Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44569","SupplierProductName":"Panoramic Night Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44567","SupplierProductName":"Premium Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44568","SupplierProductName":"Deluxe Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64657","SupplierProductName":"Deluxe Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64658","SupplierProductName":"Night Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64570","SupplierProductName":"Classic Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64571","SupplierProductName":"Premium Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164498","SupplierProductName":"Premium Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164497","SupplierProductName":"Classic Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164499","SupplierProductName":"Deluxe Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34664","SupplierProductName":"Deluxe Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34665","SupplierProductName":"Night Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34500","SupplierProductName":"Classic Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34501","SupplierProductName":"Premium Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84572","SupplierProductName":"Classic Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84661","SupplierProductName":"Deluxe Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84663","SupplierProductName":"Night Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84573","SupplierProductName":"Premium Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94897","SupplierProductName":"Night Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94866","SupplierProductName":"Deluxe Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94865","SupplierProductName":"Premium Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94864","SupplierProductName":"Classic Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114559","SupplierProductName":"Night Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"11111","SupplierProductName":"Aquaventure Waterpark","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114556","SupplierProductName":"Classic Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114557","SupplierProductName":"Premium Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114558","SupplierProductName":"Deluxe Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124562","SupplierProductName":"Premium Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124666","SupplierProductName":"Deluxe Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124667","SupplierProductName":"Night Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124560","SupplierProductName":"Classic Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"205003","SupplierProductName":"Classic Tour MUSCAT","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"205005","SupplierProductName":"Premium Tour MUSCAT","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14489","SupplierProductName":"Premium Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14488","SupplierProductName":"Classic Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14660","SupplierProductName":"Deluxe Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14751","SupplierProductName":" Night Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134750","SupplierProductName":"Night Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134508","SupplierProductName":"Premium Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134697","SupplierProductName":"Deluxe Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134507","SupplierProductName":"Classic Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"13210","SupplierProductName":"Single Route Voucher","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194595","SupplierProductName":"Deluxe Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194593","SupplierProductName":"Classic Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194594","SupplierProductName":"Premium Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""}]}}',CURRENT_TIMESTAMP,'2019-02-01 05:09:08.308','1')
[2019-02-01 05:11:24.818] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: 
********************************************************************************
Message               : Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value
 at [Source: (StringReader); line: 22, column: 38] (com.fasterxml.jackson.core.JsonParseException)
Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
Illegal unquoted character ((CTRL-CHAR, code 13)): has to be escaped using backslash to be included in string value
 at [Source: (StringReader); line: 22, column: 38] (com.fasterxml.jackson.core.JsonParseException) (org.mule.module.apikit.exception.BadRequestException)
  com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1798)
  com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:663)
  com.fasterxml.jackson.core.base.ParserMinimalBase._throwUnquotedSpace(ParserMinimalBase.java:627)
  com.fasterxml.jackson.core.json.ReaderBasedJsonParser._finishString2(ReaderBasedJsonParser.java:2045)
  com.fasterxml.jackson.core.json.ReaderBasedJsonParser._finishString(ReaderBasedJsonParser.java:2016)
  com.fasterxml.jackson.core.json.ReaderBasedJsonParser.getText(ReaderBasedJsonParser.java:278)
  com.fasterxml.jackson.databind.deser.std.BaseNodeDeserializer.deserializeObject(JsonNodeDeserializer.java:264)
  com.fasterxml.jackson.databind.deser.std.BaseNodeDeserializer.deserializeObject(JsonNodeDeserializer.java:255)
  com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:68)
  com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:15)
  com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4001)
  com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3037)
  org.mule.module.apikit.validation.io.JsonUtils.parseJson(JsonUtils.java:24)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:88)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  (114 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-01 05:12:08.735] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.3.03]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: f8690f93-c155-4386-bbce-ccaabbf3bb59, Message Id: ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "requestType": "BookingCancellationRequest",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "1004",
    "ExternalReference": "10051374722992850",
    "Timestamp": "2019-01-25 17:49:40",
    "Extension": {
      "any": {}
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ],
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "BookingReference": "REPLACE THIS WITH RESPONSE VALUE FROM BOOKING",
    "SupplierConfirmationNumber": "c4a37f6b-ece2-4e17-8eee-7a09caf321c1",
    "CancelDate": "2019-02-01",
    "Author": "Customer Service",
    "Reason": "No longer traveling",
    "SupplierNote": "Refunded Customer"
  }
}
[2019-02-01 05:12:08.743] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.4.03]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: f8690f93-c155-4386-bbce-ccaabbf3bb59, Message Id: ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-01 05:12:08.766] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.11]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:12:08.766] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.11]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:12:08.770] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.5.03]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: f8690f93-c155-4386-bbce-ccaabbf3bb59, Message Id: ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-01 05:12:08.771] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: Date TimeZone :sun.util.calendar.ZoneInfo[id="PST",offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=PST,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]]
[2019-02-01 05:12:08.771] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: System Date :2019-01-31
[2019-02-01 05:12:08.772] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.12]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:12:08.772] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.12]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:12:08.789] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.13]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:12:08.789] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.13]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:12:08.796] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.6.03]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: f8690f93-c155-4386-bbce-ccaabbf3bb59, Message Id: ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "cancelBookingRequest": {
    "tradePartnerName": "test",
    "bookingReference": "c4a37f6b-ece2-4e17-8eee-7a09caf321c1"
  }
}
[2019-02-01 05:12:08.803] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.14]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:12:08.811] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.14]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:12:08.829] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.13]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:12:08.829] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.13]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:12:08.829] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.13]: dataSource : source.getNumActive() : 0
[2019-02-01 05:12:08.829] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.13]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f8690f93-c155-4386-bbce-ccaabbf3bb59','ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:12:08.77 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.5.03','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-01 05:12:08.77','1')
[2019-02-01 05:12:08.830] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.14]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:12:08.830] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.14]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:12:08.830] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.14]: dataSource : source.getNumActive() : 0
[2019-02-01 05:12:08.831] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.14]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f8690f93-c155-4386-bbce-ccaabbf3bb59','ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-02-01 05:12:08.799 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.6.03','{
  "cancelBookingRequest": {
    "tradePartnerName": "test",
    "bookingReference": "c4a37f6b-ece2-4e17-8eee-7a09caf321c1"
  }
}',CURRENT_TIMESTAMP,'2019-02-01 05:12:08.799','1')
[2019-02-01 05:12:08.831] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.11]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:12:08.831] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.11]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:12:08.831] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.11]: dataSource : source.getNumActive() : 0
[2019-02-01 05:12:08.831] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.11]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f8690f93-c155-4386-bbce-ccaabbf3bb59','ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-01 05:12:08.736 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.3.03','{
  "requestType": "BookingCancellationRequest",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "1004",
    "ExternalReference": "10051374722992850",
    "Timestamp": "2019-01-25 17:49:40",
    "Extension": {
      "any": {}
    },
    "Parameter": [
      {
        "Name": "TourGradeLevelAvailability",
        "Value": "True"
      }
    ],
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "BookingReference": "REPLACE THIS WITH RESPONSE VALUE FROM BOOKING",
    "SupplierConfirmationNumber": "c4a37f6b-ece2-4e17-8eee-7a09caf321c1",
    "CancelDate": "2019-02-01",
    "Author": "Customer Service",
    "Reason": "No longer traveling",
    "SupplierNote": "Refunded Customer"
  }
}',CURRENT_TIMESTAMP,'2019-02-01 05:12:08.736','1')
[2019-02-01 05:12:08.832] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.12]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:12:08.832] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.12]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:12:08.832] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.12]: dataSource : source.getNumActive() : 0
[2019-02-01 05:12:08.832] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.12]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f8690f93-c155-4386-bbce-ccaabbf3bb59','ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:12:08.744 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.4.03','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-01 05:12:08.743','1')
[2019-02-01 05:12:09.304] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.7.03]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: f8690f93-c155-4386-bbce-ccaabbf3bb59, Message Id: ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: { "status":"SUCCESS", "errorMessage":"" }
[2019-02-01 05:12:09.319] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.12]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:12:09.319] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.12]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:12:09.320] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.8.03]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: f8690f93-c155-4386-bbce-ccaabbf3bb59, Message Id: ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: 
[2019-02-01 05:12:09.328] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.11]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:12:09.328] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.11]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:12:09.330] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.12]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:12:09.330] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.12]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:12:09.330] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.12]: dataSource : source.getNumActive() : 0
[2019-02-01 05:12:09.331] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.12]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f8690f93-c155-4386-bbce-ccaabbf3bb59','ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-02-01 05:12:09.307 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.7.03','{ "status":"SUCCESS", "errorMessage":"" }',CURRENT_TIMESTAMP,'2019-02-01 05:12:09.307','1')
[2019-02-01 05:12:09.351] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.11]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:12:09.351] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.11]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:12:09.351] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.11]: dataSource : source.getNumActive() : 0
[2019-02-01 05:12:09.351] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.11]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f8690f93-c155-4386-bbce-ccaabbf3bb59','ec7c61e0-25df-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:12:09.322 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.8.03','',CURRENT_TIMESTAMP,'2019-02-01 05:12:09.322','1')
[2019-02-01 05:19:58.480] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.3.04]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: fff21eff-42ff-426d-99a4-0f66912b6b1e, Message Id: 047a8b40-25e1-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "2000145",
   "ExternalReference": "332002200014548999731299852079166",
   "Timestamp": "2019-03-07T12:35:47.214-08:00",
   "BookingReference": "645394587",
   "TravelDate": "2019-07-02",
   "SupplierProductCode": "14488",
   "Location": "London",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     }
   },
   "Inclusions": {
     "Inclusion": [
       "Hop-on hop-off bus tour",
       "Live guide (Red Route)",
       "Recorded commentary",
       "Complimentary earphones",
       "30-minute river cruise",
       "A walking tour",
       "Reward Voucher booklet",
       "Hotel drop-off"
     ]
   },
   "CurrencyCode": "GBP",
   "Amount": 77.22,
   "Traveller": [
     {
       "TravellerIdentifier": "1",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     },
     {
       "TravellerIdentifier": "2",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     },
     {
       "TravellerIdentifier": "3",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",...
[2019-02-01 05:19:58.510] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: Date TimeZone :sun.util.calendar.ZoneInfo[id="PST",offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=PST,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]]
[2019-02-01 05:19:58.510] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: System Date :2019-01-31
[2019-02-01 05:19:58.513] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.15]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:19:58.513] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.15]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:047a8b40-25e1-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:19:58.516] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.4.04]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: fff21eff-42ff-426d-99a4-0f66912b6b1e, Message Id: 047a8b40-25e1-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-01 05:19:58.530] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.16]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:19:58.530] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.16]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:047a8b40-25e1-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:19:58.535] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.5.04]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: fff21eff-42ff-426d-99a4-0f66912b6b1e, Message Id: 047a8b40-25e1-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}]
[2019-02-01 05:19:58.558] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.17]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:19:58.558] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.17]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:047a8b40-25e1-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:19:58.564] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-booking.6.04]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: fff21eff-42ff-426d-99a4-0f66912b6b1e, Message Id: 047a8b40-25e1-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "bookingRequest": {
    "tradePartnerName": "test",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": "",
      "phone": "+1 999999999999"
    },
    "products": {
      "product": [
        {
          "productId": "14488",
          "dateOfTravel": "2019-07-02",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}
[2019-02-01 05:19:58.579] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.18]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:19:58.579] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.18]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:047a8b40-25e1-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:19:58.598] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.17]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:19:58.598] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.17]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:19:58.598] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.17]: dataSource : source.getNumActive() : 0
[2019-02-01 05:19:58.598] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.17]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('fff21eff-42ff-426d-99a4-0f66912b6b1e','047a8b40-25e1-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:19:58.536 [bb-viator-api-v1-t].bb-viator-api-flow-booking.5.04','[{product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}]',CURRENT_TIMESTAMP,'2019-02-01 05:19:58.535','1')
[2019-02-01 05:19:58.599] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.15]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:19:58.599] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.15]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:19:58.599] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.15]: dataSource : source.getNumActive() : 0
[2019-02-01 05:19:58.599] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.15]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('fff21eff-42ff-426d-99a4-0f66912b6b1e','047a8b40-25e1-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-01 05:19:58.482 [bb-viator-api-v1-t].bb-viator-api-flow-booking.3.04','{
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "2000145",
   "ExternalReference": "332002200014548999731299852079166",
   "Timestamp": "2019-03-07T12:35:47.214-08:00",
   "BookingReference": "645394587",
   "TravelDate": "2019-07-02",
   "SupplierProductCode": "14488",
   "Location": "London",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     }
   },
   "Inclusions": {
     "Inclusion": [
       "Hop-on hop-off bus tour",
       "Live guide (Red Route)",
       "Recorded commentary",
       "Complimentary earphones",
       "30-minute river cruise",
       "A walking tour",
       "Reward Voucher booklet",
       "Hotel drop-off"
     ]
   },
   "CurrencyCode": "GBP",
   "Amount": 77.22,
   "Traveller": [
     {
       "TravellerIdentifier": "1",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     },
     {
       "TravellerIdentifier": "2",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     },
     {
       "TravellerIdentifier": "3",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     }
   ],
   "TravellerMix": {
     "Adult": "3",
     "Child": "0",
     "Youth": "0",
     "Infant": "0",
     "Senior": "0",
     "Total": "3"
   },
   "ContactDetail": {
     "ContactType": "ALTERNATE",
     "ContactName": "Cust Name",
     "ContactValue": "+1 999999999999"
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ]
 }
}',CURRENT_TIMESTAMP,'2019-02-01 05:19:58.482','1')
[2019-02-01 05:19:58.600] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.16]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:19:58.600] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.16]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:19:58.600] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.16]: dataSource : source.getNumActive() : 0
[2019-02-01 05:19:58.600] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.16]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('fff21eff-42ff-426d-99a4-0f66912b6b1e','047a8b40-25e1-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:19:58.516 [bb-viator-api-v1-t].bb-viator-api-flow-booking.4.04','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-01 05:19:58.516','1')
[2019-02-01 05:19:58.601] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.18]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:19:58.601] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.18]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:19:58.601] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.18]: dataSource : source.getNumActive() : 0
[2019-02-01 05:19:58.601] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.18]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('fff21eff-42ff-426d-99a4-0f66912b6b1e','047a8b40-25e1-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-02-01 05:19:58.565 [bb-viator-api-v1-t].bb-viator-api-flow-booking.6.04','{
  "bookingRequest": {
    "tradePartnerName": "test",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": "",
      "phone": "+1 999999999999"
    },
    "products": {
      "product": [
        {
          "productId": "14488",
          "dateOfTravel": "2019-07-02",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}',CURRENT_TIMESTAMP,'2019-02-01 05:19:58.565','1')
[2019-02-01 05:20:19.355] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.7.04]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: fff21eff-42ff-426d-99a4-0f66912b6b1e, Message Id: 047a8b40-25e1-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: 
[2019-02-01 05:20:19.373] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.18]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:20:19.373] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.18]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:047a8b40-25e1-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:20:19.374] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.8.04]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: fff21eff-42ff-426d-99a4-0f66912b6b1e, Message Id: 047a8b40-25e1-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-02-01T05:20:19.345Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10112181|1|02072019|1[14488AD:1:3700:GBP]956185f84796f549",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10112182|1|02072019|1[14488AD:1:3700:GBP]dbdb7b7a1165f1f9",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10112183|1|02072019|1[14488AD:1:3700:GBP]8b52315e1805b54d",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "0acf68bc-5564-425a-9624-626a3b532094"
  }
}
[2019-02-01 05:20:19.383] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.17]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-01 05:20:19.383] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.17]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:047a8b40-25e1-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-01 05:20:19.387] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.18]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:20:19.387] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.18]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:20:19.387] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.18]: dataSource : source.getNumActive() : 0
[2019-02-01 05:20:19.388] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.18]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('fff21eff-42ff-426d-99a4-0f66912b6b1e','047a8b40-25e1-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-02-01 05:20:19.355 [bb-viator-api-v1-t].bb-viator-api-flow-booking.7.04','',CURRENT_TIMESTAMP,'2019-02-01 05:20:19.355','1')
[2019-02-01 05:20:19.394] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.17]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-01 05:20:19.394] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.17]: dataSource : source.getInitialSize() : 1
[2019-02-01 05:20:19.394] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.17]: dataSource : source.getNumActive() : 0
[2019-02-01 05:20:19.394] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.17]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('fff21eff-42ff-426d-99a4-0f66912b6b1e','047a8b40-25e1-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-01 05:20:19.379 [bb-viator-api-v1-t].bb-viator-api-flow-booking.8.04','{
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-02-01T05:20:19.345Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10112181|1|02072019|1[14488AD:1:3700:GBP]956185f84796f549",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10112182|1|02072019|1[14488AD:1:3700:GBP]dbdb7b7a1165f1f9",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10112183|1|02072019|1[14488AD:1:3700:GBP]8b52315e1805b54d",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "0acf68bc-5564-425a-9624-626a3b532094"
  }
}',CURRENT_TIMESTAMP,'2019-02-01 05:20:19.379','1')
[2019-02-02 15:32:07.986] INFO    org.mule.module.http.internal.listener.HttpListenerRegistry [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: No listener found for request: (GET)/admin/assets/js/views/login.js
[2019-02-02 15:32:07.987] INFO    org.mule.module.http.internal.listener.HttpListenerRegistry [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: Available listeners are: [(*)/api/1/*]
[2019-02-04 21:41:18.842] INFO    org.mule.module.http.internal.listener.HttpListenerRegistry [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: No listener found for request: (GET)/
[2019-02-04 21:41:18.844] INFO    org.mule.module.http.internal.listener.HttpListenerRegistry [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: Available listeners are: [(*)/api/1/*]
[2019-02-05 07:15:27.617] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: Schema validation failed: error: instance type (object) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/tourListRequestSchema.json#","pointer":"/properties/data/properties/Parameter"}
    instance: {"pointer":"/data/Parameter"}
    domain: "validation"
    keyword: "type"
    found: "object"
    expected: ["array"]


[2019-02-05 07:15:27.618] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: 
********************************************************************************
Message               : error: instance type (object) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/tourListRequestSchema.json#","pointer":"/properties/data/properties/Parameter"}
    instance: {"pointer":"/data/Parameter"}
    domain: "validation"
    keyword: "type"
    found: "object"
    expected: ["array"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (object) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/tourListRequestSchema.json#","pointer":"/properties/data/properties/Parameter"}
    instance: {"pointer":"/data/Parameter"}
    domain: "validation"
    keyword: "type"
    found: "object"
    expected: ["array"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:15:27.637] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.02]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 4d502662-ec88-43b0-a33c-07b9e5697137, Message Id: d03ad780-2915-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (object) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/tourListRequestSchema.json#","pointer":"/properties/data/properties/Parameter"}
    instance: {"pointer":"/data/Parameter"}
    domain: "validation"
    keyword: "type"
    found: "object"
    expected: ["array"]


[2019-02-05 07:15:27.667] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:15:27.668] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:d03ad780-2915-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:15:27.716] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:15:27.716] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:15:27.716] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: dataSource : source.getNumActive() : 0
[2019-02-05 07:15:27.716] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('4d502662-ec88-43b0-a33c-07b9e5697137','d03ad780-2915-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:15:27.639 [bb-viator-api-v1-t].api-main.1.02','{
  "requestType": "TourListRequest",
  "data": {
    "ApiKey": "6p+AIYvssp_=QZaFAELfvU-9qAD@xZbo*Vvj5?PbT_R",
    "ResellerId": "3455",
    "SupplierId": "3345",
    "ExternalReference": "10051374722994001",
    "Timestamp": "2019-02-22 18:20:49",
    "Extension":{
      "any":{
      }
      },
      "Parameter":{
      "Name":{
        "0":" "
      },
      "Value":{
        
      }
    }

  }
}',CURRENT_TIMESTAMP,'2019-02-05 07:15:27.639','1')
[2019-02-05 07:15:27.762] INFO    com.bb.commons [[bb-viator-api-v1-t].api-main.2.02]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 4d502662-ec88-43b0-a33c-07b9e5697137, Message Id: d03ad780-2915-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"responseType":"TourListResponse","data":{"ApiKey":"6p+AIYvssp_=QZaFAELfvU-9qAD@xZbo*Vvj5?PbT_R","ResellerId":"3455","SupplierId":"3345","ExternalReference":"10051374722994001","Timestamp":"2019-02-05T07:15:27.753Z","RequestStatus":{"Status":"ERROR","Error":{"ErrorCode":"422", "ErrorMessage":"missing mandatory elements in JSON request - or Invalid input"}}}}
[2019-02-05 07:15:27.765] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:15:27.765] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:d03ad780-2915-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:15:27.780] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:15:27.780] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:15:27.780] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: dataSource : source.getNumActive() : 0
[2019-02-05 07:15:27.780] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('4d502662-ec88-43b0-a33c-07b9e5697137','d03ad780-2915-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:15:27.763 [bb-viator-api-v1-t].api-main.2.02','{"responseType":"TourListResponse","data":{"ApiKey":"6p+AIYvssp_=QZaFAELfvU-9qAD@xZbo*Vvj5?PbT_R","ResellerId":"3455","SupplierId":"3345","ExternalReference":"10051374722994001","Timestamp":"2019-02-05T07:15:27.753Z","RequestStatus":{"Status":"ERROR","Error":{"ErrorCode":"422", "ErrorMessage":"missing mandatory elements in JSON request - or Invalid input"}}}}',CURRENT_TIMESTAMP,'2019-02-05 07:15:27.763','1')
[2019-02-05 07:16:17.123] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: Schema validation failed: error: instance type (object) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/tourListRequestSchema.json#","pointer":"/properties/data/properties/Parameter"}
    instance: {"pointer":"/data/Parameter"}
    domain: "validation"
    keyword: "type"
    found: "object"
    expected: ["array"]


[2019-02-05 07:16:17.127] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.04]: 
********************************************************************************
Message               : error: instance type (object) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/tourListRequestSchema.json#","pointer":"/properties/data/properties/Parameter"}
    instance: {"pointer":"/data/Parameter"}
    domain: "validation"
    keyword: "type"
    found: "object"
    expected: ["array"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (object) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/tourListRequestSchema.json#","pointer":"/properties/data/properties/Parameter"}
    instance: {"pointer":"/data/Parameter"}
    domain: "validation"
    keyword: "type"
    found: "object"
    expected: ["array"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:16:17.129] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.02]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: ecb00d34-91d4-4371-b25e-0b2dbdf8cd4e, Message Id: edbcdba0-2915-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (object) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/tourListRequestSchema.json#","pointer":"/properties/data/properties/Parameter"}
    instance: {"pointer":"/data/Parameter"}
    domain: "validation"
    keyword: "type"
    found: "object"
    expected: ["array"]


[2019-02-05 07:16:17.132] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:16:17.132] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:edbcdba0-2915-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:16:17.156] INFO    com.bb.commons [[bb-viator-api-v1-t].api-main.2.02]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: ecb00d34-91d4-4371-b25e-0b2dbdf8cd4e, Message Id: edbcdba0-2915-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"responseType":"TourListResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"3455","SupplierId":"3345","ExternalReference":"10051374722994001","Timestamp":"2019-02-05T07:16:17.146Z","RequestStatus":{"Status":"ERROR","Error":{"ErrorCode":"422", "ErrorMessage":"missing mandatory elements in JSON request - or Invalid input"}}}}
[2019-02-05 07:16:17.163] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.20]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:16:17.163] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.20]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:edbcdba0-2915-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:16:17.190] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:16:17.190] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:16:17.190] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: dataSource : source.getNumActive() : 0
[2019-02-05 07:16:17.190] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.19]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('ecb00d34-91d4-4371-b25e-0b2dbdf8cd4e','edbcdba0-2915-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:16:17.129 [bb-viator-api-v1-t].api-main.1.02','{
  "requestType": "TourListRequest",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "3455",
    "SupplierId": "3345",
    "ExternalReference": "10051374722994001",
    "Timestamp": "2019-02-22 18:20:49",
    "Extension":{
      "any":{
      }
      },
      "Parameter":{
      "Name":{
        "0":" "
      },
      "Value":{
        
      }
    }

  }
}',CURRENT_TIMESTAMP,'2019-02-05 07:16:17.129','1')
[2019-02-05 07:16:17.191] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.20]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:16:17.191] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.20]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:16:17.191] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.20]: dataSource : source.getNumActive() : 0
[2019-02-05 07:16:17.191] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.20]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('ecb00d34-91d4-4371-b25e-0b2dbdf8cd4e','edbcdba0-2915-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:16:17.156 [bb-viator-api-v1-t].api-main.2.02','{"responseType":"TourListResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"3455","SupplierId":"3345","ExternalReference":"10051374722994001","Timestamp":"2019-02-05T07:16:17.146Z","RequestStatus":{"Status":"ERROR","Error":{"ErrorCode":"422", "ErrorMessage":"missing mandatory elements in JSON request - or Invalid input"}}}}',CURRENT_TIMESTAMP,'2019-02-05 07:16:17.156','1')
[2019-02-05 07:17:30.752] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.3.04]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: 8d85b0dc-cc62-4ad0-bf40-e9ff08bfa053, Message Id: 199e60e0-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
 "requestType": "TourListRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "1004",
   "ExternalReference": "10051374722994001",
   "Timestamp": "2019-01-21 18:20:49",
   "Extension": {
     "any": {}
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ]
 }
}
[2019-02-05 07:17:30.774] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.21]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:17:30.774] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.21]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:199e60e0-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:17:30.850] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.21]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:17:30.850] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.21]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:17:30.850] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.21]: dataSource : source.getNumActive() : 0
[2019-02-05 07:17:30.850] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.21]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('8d85b0dc-cc62-4ad0-bf40-e9ff08bfa053','199e60e0-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-05 07:17:30.755 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.3.04','{
 "requestType": "TourListRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "1004",
   "ExternalReference": "10051374722994001",
   "Timestamp": "2019-01-21 18:20:49",
   "Extension": {
     "any": {}
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ]
 }
}',CURRENT_TIMESTAMP,'2019-02-05 07:17:30.755','1')
[2019-02-05 07:17:30.883] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.4.04]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: 8d85b0dc-cc62-4ad0-bf40-e9ff08bfa053, Message Id: 199e60e0-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-05 07:17:30.895] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.21]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:17:30.895] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.21]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:199e60e0-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:17:30.899] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.5.04]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: 8d85b0dc-cc62-4ad0-bf40-e9ff08bfa053, Message Id: 199e60e0-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "countryCodeFilter": "null",
  "tradePartnerName": "test"
}
[2019-02-05 07:17:30.912] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.21]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:17:30.912] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.21]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:17:30.912] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.21]: dataSource : source.getNumActive() : 0
[2019-02-05 07:17:30.913] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.21]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('8d85b0dc-cc62-4ad0-bf40-e9ff08bfa053','199e60e0-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:17:30.883 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.4.04','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-05 07:17:30.883','1')
[2019-02-05 07:17:30.912] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:17:30.913] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:199e60e0-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:17:30.931] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:17:30.931] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:17:30.931] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: dataSource : source.getNumActive() : 0
[2019-02-05 07:17:30.931] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('8d85b0dc-cc62-4ad0-bf40-e9ff08bfa053','199e60e0-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-02-05 07:17:30.903 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.5.04','{
  "countryCodeFilter": "null",
  "tradePartnerName": "test"
}',CURRENT_TIMESTAMP,'2019-02-05 07:17:30.903','1')
[2019-02-05 07:17:46.315] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.6.04]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: 8d85b0dc-cc62-4ad0-bf40-e9ff08bfa053, Message Id: 199e60e0-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"status":"SUCCESS","code":null,"message":null,"productResult":{"countries":[{"id":null,"name":"USA","code":"USA","cities":[{"id":null,"name":"USA -6 hours","branches":[{"id":"15","name":"UAT-Chicago","products":[{"id":"154565","name":"Premium Tour CHICAGO","description":null,"printName":"Premium Tour ","printText":"Valid for 2 day on the date of purchase.If purchased after 3 PM this ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of our staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"30.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"55.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154656","name":"Night Tour CHICAGO","description":null,"printName":"Night Tour ","printText":"Live Guided, Panoramic, Non-Stop Night Tour of Chicago. Departs from Navy Pier (stop 11) Nightly at 7.00pm","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","...
[2019-02-05 07:17:46.331] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:17:46.331] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:199e60e0-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:17:46.343] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:17:46.343] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:17:46.343] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: dataSource : source.getNumActive() : 0
[2019-02-05 07:17:46.343] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('8d85b0dc-cc62-4ad0-bf40-e9ff08bfa053','199e60e0-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-02-05 07:17:46.315 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.6.04','{"status":"SUCCESS","code":null,"message":null,"productResult":{"countries":[{"id":null,"name":"USA","code":"USA","cities":[{"id":null,"name":"USA -6 hours","branches":[{"id":"15","name":"UAT-Chicago","products":[{"id":"154565","name":"Premium Tour CHICAGO","description":null,"printName":"Premium Tour ","printText":"Valid for 2 day on the date of purchase.If purchased after 3 PM this ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of our staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"30.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"55.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154656","name":"Night Tour CHICAGO","description":null,"printName":"Night Tour ","printText":"Live Guided, Panoramic, Non-Stop Night Tour of Chicago. Departs from Navy Pier (stop 11) Nightly at 7.00pm","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"19:45","toTime":"22:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"19:45","toTime":"22:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"29.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"15.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154564","name":"Classic Tour CHICAGO","description":null,"printName":"Classic Tour ","printText":"Valid for one day on the date of purchase.If purchase after 3PM,ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of the staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"45.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"25.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154655","name":"Deluxe Tour CHICAGO","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 day on the date of purchase.If purchased after 3 PM this ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of our staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"35.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"65.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]},{"id":null,"name":"USA -8 hours","branches":[{"id":"5","name":"UAT-San Francisco","products":[{"id":"54493","name":"Classic Tour SAN FRANCISCO","description":null,"printName":"Classic Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for One Day Hop-on Hop-Tour and Walking Tours. Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"40.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"52.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54495","name":"Deluxe Tour SAN FRANCISCO","description":null,"printName":"Deluxe Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for Two Day Hop-on Hop-Tour, Walking Tours & Night Tour (Except May 24th 2017). Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"75.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"60.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54496","name":"Night Tour SAN FRANCISCO","description":null,"printName":"Night Tour ","printText":"Daily at 6:30pm, 7:00pm & (7:30pm April - October) Arrive 30 minutes prior to desired tour time as seats are first come first serve. Tour operates rain or shine. All sales are final. No refunds of exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"18:30","toTime":"21:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"18:30","toTime":"21:00"},{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"18:30","toTime":"21:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"30.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"20.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54494","name":"Premium Tour SAN FRANCISCO","description":null,"printName":"Premium Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for One Day Hop-on Hop-Tour & Walking Tours . Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"52.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"65.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"7","name":"UAT-Las Vegas","products":[{"id":"74505","name":"Deluxe Tour LAS VEGAS","description":null,"printName":"Deluxe","printText":"Valid for 3 days hop on hop off 10 am to 6 pm daily. If purchased or redeemed after 3 PM,this ticket is valid until the same time 3 days from now. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"75.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"59.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74506","name":"Night Tour LAS VEGAS","description":null,"printName":"Panoramic Night Tour","printText":"Must be used within 24 hours after purchase. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"19:00","toTime":"10:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"35.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"45.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74503","name":"Classic Tour LAS VEGAS","description":null,"printName":"Classic","printText":"Valid for one day hop on hop off tour 10 am to 6 pm daily. THIS TICKET INCLUDES STATE PASSENGER TAX.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"39.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74504","name":"Premium Tour LAS VEGAS","description":null,"printName":"Premium","printText":"Valid for 2 days  hop on hop off 10 am to 6 pm daily. If purchased or redeemed after 3 PM,this ticket is valid until the same time 2 days from now. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"59.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"49.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]},{"id":null,"name":"USA -5 hours","branches":[{"id":"2","name":"UAT-New York","products":[{"id":"24659","name":"Night Tour NEW YORK","description":null,"printName":"Night Tour ","printText":"Valid for a single Night Tour. Departs from Stop#18- M&M World from 7pm to 9pm every 30min. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"18:00","toTime":"20:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"19:00","toTime":"21:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"19:00","toTime":"21:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"18:00","toTime":"20:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"18:00","toTime":"20:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"39.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24490","name":"Classic Tour NEW YORK","description":null,"printName":"Classic","printText":"If purchased or redeemed after 3pm this ticket is valid until the same time the next day. This ticket is valid on the Downtown and Uptown Loops. Last departure for Uptown and Downtown is at 5pm. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"49.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"59.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24511","name":"Deluxe Tour NEW YORK","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 days. If purchased or redeemed after 3PM, this ticket is valid until the same time 2 days from now. This ticket is valid on the Uptown, Downtown, Harlem, Brooklyn Loops and Night Tours as well as a Sightseeing Cruise. Last depature for the Uptown and Downtown  is at 5PM. Last depature for the Brooklyn and Harlem Loop is 3PM. Want more? Please ask an agent about upgrades.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"69.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"89.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24491","name":"Premium Tour NEW YORK","description":null,"printName":"2 Day Premium","printText":"Valid for 2 Days. If purchased or redeemed after 3pm this ticket is valid until the same time 2 days from now.This ticket is valid on the Downtown, Midtown, Uptown and the Brooklyn Tours. . Last departure for Uptown and Downtown is at 5pm. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"59.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"69.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"4","name":"UAT-Washington DC","products":[{"id":"44569","name":"Panoramic Night Tour WASHINGTON DC","description":null,"printName":"Panoramic Night Tour ","printText":"Valid for one Night Tour. See current brochure for departure time.\n","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-12","fromTime":"18:30","toTime":"20:30"},{"startPeriod":"Mar-13","endPeriod":"May-25","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"May-26","endPeriod":"Sep-04","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Sep-05","endPeriod":"Dec-31","fromTime":"18:30","toTime":"20:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"29.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"39.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"44567","name":"Premium Tour WASHINGTON DC","description":null,"printName":"Premium Tour ","printText":"Valid for 1 day on all Loops","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"29.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"44568","name":"Deluxe Tour WASHINGTON DC","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 days on all Loops","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-12","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"Mar-13","endPeriod":"May-25","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"May-26","endPeriod":"Sep-04","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Sep-05","endPeriod":"Dec-31","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"69.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"49.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"6","name":"UAT-Miami","products":[{"id":"64657","name":"Deluxe Tour MIAMI","description":null,"printName":"Deluxe Tour ","printText":"2 Days all Loops Tour, Biscayne Boat and Night Tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"79.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"64.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64658","name":"Night Tour MIAMI","description":null,"printName":"Night Tour","printText":"Departs from Senor frogs at 7:30pm and Central Station 8:00pm.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"19:30","toTime":"21:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"29.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"19.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64570","name":"Classic Tour MIAMI","description":null,"printName":"Classic Tour ","printText":"1 Day all loops tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"39.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64571","name":"Premium Tour MIAMI","description":null,"printName":"Premium Tour ","printText":"1 Day All Loops Tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"59.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"69.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]}]},{"id":null,"name":" Europe","code":"EUR","cities":[{"id":null,"name":"Europe Time Zone","branches":[{"id":"16","name":"UAT-Rome","products":[{"id":"164498","name":"Premium Tour ROME","description":null,"printName":"Premium Tour ","printText":"Valid for 2 consecutive days on City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00 Enjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"39.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"25.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"164497","name":"Classic Tour ROME","description":null,"printName":"Classic Tour ","printText":"City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00.Enjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"32.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"21.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"164499","name":"Deluxe Tour ROME","description":null,"printName":"Deluxe Tour ","printText":"Valid for 3 consecutive days on City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00\nEnjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"33.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"48.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"3","name":"UAT-Paris","products":[{"id":"34664","name":"Deluxe Tour PARIS","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 consecutive days","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"24.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"48.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34665","name":"Night Tour PARIS","description":null,"printName":"Night Tour ","printText":"Panoramic Night Tour- Valid for 1 Tour  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"21:15","toTime":"23:15"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"20:15","toTime":"22:15"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"21:15","toTime":"23:15"},{"startPeriod":"Jan-05","endPeriod":"Mar-26","fromTime":"20:15","toTime":"22:15"},{"startPeriod":"Mar-26","endPeriod":"Oct-29","fromTime":"21:15","toTime":"23:15"}],"category":[{"categoryName":"Child","prices":[{"amount":"12.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"23.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34500","name":"Classic Tour PARIS","description":null,"printName":"Classic Tour ","printText":"Valid 1 Day ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"17.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"35.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34501","name":"Premium Tour PARIS","description":null,"printName":"Premium Tour ","printText":"Valid for 2 consecutive days","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"39.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"20.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"8","name":"UAT-Vienna","products":[{"id":"84572","name":"Classic Tour VIENNA","description":null,"printName":"Classic Tour","printText":"Valid for 24 hours, All Routes & City walk. Enjoy your time in Vienna. incl. 10% VAT.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"19.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"28.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84661","name":"Deluxe Tour VIENNA","description":null,"printName":"Deluxe Tour ","printText":"Valid for 48 hours + 3rd Day FREE. All Routes, river cruise, City walk & Night Tour. Enjoy your time in Vienna. incl. 10% VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"32.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84663","name":"Night Tour VIENNA","description":null,"printName":"Night Tour ","printText":"Tour starts from stop 1 \"Opera\". Enjoy your time in Vienna. incl. 10 % VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Apr-01","endPeriod":"Sep-30","fromTime":"19:30","toTime":"20:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"17.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"12.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84573","name":"Premium Tour VIENNA","description":null,"printName":"Premium Tour ","printText":"Valid for 48 hours + 3rd Day FREE. All Routes, City walk & Night Tour. Enjoy your time in Vienna. incl. 10 % VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"34.0","currencyCode":"EUR"},{"amount":"34.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"34.0","currencyCode":"EUR"},{"amount":"34.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"9","name":"UAT-Budapest","products":[{"id":"94897","name":"Night Tour BUDAPEST","description":null,"printName":"Night Tour BUDAPEST","printText":"Valid on one Night Tour starting at 19:30pm at the bus stop no.15. Not valid for Day Tour or Hop On Hop Off","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Mar-15","endPeriod":"Apr-30","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"21:00","toTime":"22:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Jan-01","endPeriod":"Jan-15","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Jan-15","endPeriod":"Mar-14","fromTime":"18:00","toTime":"19:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"4200.0","currencyCode":"HUF"}]},{"categoryName":"Adult","prices":[{"amount":"4200.0","currencyCode":"HUF"}]}],"supplierID":"BBC","ha... [truncated]
[2019-02-05 07:17:46.388] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.7.04]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: 8d85b0dc-cc62-4ad0-bf40-e9ff08bfa053, Message Id: 199e60e0-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"responseType":"TourListResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722994001","Timestamp":"2019-02-05T07:17:46.371Z","RequestStatus":{"Status":"SUCCESS"},"Tour":[{"SupplierProductCode":"154565","SupplierProductName":"Premium Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154656","SupplierProductName":"Night Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154564","SupplierProductName":"Classic Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154655","SupplierProductName":"Deluxe Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54493","SupplierProductName":"Classic Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54495","SupplierProductName":"Deluxe Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54496","SupplierProductName":"Night Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54494","SupplierPro...
[2019-02-05 07:17:46.396] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:17:46.396] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:199e60e0-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:17:46.408] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:17:46.408] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:17:46.408] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: dataSource : source.getNumActive() : 0
[2019-02-05 07:17:46.409] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.22]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('8d85b0dc-cc62-4ad0-bf40-e9ff08bfa053','199e60e0-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:17:46.389 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.7.04','{"responseType":"TourListResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722994001","Timestamp":"2019-02-05T07:17:46.371Z","RequestStatus":{"Status":"SUCCESS"},"Tour":[{"SupplierProductCode":"154565","SupplierProductName":"Premium Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154656","SupplierProductName":"Night Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154564","SupplierProductName":"Classic Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154655","SupplierProductName":"Deluxe Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54493","SupplierProductName":"Classic Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54495","SupplierProductName":"Deluxe Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54496","SupplierProductName":"Night Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54494","SupplierProductName":"Premium Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74505","SupplierProductName":"Deluxe Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74506","SupplierProductName":"Night Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74503","SupplierProductName":"Classic Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74504","SupplierProductName":"Premium Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24659","SupplierProductName":"Night Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24490","SupplierProductName":"Classic Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24511","SupplierProductName":"Deluxe Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24491","SupplierProductName":"Premium Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44569","SupplierProductName":"Panoramic Night Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44567","SupplierProductName":"Premium Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44568","SupplierProductName":"Deluxe Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64657","SupplierProductName":"Deluxe Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64658","SupplierProductName":"Night Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64570","SupplierProductName":"Classic Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64571","SupplierProductName":"Premium Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164498","SupplierProductName":"Premium Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164497","SupplierProductName":"Classic Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164499","SupplierProductName":"Deluxe Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34664","SupplierProductName":"Deluxe Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34665","SupplierProductName":"Night Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34500","SupplierProductName":"Classic Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34501","SupplierProductName":"Premium Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84572","SupplierProductName":"Classic Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84661","SupplierProductName":"Deluxe Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84663","SupplierProductName":"Night Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84573","SupplierProductName":"Premium Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94897","SupplierProductName":"Night Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94866","SupplierProductName":"Deluxe Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94865","SupplierProductName":"Premium Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94864","SupplierProductName":"Classic Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114559","SupplierProductName":"Night Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"11111","SupplierProductName":"Aquaventure Waterpark","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114556","SupplierProductName":"Classic Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114557","SupplierProductName":"Premium Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114558","SupplierProductName":"Deluxe Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124562","SupplierProductName":"Premium Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124666","SupplierProductName":"Deluxe Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124667","SupplierProductName":"Night Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124560","SupplierProductName":"Classic Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"205003","SupplierProductName":"Classic Tour MUSCAT","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"205005","SupplierProductName":"Premium Tour MUSCAT","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14489","SupplierProductName":"Premium Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14488","SupplierProductName":"Classic Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14660","SupplierProductName":"Deluxe Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14751","SupplierProductName":" Night Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134750","SupplierProductName":"Night Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134508","SupplierProductName":"Premium Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134697","SupplierProductName":"Deluxe Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134507","SupplierProductName":"Classic Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"13210","SupplierProductName":"Single Route Voucher","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194595","SupplierProductName":"Deluxe Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194593","SupplierProductName":"Classic Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194594","SupplierProductName":"Premium Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""}]}}',CURRENT_TIMESTAMP,'2019-02-05 07:17:46.389','1')
[2019-02-05 07:19:35.980] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.05]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["boolean"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/availabilityRequestSchema.json#","pointer":"/properties/data/properties/DeltaOnly"}
    instance: {"pointer":"/data/DeltaOnly"}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["boolean"]


[2019-02-05 07:19:35.982] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.05]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["boolean"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/availabilityRequestSchema.json#","pointer":"/properties/data/properties/DeltaOnly"}
    instance: {"pointer":"/data/DeltaOnly"}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["boolean"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["boolean"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/availabilityRequestSchema.json#","pointer":"/properties/data/properties/DeltaOnly"}
    instance: {"pointer":"/data/DeltaOnly"}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["boolean"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:19:35.990] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.03]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 3a76db3f-8f02-44ac-832f-fd2a830b5574, Message Id: 6443e020-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["boolean"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/availabilityRequestSchema.json#","pointer":"/properties/data/properties/DeltaOnly"}
    instance: {"pointer":"/data/DeltaOnly"}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["boolean"]


[2019-02-05 07:19:36.012] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.23]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:19:36.012] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.23]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:6443e020-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:19:36.014] INFO    com.bb.commons [[bb-viator-api-v1-t].api-main.2.03]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 3a76db3f-8f02-44ac-832f-fd2a830b5574, Message Id: 6443e020-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"responseType":"AvailabilityResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722992616","Timestamp":"2019-02-05T07:19:36.005Z","RequestStatus":{"Status":"ERROR","Error":{"ErrorCode":"422", "ErrorMessage":"missing mandatory elements in JSON request - or Invalid input"}}}}
[2019-02-05 07:19:36.020] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.24]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:19:36.021] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.24]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:6443e020-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:19:36.060] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.23]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:19:36.060] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.23]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:19:36.060] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.23]: dataSource : source.getNumActive() : 0
[2019-02-05 07:19:36.061] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.23]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('3a76db3f-8f02-44ac-832f-fd2a830b5574','6443e020-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:19:35.992 [bb-viator-api-v1-t].api-main.1.03','{
 "requestType": "AvailabilityRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "1004",
   "ExternalReference": "10051374722992616",
   "Timestamp": "2019-09-21 18:34:24",
   "StartDate": "2019-03-01",
   "EndDate": "2018-03-10",
   "DeltaOnly": "FALSE",
   "SupplierProductCode": "134750",
"Option": [{
"Name":"asdf",
"Value":"asdf"
}],
   "TravellerMix": {
   "Adult": "1",
     "Child": "1",
     "Youth": "0",
     "Infant": "0",
     "Senior": "0",
     "Total": "2"
   }  
 }
}',CURRENT_TIMESTAMP,'2019-02-05 07:19:35.992','1')
[2019-02-05 07:19:36.062] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.24]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:19:36.062] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.24]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:19:36.062] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.24]: dataSource : source.getNumActive() : 0
[2019-02-05 07:19:36.062] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.24]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('3a76db3f-8f02-44ac-832f-fd2a830b5574','6443e020-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:19:36.015 [bb-viator-api-v1-t].api-main.2.03','{"responseType":"AvailabilityResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722992616","Timestamp":"2019-02-05T07:19:36.005Z","RequestStatus":{"Status":"ERROR","Error":{"ErrorCode":"422", "ErrorMessage":"missing mandatory elements in JSON request - or Invalid input"}}}}',CURRENT_TIMESTAMP,'2019-02-05 07:19:36.015','1')
[2019-02-05 07:20:48.134] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-availability.5.04]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-availability, Request Id: f356995c-fd5f-49ca-ba59-9c678b10a9dd, Message Id: 8f445430-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
 "requestType": "AvailabilityRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "1004",
   "ExternalReference": "10051374722992616",
   "Timestamp": "2019-03-21 18:34:24",
   "StartDate": "2019-12-21",
   "EndDate": "2019-12-22",
   "DeltaOnly": false,
   "SupplierProductCode": "154565",
   "TourOptions": {
     "SupplierOptionCode": "9am",
     "SupplierOptionName": "Bondi Beach Private Lesson 9AM",
     "TourDepartureTime": "09:00:00",
     "TourDuration": "PT1H",
     "Language": {
       "LanguageCode": "EN",
       "LanguageOption": "GUIDE"
     }
   },
   "AvailabilityHold": {
     "Expiry": "PT300S"
   },
   "TravellerMix": {
     "Adult": "1",
     "Child": "1",
     "Youth": "0",
     "Infant": "0",
     "Senior": "0",
     "Total": "2"
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ]
 }
}
[2019-02-05 07:20:48.152] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.25]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:20:48.152] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.25]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:8f445430-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:20:48.173] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-availability.6.04]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-availability, Request Id: f356995c-fd5f-49ca-ba59-9c678b10a9dd, Message Id: 8f445430-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-05 07:20:48.179] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: productId: 154565
[2019-02-05 07:20:48.179] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: fromDate: 2019-12-21
[2019-02-05 07:20:48.179] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: toDate: 2019-12-22
[2019-02-05 07:20:48.179] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: blackOutDates: {154565=2017-10-08,11-23,12-25,}
[2019-02-05 07:20:48.179] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: strDateTime:2019-12-21
[2019-02-05 07:20:48.179] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: cal.getTime():Tue Feb 05 00:00:00 UTC 2019
[2019-02-05 07:20:48.179] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: sdf.parse:1
[2019-02-05 07:20:48.179] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: strDateTime:2019-12-22
[2019-02-05 07:20:48.179] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: cal.getTime():Tue Feb 05 00:00:00 UTC 2019
[2019-02-05 07:20:48.179] INFO    com.bb.viator.api.component.DateUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: sdf.parse:1
[2019-02-05 07:20:48.180] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: fromDate is before toDate
[2019-02-05 07:20:48.180] INFO    com.bb.viator.api.component.AvailabilityDataProcessor [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: requested duration : 1
[2019-02-05 07:20:48.181] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.26]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:20:48.181] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.26]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:8f445430-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:20:48.202] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-availability.7.04]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-availability, Request Id: f356995c-fd5f-49ca-ba59-9c678b10a9dd, Message Id: 8f445430-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"responseType":"AvailabilityResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722992616","Timestamp":"2019-02-05T07:20:48.180Z","RequestStatus":{"Status":"SUCCESS"},"SupplierProductCode":"154565","TourAvailability":[{"Date":"2019-12-21","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-12-22","AvailabilityStatus":{"Status":"AVAILABLE"}}]}}
[2019-02-05 07:20:48.206] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.25]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:20:48.206] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.25]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:20:48.206] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.25]: dataSource : source.getNumActive() : 0
[2019-02-05 07:20:48.207] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.25]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f356995c-fd5f-49ca-ba59-9c678b10a9dd','8f445430-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-05 07:20:48.136 [bb-viator-api-v1-t].bb-viator-api-flow-availability.5.04','{
 "requestType": "AvailabilityRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "1004",
   "ExternalReference": "10051374722992616",
   "Timestamp": "2019-03-21 18:34:24",
   "StartDate": "2019-12-21",
   "EndDate": "2019-12-22",
   "DeltaOnly": false,
   "SupplierProductCode": "154565",
   "TourOptions": {
     "SupplierOptionCode": "9am",
     "SupplierOptionName": "Bondi Beach Private Lesson 9AM",
     "TourDepartureTime": "09:00:00",
     "TourDuration": "PT1H",
     "Language": {
       "LanguageCode": "EN",
       "LanguageOption": "GUIDE"
     }
   },
   "AvailabilityHold": {
     "Expiry": "PT300S"
   },
   "TravellerMix": {
     "Adult": "1",
     "Child": "1",
     "Youth": "0",
     "Infant": "0",
     "Senior": "0",
     "Total": "2"
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ]
 }
}',CURRENT_TIMESTAMP,'2019-02-05 07:20:48.136','1')
[2019-02-05 07:20:48.208] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.26]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:20:48.208] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.26]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:20:48.208] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.26]: dataSource : source.getNumActive() : 0
[2019-02-05 07:20:48.209] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.26]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f356995c-fd5f-49ca-ba59-9c678b10a9dd','8f445430-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:20:48.174 [bb-viator-api-v1-t].bb-viator-api-flow-availability.6.04','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-05 07:20:48.174','1')
[2019-02-05 07:20:48.215] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.27]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:20:48.215] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.27]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:8f445430-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:20:48.231] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.27]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:20:48.231] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.27]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:20:48.232] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.27]: dataSource : source.getNumActive() : 0
[2019-02-05 07:20:48.232] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.27]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f356995c-fd5f-49ca-ba59-9c678b10a9dd','8f445430-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:20:48.203 [bb-viator-api-v1-t].bb-viator-api-flow-availability.7.04','{"responseType":"AvailabilityResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722992616","Timestamp":"2019-02-05T07:20:48.180Z","RequestStatus":{"Status":"SUCCESS"},"SupplierProductCode":"154565","TourAvailability":[{"Date":"2019-12-21","AvailabilityStatus":{"Status":"AVAILABLE"}},{"Date":"2019-12-22","AvailabilityStatus":{"Status":"AVAILABLE"}}]}}',CURRENT_TIMESTAMP,'2019-02-05 07:20:48.203','1')
[2019-02-05 07:22:22.348] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: Schema validation failed: error: instance type (object) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingRequestSchema.json#","pointer":"/properties/data/properties/Parameter"}
    instance: {"pointer":"/data/Parameter"}
    domain: "validation"
    keyword: "type"
    found: "object"
    expected: ["array"]

error: instance type (string) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingRequestSchema.json#","pointer":"/properties/data/properties/RequiredInfo/properties/Question"}
    instance: {"pointer":"/data/RequiredInfo/Question"}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["array"]


[2019-02-05 07:22:22.359] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.06]: 
********************************************************************************
Message               : error: instance type (object) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingRequestSchema.json#","pointer":"/properties/data/properties/Parameter"}
    instance: {"pointer":"/data/Parameter"}
    domain: "validation"
    keyword: "type"
    found: "object"
    expected: ["array"]

error: instance type (string) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingRequestSchema.json#","pointer":"/properties/data/properties/RequiredInfo/properties/Question"}
    instance: {"pointer":"/data/RequiredInfo/Question"}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["array"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (object) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingRequestSchema.json#","pointer":"/properties/data/properties/Parameter"}
    instance: {"pointer":"/data/Parameter"}
    domain: "validation"
    keyword: "type"
    found: "object"
    expected: ["array"]

error: instance type (string) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingRequestSchema.json#","pointer":"/properties/data/properties/RequiredInfo/properties/Question"}
    instance: {"pointer":"/data/RequiredInfo/Question"}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["array"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:22:22.371] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.04]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: e3076d38-0029-47e2-b78d-93ce6ce8c476, Message Id: c76bc960-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (object) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingRequestSchema.json#","pointer":"/properties/data/properties/Parameter"}
    instance: {"pointer":"/data/Parameter"}
    domain: "validation"
    keyword: "type"
    found: "object"
    expected: ["array"]

error: instance type (string) does not match any allowed primitive type (allowed: ["array"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingRequestSchema.json#","pointer":"/properties/data/properties/RequiredInfo/properties/Question"}
    instance: {"pointer":"/data/RequiredInfo/Question"}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["array"]


[2019-02-05 07:22:22.384] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.28]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:22:22.384] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.28]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:c76bc960-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:22:22.411] INFO    com.bb.commons [[bb-viator-api-v1-t].api-main.2.04]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: e3076d38-0029-47e2-b78d-93ce6ce8c476, Message Id: c76bc960-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"responseType":"BookingResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"332005117013820301773506676340","Timestamp":"2019-02-05T07:22:22.403Z","RequestStatus":{"Status":"ERROR","Error":{"ErrorCode":"422", "ErrorMessage":"missing mandatory elements in JSON request - or Invalid input"}}}}
[2019-02-05 07:22:22.416] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.29]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:22:22.416] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.29]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:c76bc960-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:22:22.426] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.28]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:22:22.426] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.28]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:22:22.426] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.28]: dataSource : source.getNumActive() : 0
[2019-02-05 07:22:22.426] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.28]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('e3076d38-0029-47e2-b78d-93ce6ce8c476','c76bc960-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:22:22.371 [bb-viator-api-v1-t].api-main.1.04','{
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "1004",
   "ExternalReference": "332005117013820301773506676340",
   "Timestamp": "2019-02-15 06:49:56",
   "Extension": "",
   "Parameter": {
     "Name": "",
     "Value": ""
   },
   "BookingReference": "1516367624",
   "TravelDate": "2019-03-22",
   "SupplierProductCode": "154565",
   "Location": "Sydney, Australia",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     },
     "SupplierOptionCode": "9am",
     "TourDepartureTime": "09:00:00",
     "Option": [
       {
         "Name": "DepartureTime",
         "Value": "09:00:00"
       }
     ]
   },
   "Inclusions": {
     "Inclusion": [
       "Hotel pickup and drop off",
       "Professional guide",
       "Transport by air-conditioned coach"
     ]
   },
   "Amount": 100.8,
   "Traveller": [
     {
       "TravellerTitle": "",
       "TravellerIdentifier": "1",
       "GivenName": "Cust First Name/s",
       "Surname": "Cust Surname",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     }
   ],
   "TravellerMix": {
     "Adult": "1",
     "Child": "0",
     "Youth": "0",
     "Infant": "0",
     "Senior": "0",
     "Total": "1"
   },
   "RequiredInfo": {
     "Question": "RequiredInfo",
     "QuestionText": "sdfsd",
     "QuestionAnswer": "sadfas"
   },
   "SpecialRequirement": "Please put me in the same group as the other travellers.",
   "PickupPoint": "Hilton Sydney",
   "SupplierNote": "",
   "AdditionalRemarks": {
     "Remark": ""
   },
   "ContactDetail": {
     "ContactType": "ALTERNATE",
     "ContactName": "Cust Name",
     "ContactValue": "+1 999999999999"
   },
   "AvailabiltyHoldReference": "1K883383K2S12K883383K2S57K883383K2"
 }
}',CURRENT_TIMESTAMP,'2019-02-05 07:22:22.371','1')
[2019-02-05 07:22:22.433] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.29]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:22:22.433] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.29]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:22:22.433] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.29]: dataSource : source.getNumActive() : 0
[2019-02-05 07:22:22.433] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.29]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('e3076d38-0029-47e2-b78d-93ce6ce8c476','c76bc960-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:22:22.412 [bb-viator-api-v1-t].api-main.2.04','{"responseType":"BookingResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"332005117013820301773506676340","Timestamp":"2019-02-05T07:22:22.403Z","RequestStatus":{"Status":"ERROR","Error":{"ErrorCode":"422", "ErrorMessage":"missing mandatory elements in JSON request - or Invalid input"}}}}',CURRENT_TIMESTAMP,'2019-02-05 07:22:22.411','1')
[2019-02-05 07:23:26.182] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.3.05]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 9db52119-27b1-4589-826a-09c21a06d5da, Message Id: ed770390-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "2000145",
   "ExternalReference": "332002200014548999731299852079166",
   "Timestamp": "2018-03-07T12:35:47.214-08:00",
   "BookingReference": "645394587",
   "TravelDate": "2019-12-20",
   "SupplierProductCode": "154565",
   "Location": "London",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     }
   },
   "Inclusions": {
     "Inclusion": [
       "Hop-on hop-off bus tour",
       "Live guide (Red Route)",
       "Recorded commentary",
       "Complimentary earphones",
       "30-minute river cruise",
       "A walking tour",
       "Reward Voucher booklet",
       "Hotel drop-off"
     ]
   },
   "CurrencyCode": "GBP",
   "Amount": 77.22,
   "Traveller": [
     {
       "TravellerIdentifier": "1",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     },
     {
       "TravellerIdentifier": "2",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     },
     {
       "TravellerIdentifier": "3",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     }
   ],
   "Travell...
[2019-02-05 07:23:26.205] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.30]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:23:26.205] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.30]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ed770390-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:23:26.208] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.4.05]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 9db52119-27b1-4589-826a-09c21a06d5da, Message Id: ed770390-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-05 07:23:26.208] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.07]: Date TimeZone :sun.util.calendar.ZoneInfo[id="PST",offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=PST,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]]
[2019-02-05 07:23:26.209] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.07]: System Date :2019-02-04
[2019-02-05 07:23:26.221] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.31]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:23:26.221] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.31]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ed770390-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:23:26.225] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.5.05]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 9db52119-27b1-4589-826a-09c21a06d5da, Message Id: ed770390-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}]
[2019-02-05 07:23:26.240] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.32]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:23:26.240] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.32]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ed770390-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:23:26.241] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-booking.6.05]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 9db52119-27b1-4589-826a-09c21a06d5da, Message Id: ed770390-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "bookingRequest": {
    "tradePartnerName": "test",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": ""
    },
    "products": {
      "product": [
        {
          "productId": "154565",
          "dateOfTravel": "2019-12-20",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}
[2019-02-05 07:23:26.253] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.33]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:23:26.254] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.33]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ed770390-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:23:26.275] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.32]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:23:26.275] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.32]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:23:26.275] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.32]: dataSource : source.getNumActive() : 0
[2019-02-05 07:23:26.275] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.32]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('9db52119-27b1-4589-826a-09c21a06d5da','ed770390-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:23:26.225 [bb-viator-api-v1-t].bb-viator-api-flow-booking.5.05','[{product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}]',CURRENT_TIMESTAMP,'2019-02-05 07:23:26.225','1')
[2019-02-05 07:23:26.276] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.30]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:23:26.276] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.30]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:23:26.276] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.30]: dataSource : source.getNumActive() : 0
[2019-02-05 07:23:26.276] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.30]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('9db52119-27b1-4589-826a-09c21a06d5da','ed770390-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-05 07:23:26.186 [bb-viator-api-v1-t].bb-viator-api-flow-booking.3.05','{
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "2000145",
   "ExternalReference": "332002200014548999731299852079166",
   "Timestamp": "2018-03-07T12:35:47.214-08:00",
   "BookingReference": "645394587",
   "TravelDate": "2019-12-20",
   "SupplierProductCode": "154565",
   "Location": "London",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     }
   },
   "Inclusions": {
     "Inclusion": [
       "Hop-on hop-off bus tour",
       "Live guide (Red Route)",
       "Recorded commentary",
       "Complimentary earphones",
       "30-minute river cruise",
       "A walking tour",
       "Reward Voucher booklet",
       "Hotel drop-off"
     ]
   },
   "CurrencyCode": "GBP",
   "Amount": 77.22,
   "Traveller": [
     {
       "TravellerIdentifier": "1",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     },
     {
       "TravellerIdentifier": "2",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     },
     {
       "TravellerIdentifier": "3",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     }
   ],
   "TravellerMix": {
     "Adult": "3",
     "Child": "0",
     "Youth": "0",
     "Infant": "0",
     "Senior": "0",
     "Total": "3"
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ]
 }
}',CURRENT_TIMESTAMP,'2019-02-05 07:23:26.186','1')
[2019-02-05 07:23:26.276] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.31]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:23:26.276] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.31]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:23:26.276] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.31]: dataSource : source.getNumActive() : 0
[2019-02-05 07:23:26.276] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.31]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('9db52119-27b1-4589-826a-09c21a06d5da','ed770390-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:23:26.209 [bb-viator-api-v1-t].bb-viator-api-flow-booking.4.05','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-05 07:23:26.209','1')
[2019-02-05 07:23:26.288] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.33]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:23:26.288] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.33]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:23:26.288] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.33]: dataSource : source.getNumActive() : 0
[2019-02-05 07:23:26.289] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.33]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('9db52119-27b1-4589-826a-09c21a06d5da','ed770390-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-02-05 07:23:26.242 [bb-viator-api-v1-t].bb-viator-api-flow-booking.6.05','{
  "bookingRequest": {
    "tradePartnerName": "test",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": ""
    },
    "products": {
      "product": [
        {
          "productId": "154565",
          "dateOfTravel": "2019-12-20",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}',CURRENT_TIMESTAMP,'2019-02-05 07:23:26.241','1')
[2019-02-05 07:23:32.234] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.7.05]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 9db52119-27b1-4589-826a-09c21a06d5da, Message Id: ed770390-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: 
[2019-02-05 07:23:32.242] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.33]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:23:32.242] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.33]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ed770390-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:23:32.245] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.8.05]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 9db52119-27b1-4589-826a-09c21a06d5da, Message Id: ed770390-2916-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-02-05T07:23:32.220Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10125001|15|20122019|1[154565AD:1:4163:GBP]637a040e36bcc116",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10125002|15|20122019|1[154565AD:1:4163:GBP]6f1b8fd8892cda41",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10125003|15|20122019|1[154565AD:1:4163:GBP]511fc53ca50ec905",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "a33da2b4-1a0b-47a0-bb94-c699822ec5f7"
  }
}
[2019-02-05 07:23:32.249] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.31]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:23:32.249] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.31]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ed770390-2916-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:23:32.256] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.33]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:23:32.256] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.33]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:23:32.256] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.33]: dataSource : source.getNumActive() : 0
[2019-02-05 07:23:32.256] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.33]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('9db52119-27b1-4589-826a-09c21a06d5da','ed770390-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-02-05 07:23:32.234 [bb-viator-api-v1-t].bb-viator-api-flow-booking.7.05','',CURRENT_TIMESTAMP,'2019-02-05 07:23:32.234','1')
[2019-02-05 07:23:32.260] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.31]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:23:32.260] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.31]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:23:32.261] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.31]: dataSource : source.getNumActive() : 0
[2019-02-05 07:23:32.261] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.31]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('9db52119-27b1-4589-826a-09c21a06d5da','ed770390-2916-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:23:32.246 [bb-viator-api-v1-t].bb-viator-api-flow-booking.8.05','{
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-02-05T07:23:32.220Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10125001|15|20122019|1[154565AD:1:4163:GBP]637a040e36bcc116",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10125002|15|20122019|1[154565AD:1:4163:GBP]6f1b8fd8892cda41",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10125003|15|20122019|1[154565AD:1:4163:GBP]511fc53ca50ec905",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "a33da2b4-1a0b-47a0-bb94-c699822ec5f7"
  }
}',CURRENT_TIMESTAMP,'2019-02-05 07:23:32.246','1')
[2019-02-05 07:25:42.153] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.07]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:25:42.156] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.07]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:25:42.160] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.05]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: d13de542-e0e4-4bd1-bf7f-c99cf70050a6, Message Id: 3e837520-2917-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:25:42.187] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.34]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:25:42.187] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.34]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:3e837520-2917-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:25:42.259] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.34]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:25:42.259] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.34]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:25:42.259] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.34]: dataSource : source.getNumActive() : 0
[2019-02-05 07:25:42.259] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.34]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('d13de542-e0e4-4bd1-bf7f-c99cf70050a6','3e837520-2917-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:25:42.161 [bb-viator-api-v1-t].api-main.1.05','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"a33da2b4-1a0b-47a0-bb94-c699822ec5f7\",\n  \"SupplierConfirmationNumber\": \"\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:25:42.161','1')
[2019-02-05 07:25:42.300] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.07]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=3e837520-2917-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:26:12.305] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.07]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:26:12.311] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.07]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:26:12.316] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.05]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 989bd1fb-79d1-46c9-bfb6-edb89ec213fb, Message Id: 507f56e0-2917-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:26:12.318] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.34]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:26:12.319] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.34]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:507f56e0-2917-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:26:12.328] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.07]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=507f56e0-2917-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:26:12.367] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.34]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:26:12.367] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.34]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:26:12.367] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.34]: dataSource : source.getNumActive() : 0
[2019-02-05 07:26:12.368] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.34]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('989bd1fb-79d1-46c9-bfb6-edb89ec213fb','507f56e0-2917-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:26:12.316 [bb-viator-api-v1-t].api-main.1.05','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"a33da2b4-1a0b-47a0-bb94-c699822ec5f7\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:26:12.316','1')
[2019-02-05 07:28:04.946] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:28:04.948] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:28:04.956] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=93a19e60-2917-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:28:04.958] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.06]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: d61485db-676a-474d-9cdf-fb91d0742cdc, Message Id: 93a19e60-2917-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:28:04.995] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.35]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:28:04.995] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.35]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:93a19e60-2917-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:28:05.075] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.35]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:28:05.075] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.35]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:28:05.075] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.35]: dataSource : source.getNumActive() : 0
[2019-02-05 07:28:05.075] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.35]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('d61485db-676a-474d-9cdf-fb91d0742cdc','93a19e60-2917-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:28:04.959 [bb-viator-api-v1-t].api-main.1.06','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"a33da2b4-1a0b-47a0-bb94-c699822ec5f7\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:28:04.959','1')
[2019-02-05 07:29:06.906] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:29:06.915] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:29:06.923] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.07]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 4fa9cb02-28dc-48be-a2f8-18d93213c62d, Message Id: b890ba30-2917-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:29:06.936] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:29:06.936] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:b890ba30-2917-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:29:06.925] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=b890ba30-2917-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:29:07.009] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:29:07.009] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:29:07.009] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: dataSource : source.getNumActive() : 0
[2019-02-05 07:29:07.009] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('4fa9cb02-28dc-48be-a2f8-18d93213c62d','b890ba30-2917-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:29:06.927 [bb-viator-api-v1-t].api-main.1.07','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"a33da2b4-1a0b-47a0-bb94-c699822ec5f7\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:29:06.927','1')
[2019-02-05 07:29:52.756] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:29:52.760] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:29:52.765] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.07]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: f3554b57-85a3-4542-a37c-ab31d3043438, Message Id: d3e5cc30-2917-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:29:52.768] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:29:52.769] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:d3e5cc30-2917-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:29:52.780] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=d3e5cc30-2917-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:29:52.798] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:29:52.798] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:29:52.798] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: dataSource : source.getNumActive() : 0
[2019-02-05 07:29:52.798] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f3554b57-85a3-4542-a37c-ab31d3043438','d3e5cc30-2917-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:29:52.765 [bb-viator-api-v1-t].api-main.1.07','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"10051374722992850\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"a33da2b4-1a0b-47a0-bb94-c699822ec5f7\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:29:52.765','1')
[2019-02-05 07:30:12.483] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:30:12.485] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:30:12.487] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.07]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: b277a0a2-4425-46df-8d81-03c6289a9227, Message Id: dfa7e620-2917-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:30:12.490] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:30:12.490] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:dfa7e620-2917-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:30:12.505] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:30:12.506] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:30:12.506] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: dataSource : source.getNumActive() : 0
[2019-02-05 07:30:12.506] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.36]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('b277a0a2-4425-46df-8d81-03c6289a9227','dfa7e620-2917-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:30:12.488 [bb-viator-api-v1-t].api-main.1.07','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"10051374722992850\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"a33da2b4-1a0b-47a0-bb94-c699822ec5f7\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:30:12.488','1')
[2019-02-05 07:30:12.512] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=dfa7e620-2917-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:31:23.855] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:31:23.856] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:31:23.865] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.08]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: aaf166bb-974c-4bb5-9d7b-22e2192a70bd, Message Id: 0a31caa0-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:31:23.872] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=0a31caa0-2918-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:31:23.899] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.37]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:31:23.899] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.37]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:0a31caa0-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:31:23.938] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.37]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:31:23.938] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.37]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:31:23.938] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.37]: dataSource : source.getNumActive() : 0
[2019-02-05 07:31:23.938] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.37]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('aaf166bb-974c-4bb5-9d7b-22e2192a70bd','0a31caa0-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:31:23.866 [bb-viator-api-v1-t].api-main.1.08','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"10051374722992850\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"a33da2b4-1a0b-47a0-bb94-c699822ec5f7\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:31:23.866','1')
[2019-02-05 07:32:27.732] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.3.06]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 9af715a9-0689-49ba-a77f-69e6072de917, Message Id: 3040fc70-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "2000145",
   "ExternalReference": "332002200014548999731299852079166",
   "Timestamp": "2018-03-07T12:35:47.214-08:00",
   "BookingReference": "645394587",
   "TravelDate": "2019-12-20",
   "SupplierProductCode": "154565",
   "Location": "London",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     }
   },
   "Inclusions": {
     "Inclusion": [
       "Hop-on hop-off bus tour",
       "Live guide (Red Route)",
       "Recorded commentary",
       "Complimentary earphones",
       "30-minute river cruise",
       "A walking tour",
       "Reward Voucher booklet",
       "Hotel drop-off"
     ]
   },
   "CurrencyCode": "GBP",
   "Amount": 77.22,
   "Traveller": [
     {
       "TravellerIdentifier": "1",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     },
     {
       "TravellerIdentifier": "2",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     },
     {
       "TravellerIdentifier": "3",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     }
   ],
   "Travell...
[2019-02-05 07:32:27.751] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.38]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:32:27.751] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.38]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:3040fc70-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:32:27.756] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Date TimeZone :sun.util.calendar.ZoneInfo[id="PST",offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=PST,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]]
[2019-02-05 07:32:27.756] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: System Date :2019-02-04
[2019-02-05 07:32:27.777] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.4.06]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 9af715a9-0689-49ba-a77f-69e6072de917, Message Id: 3040fc70-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-05 07:32:27.791] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.5.06]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 9af715a9-0689-49ba-a77f-69e6072de917, Message Id: 3040fc70-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}]
[2019-02-05 07:32:27.792] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.39]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:32:27.792] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.39]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:3040fc70-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:32:27.795] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-booking.6.06]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 9af715a9-0689-49ba-a77f-69e6072de917, Message Id: 3040fc70-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "bookingRequest": {
    "tradePartnerName": "test",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": ""
    },
    "products": {
      "product": [
        {
          "productId": "154565",
          "dateOfTravel": "2019-12-20",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}
[2019-02-05 07:32:27.811] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:32:27.811] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:3040fc70-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:32:27.814] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.38]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:32:27.814] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.38]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:32:27.814] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.38]: dataSource : source.getNumActive() : 0
[2019-02-05 07:32:27.814] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.38]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('9af715a9-0689-49ba-a77f-69e6072de917','3040fc70-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-05 07:32:27.735 [bb-viator-api-v1-t].bb-viator-api-flow-booking.3.06','{
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "2000145",
   "ExternalReference": "332002200014548999731299852079166",
   "Timestamp": "2018-03-07T12:35:47.214-08:00",
   "BookingReference": "645394587",
   "TravelDate": "2019-12-20",
   "SupplierProductCode": "154565",
   "Location": "London",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     }
   },
   "Inclusions": {
     "Inclusion": [
       "Hop-on hop-off bus tour",
       "Live guide (Red Route)",
       "Recorded commentary",
       "Complimentary earphones",
       "30-minute river cruise",
       "A walking tour",
       "Reward Voucher booklet",
       "Hotel drop-off"
     ]
   },
   "CurrencyCode": "GBP",
   "Amount": 77.22,
   "Traveller": [
     {
       "TravellerIdentifier": "1",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     },
     {
       "TravellerIdentifier": "2",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     },
     {
       "TravellerIdentifier": "3",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     }
   ],
   "TravellerMix": {
     "Adult": "3",
     "Child": "0",
     "Youth": "0",
     "Infant": "0",
     "Senior": "0",
     "Total": "3"
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ]
 }
}',CURRENT_TIMESTAMP,'2019-02-05 07:32:27.734','1')
[2019-02-05 07:32:27.815] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.39]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:32:27.815] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.39]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:32:27.815] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.39]: dataSource : source.getNumActive() : 0
[2019-02-05 07:32:27.815] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.39]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('9af715a9-0689-49ba-a77f-69e6072de917','3040fc70-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:32:27.777 [bb-viator-api-v1-t].bb-viator-api-flow-booking.4.06','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-05 07:32:27.777','1')
[2019-02-05 07:32:27.816] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.41]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:32:27.816] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.41]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:3040fc70-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:32:27.825] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:32:27.825] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:32:27.826] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getNumActive() : 0
[2019-02-05 07:32:27.826] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('9af715a9-0689-49ba-a77f-69e6072de917','3040fc70-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:32:27.791 [bb-viator-api-v1-t].bb-viator-api-flow-booking.5.06','[{product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}, {product_id=154565, default_branch_currency=USD}]',CURRENT_TIMESTAMP,'2019-02-05 07:32:27.791','1')
[2019-02-05 07:32:27.829] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.41]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:32:27.829] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.41]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:32:27.829] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.41]: dataSource : source.getNumActive() : 0
[2019-02-05 07:32:27.829] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.41]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('9af715a9-0689-49ba-a77f-69e6072de917','3040fc70-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-02-05 07:32:27.795 [bb-viator-api-v1-t].bb-viator-api-flow-booking.6.06','{
  "bookingRequest": {
    "tradePartnerName": "test",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": ""
    },
    "products": {
      "product": [
        {
          "productId": "154565",
          "dateOfTravel": "2019-12-20",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}',CURRENT_TIMESTAMP,'2019-02-05 07:32:27.795','1')
[2019-02-05 07:32:39.135] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.7.06]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 9af715a9-0689-49ba-a77f-69e6072de917, Message Id: 3040fc70-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: 
[2019-02-05 07:32:39.144] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.8.06]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 9af715a9-0689-49ba-a77f-69e6072de917, Message Id: 3040fc70-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-02-05T07:32:39.123Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10125041|15|20122019|1[154565AD:1:4163:GBP]1e96092878443f7a",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10125042|15|20122019|1[154565AD:1:4163:GBP]a198b56d8db79d7a",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10125043|15|20122019|1[154565AD:1:4163:GBP]2e232c270ff44d75",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "267ae6e2-c613-4c63-a734-860c3418cc78"
  }
}
[2019-02-05 07:32:39.146] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.41]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:32:39.146] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.41]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:3040fc70-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:32:39.149] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:32:39.149] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:3040fc70-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:32:39.159] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.41]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:32:39.160] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.41]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:32:39.160] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.41]: dataSource : source.getNumActive() : 0
[2019-02-05 07:32:39.160] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.41]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('9af715a9-0689-49ba-a77f-69e6072de917','3040fc70-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-02-05 07:32:39.135 [bb-viator-api-v1-t].bb-viator-api-flow-booking.7.06','',CURRENT_TIMESTAMP,'2019-02-05 07:32:39.135','1')
[2019-02-05 07:32:39.160] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:32:39.160] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:32:39.160] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getNumActive() : 0
[2019-02-05 07:32:39.160] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('9af715a9-0689-49ba-a77f-69e6072de917','3040fc70-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 07:32:39.145 [bb-viator-api-v1-t].bb-viator-api-flow-booking.8.06','{
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-02-05T07:32:39.123Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10125041|15|20122019|1[154565AD:1:4163:GBP]1e96092878443f7a",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10125042|15|20122019|1[154565AD:1:4163:GBP]a198b56d8db79d7a",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10125043|15|20122019|1[154565AD:1:4163:GBP]2e232c270ff44d75",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "267ae6e2-c613-4c63-a734-860c3418cc78"
  }
}',CURRENT_TIMESTAMP,'2019-02-05 07:32:39.145','1')
[2019-02-05 07:32:57.514] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:32:57.519] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:32:57.525] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.09]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: d2d350f8-5e56-482a-9107-abe81446b63e, Message Id: 42055370-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:32:57.537] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:32:57.537] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:42055370-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:32:57.540] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=42055370-2918-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:32:57.579] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:32:57.579] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:32:57.579] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getNumActive() : 0
[2019-02-05 07:32:57.579] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('d2d350f8-5e56-482a-9107-abe81446b63e','42055370-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:32:57.527 [bb-viator-api-v1-t].api-main.1.09','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"10051374722992850\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"267ae6e2-c613-4c63-a734-860c3418cc78\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:32:57.527','1')
[2019-02-05 07:33:14.061] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:33:14.067] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:33:14.068] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.09]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 77b131a6-e9b8-4366-a9e4-db9bee6487bc, Message Id: 4be232a0-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:33:14.071] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:33:14.071] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:4be232a0-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:33:14.092] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=4be232a0-2918-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:33:14.107] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:33:14.108] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:33:14.108] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getNumActive() : 0
[2019-02-05 07:33:14.108] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('77b131a6-e9b8-4366-a9e4-db9bee6487bc','4be232a0-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:33:14.069 [bb-viator-api-v1-t].api-main.1.09','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"10051374722992850\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"267ae6e2-c613-4c63-a734-860c3418cc78\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:33:14.069','1')
[2019-02-05 07:33:23.578] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:33:23.579] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:33:23.580] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.09]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: ddd22591-25e7-4984-a794-c1c6f7e18783, Message Id: 518e1250-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:33:23.583] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:33:23.583] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:518e1250-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:33:23.598] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=518e1250-2918-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:33:23.610] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:33:23.610] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:33:23.610] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getNumActive() : 0
[2019-02-05 07:33:23.610] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('ddd22591-25e7-4984-a794-c1c6f7e18783','518e1250-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:33:23.581 [bb-viator-api-v1-t].api-main.1.09','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"267ae6e2-c613-4c63-a734-860c3418cc78\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:33:23.581','1')
[2019-02-05 07:33:50.487] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:33:50.489] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:33:50.492] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.09]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: af312cc8-c23a-4a8d-869b-7948f59ab7d2, Message Id: 6197e810-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:33:50.494] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:33:50.494] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:6197e810-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:33:50.506] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=6197e810-2918-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:33:50.580] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:33:50.580] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:33:50.580] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getNumActive() : 0
[2019-02-05 07:33:50.580] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('af312cc8-c23a-4a8d-869b-7948f59ab7d2','6197e810-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:33:50.492 [bb-viator-api-v1-t].api-main.1.09','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"2000145\",\n  \"ExternalReference\": \"10051374722992850\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"267ae6e2-c613-4c63-a734-860c3418cc78\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:33:50.492','1')
[2019-02-05 07:34:21.552] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:34:21.554] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:34:21.556] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.09]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: f1605452-de48-4889-98ec-cddacc4e4e81, Message Id: 741ca8e0-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:34:21.559] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:34:21.559] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:741ca8e0-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:34:21.578] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:34:21.579] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:34:21.579] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: dataSource : source.getNumActive() : 0
[2019-02-05 07:34:21.579] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.40]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('f1605452-de48-4889-98ec-cddacc4e4e81','741ca8e0-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:34:21.556 [bb-viator-api-v1-t].api-main.1.09','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"2000145\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"267ae6e2-c613-4c63-a734-860c3418cc78\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:34:21.556','1')
[2019-02-05 07:34:21.579] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=741ca8e0-2918-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:37:39.248] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:37:39.250] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:37:39.262] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.10]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 76461f4d-3549-4afd-a2c3-bd9b31fac7d5, Message Id: e9f285d0-2918-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:37:39.264] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=e9f285d0-2918-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:37:39.279] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.42]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:37:39.279] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.42]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:e9f285d0-2918-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:37:39.329] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.42]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:37:39.329] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.42]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:37:39.329] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.42]: dataSource : source.getNumActive() : 0
[2019-02-05 07:37:39.329] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.42]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('76461f4d-3549-4afd-a2c3-bd9b31fac7d5','e9f285d0-2918-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:37:39.262 [bb-viator-api-v1-t].api-main.1.10','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"2000145\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"267ae6e2-c613-4c63-a734-860c3418cc78\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:37:39.262','1')
[2019-02-05 07:38:32.765] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:38:32.769] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:38:32.771] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.10]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 3a7e3f8c-9190-4523-8659-c11d6c018df7, Message Id: 09d8b8b0-2919-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:38:32.778] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.42]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:38:32.778] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.42]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:09d8b8b0-2919-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:38:32.782] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.09]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=09d8b8b0-2919-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:38:32.825] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.42]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:38:32.825] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.42]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:38:32.825] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.42]: dataSource : source.getNumActive() : 0
[2019-02-05 07:38:32.825] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.42]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('3a7e3f8c-9190-4523-8659-c11d6c018df7','09d8b8b0-2919-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:38:32.771 [bb-viator-api-v1-t].api-main.1.10','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"267ae6e2-c613-4c63-a734-860c3418cc78\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:38:32.771','1')
[2019-02-05 07:40:38.326] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.10]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:40:38.332] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.10]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:40:38.340] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.11]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 2eb227f7-991f-4e39-95bb-fba4a76ac58a, Message Id: 54afcf40-2919-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:40:38.344] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.10]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=54afcf40-2919-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:40:38.365] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.43]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:40:38.365] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.43]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:54afcf40-2919-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:40:38.441] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.43]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:40:38.441] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.43]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:40:38.441] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.43]: dataSource : source.getNumActive() : 0
[2019-02-05 07:40:38.441] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.43]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('2eb227f7-991f-4e39-95bb-fba4a76ac58a','54afcf40-2919-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:40:38.342 [bb-viator-api-v1-t].api-main.1.11','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"267ae6e2-c613-4c63-a734-860c3418cc78\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:40:38.342','1')
[2019-02-05 07:42:57.484] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.10]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:42:57.494] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.10]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:42:57.502] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.10]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=a7a15480-2919-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:42:57.508] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.12]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 57c24964-36f5-4a8f-ae91-7cd857ddbd86, Message Id: a7a15480-2919-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:42:57.523] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.44]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:42:57.523] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.44]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:a7a15480-2919-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:42:57.584] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.44]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:42:57.584] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.44]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:42:57.584] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.44]: dataSource : source.getNumActive() : 0
[2019-02-05 07:42:57.584] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.44]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('57c24964-36f5-4a8f-ae91-7cd857ddbd86','a7a15480-2919-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:42:57.509 [bb-viator-api-v1-t].api-main.1.12','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"267ae6e2-c613-4c63-a734-860c3418cc78\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:42:57.508','1')
[2019-02-05 07:43:13.143] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.10]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:43:13.145] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.10]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 07:43:13.147] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.12]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: a7a98a77-8a81-4b2f-bcd5-4b3546790eea, Message Id: b0f70250-2919-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 07:43:13.154] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.44]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 07:43:13.163] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.44]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:b0f70250-2919-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 07:43:13.169] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.10]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=b0f70250-2919-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 07:43:13.182] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.44]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 07:43:13.183] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.44]: dataSource : source.getInitialSize() : 1
[2019-02-05 07:43:13.183] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.44]: dataSource : source.getNumActive() : 0
[2019-02-05 07:43:13.183] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.44]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('a7a98a77-8a81-4b2f-bcd5-4b3546790eea','b0f70250-2919-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 07:43:13.147 [bb-viator-api-v1-t].api-main.1.12','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"10051374722992850\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"267ae6e2-c613-4c63-a734-860c3418cc78\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 07:43:13.147','1')
[2019-02-05 08:30:26.857] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.3.07]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: c7d80dac-3d21-4436-9484-9231ec12a7ad, Message Id: 49f92db0-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "2000145",
   "ExternalReference": "332002200014548999731299852079166",
   "Timestamp": "2018-03-07T12:35:47.214-08:00",
   "BookingReference": "645394587",
   "TravelDate": "2019-12-20",
   "SupplierProductCode": "154656",
   "Location": "London",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     }
   },
   "Inclusions": {
     "Inclusion": [
       "Hop-on hop-off bus tour",
       "Live guide (Red Route)",
       "Recorded commentary",
       "Complimentary earphones",
       "30-minute river cruise",
       "A walking tour",
       "Reward Voucher booklet",
       "Hotel drop-off"
     ]
   },
   "CurrencyCode": "GBP",
   "Amount": 77.22,
   "Traveller": [
     {
       "TravellerIdentifier": "1",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     },
     {
       "TravellerIdentifier": "2",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     },
     {
       "TravellerIdentifier": "3",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     }
   ],
   "Travell...
[2019-02-05 08:30:26.871] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:30:26.872] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:49f92db0-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:30:26.975] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:30:26.975] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:30:26.975] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getNumActive() : 0
[2019-02-05 08:30:26.975] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('c7d80dac-3d21-4436-9484-9231ec12a7ad','49f92db0-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-05 08:30:26.857 [bb-viator-api-v1-t].bb-viator-api-flow-booking.3.07','{
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "2000145",
   "ExternalReference": "332002200014548999731299852079166",
   "Timestamp": "2018-03-07T12:35:47.214-08:00",
   "BookingReference": "645394587",
   "TravelDate": "2019-12-20",
   "SupplierProductCode": "154656",
   "Location": "London",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     }
   },
   "Inclusions": {
     "Inclusion": [
       "Hop-on hop-off bus tour",
       "Live guide (Red Route)",
       "Recorded commentary",
       "Complimentary earphones",
       "30-minute river cruise",
       "A walking tour",
       "Reward Voucher booklet",
       "Hotel drop-off"
     ]
   },
   "CurrencyCode": "GBP",
   "Amount": 77.22,
   "Traveller": [
     {
       "TravellerIdentifier": "1",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     },
     {
       "TravellerIdentifier": "2",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     },
     {
       "TravellerIdentifier": "3",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     }
   ],
   "TravellerMix": {
     "Adult": "3",
     "Child": "0",
     "Youth": "0",
     "Infant": "0",
     "Senior": "0",
     "Total": "3"
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ]
 }
}',CURRENT_TIMESTAMP,'2019-02-05 08:30:26.857','1')
[2019-02-05 08:30:26.985] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Date TimeZone :sun.util.calendar.ZoneInfo[id="PST",offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=PST,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]]
[2019-02-05 08:30:26.985] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: System Date :2019-02-05
[2019-02-05 08:30:26.985] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.4.07]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: c7d80dac-3d21-4436-9484-9231ec12a7ad, Message Id: 49f92db0-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-05 08:30:26.989] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:30:26.989] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:49f92db0-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:30:27.000] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:30:27.000] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:30:27.000] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getNumActive() : 0
[2019-02-05 08:30:27.000] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('c7d80dac-3d21-4436-9484-9231ec12a7ad','49f92db0-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 08:30:26.987 [bb-viator-api-v1-t].bb-viator-api-flow-booking.4.07','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-05 08:30:26.987','1')
[2019-02-05 08:30:27.004] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.5.07]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: c7d80dac-3d21-4436-9484-9231ec12a7ad, Message Id: 49f92db0-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}]
[2019-02-05 08:30:27.010] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:30:27.010] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:49f92db0-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:30:27.027] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:30:27.027] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:30:27.027] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getNumActive() : 0
[2019-02-05 08:30:27.027] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('c7d80dac-3d21-4436-9484-9231ec12a7ad','49f92db0-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 08:30:27.004 [bb-viator-api-v1-t].bb-viator-api-flow-booking.5.07','[{product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}, {product_id=154656, default_branch_currency=USD}]',CURRENT_TIMESTAMP,'2019-02-05 08:30:27.004','1')
[2019-02-05 08:30:27.027] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-booking.6.07]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: c7d80dac-3d21-4436-9484-9231ec12a7ad, Message Id: 49f92db0-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "bookingRequest": {
    "tradePartnerName": "test",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": ""
    },
    "products": {
      "product": [
        {
          "productId": "154656",
          "dateOfTravel": "2019-12-20",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}
[2019-02-05 08:30:27.036] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.46]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:30:27.036] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.46]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:49f92db0-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:30:27.050] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.46]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:30:27.050] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.46]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:30:27.050] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.46]: dataSource : source.getNumActive() : 0
[2019-02-05 08:30:27.050] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.46]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('c7d80dac-3d21-4436-9484-9231ec12a7ad','49f92db0-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-02-05 08:30:27.028 [bb-viator-api-v1-t].bb-viator-api-flow-booking.6.07','{
  "bookingRequest": {
    "tradePartnerName": "test",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": ""
    },
    "products": {
      "product": [
        {
          "productId": "154656",
          "dateOfTravel": "2019-12-20",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}',CURRENT_TIMESTAMP,'2019-02-05 08:30:27.028','1')
[2019-02-05 08:30:33.171] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.7.07]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: c7d80dac-3d21-4436-9484-9231ec12a7ad, Message Id: 49f92db0-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: 
[2019-02-05 08:30:33.178] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.46]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:30:33.178] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.46]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:49f92db0-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:30:33.179] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.8.07]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: c7d80dac-3d21-4436-9484-9231ec12a7ad, Message Id: 49f92db0-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-02-05T08:30:33.159Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10125081|15|20122019|1[154656AD:1:2195:GBP]b191e652e8c84693",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10125082|15|20122019|1[154656AD:1:2195:GBP]35c74b4f7bc6d169",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10125083|15|20122019|1[154656AD:1:2195:GBP]9372850be70df334",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "9063aa8e-4008-436a-93fd-1f8fd16bc907"
  }
}
[2019-02-05 08:30:33.187] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:30:33.188] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:49f92db0-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:30:33.192] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.46]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:30:33.192] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.46]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:30:33.192] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.46]: dataSource : source.getNumActive() : 0
[2019-02-05 08:30:33.192] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.46]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('c7d80dac-3d21-4436-9484-9231ec12a7ad','49f92db0-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-02-05 08:30:33.172 [bb-viator-api-v1-t].bb-viator-api-flow-booking.7.07','',CURRENT_TIMESTAMP,'2019-02-05 08:30:33.172','1')
[2019-02-05 08:30:33.199] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:30:33.199] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:30:33.199] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getNumActive() : 0
[2019-02-05 08:30:33.199] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('c7d80dac-3d21-4436-9484-9231ec12a7ad','49f92db0-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 08:30:33.182 [bb-viator-api-v1-t].bb-viator-api-flow-booking.8.07','{
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-02-05T08:30:33.159Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10125081|15|20122019|1[154656AD:1:2195:GBP]b191e652e8c84693",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10125082|15|20122019|1[154656AD:1:2195:GBP]35c74b4f7bc6d169",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10125083|15|20122019|1[154656AD:1:2195:GBP]9372850be70df334",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "9063aa8e-4008-436a-93fd-1f8fd16bc907"
  }
}',CURRENT_TIMESTAMP,'2019-02-05 08:30:33.182','1')
[2019-02-05 08:31:03.804] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:31:03.815] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:31:03.835] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.13]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 883845c7-36f5-4b23-84f5-aed62621c8b0, Message Id: 600344b0-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:31:03.838] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:31:03.839] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:600344b0-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:31:03.824] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=600344b0-2920-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:31:03.897] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:31:03.897] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:31:03.897] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getNumActive() : 0
[2019-02-05 08:31:03.897] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('883845c7-36f5-4b23-84f5-aed62621c8b0','600344b0-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 08:31:03.836 [bb-viator-api-v1-t].api-main.1.13','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"9063aa8e-4008-436a-93fd-1f8fd16bc907\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 08:31:03.836','1')
[2019-02-05 08:31:06.147] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:31:06.155] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:31:06.156] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.13]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 6f73207e-3e38-4b07-bf2c-f5425cb4e4ec, Message Id: 6168a110-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:31:06.158] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:31:06.158] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:6168a110-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:31:06.166] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=6168a110-2920-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:31:06.171] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:31:06.171] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:31:06.171] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getNumActive() : 0
[2019-02-05 08:31:06.171] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('6f73207e-3e38-4b07-bf2c-f5425cb4e4ec','6168a110-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 08:31:06.156 [bb-viator-api-v1-t].api-main.1.13','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"9063aa8e-4008-436a-93fd-1f8fd16bc907\",\n  \"CancelDate\": \"2019-12-01\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 08:31:06.156','1')
[2019-02-05 08:31:24.698] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:31:24.700] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:31:24.701] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.13]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 82c99e61-1ce0-49cf-85b3-24b409581504, Message Id: 6c774980-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:31:24.703] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:31:24.703] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:6c774980-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:31:24.724] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:31:24.724] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:31:24.724] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getNumActive() : 0
[2019-02-05 08:31:24.724] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('82c99e61-1ce0-49cf-85b3-24b409581504','6c774980-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 08:31:24.701 [bb-viator-api-v1-t].api-main.1.13','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"9063aa8e-4008-436a-93fd-1f8fd16bc907\",\n  \"CancelDate\": \"2019-12-20\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 08:31:24.701','1')
[2019-02-05 08:31:24.719] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=6c774980-2920-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:32:06.877] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.3.08]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 521cc1ca-83f8-4505-9ba1-e345e49396a8, Message Id: 85986480-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "2000145",
   "ExternalReference": "332002200014548999731299852079166",
   "Timestamp": "2018-03-07T12:35:47.214-08:00",
   "BookingReference": "645394587",
   "TravelDate": "2019-12-20",
   "SupplierProductCode": "14488",
   "Location": "London",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     }
   },
   "Inclusions": {
     "Inclusion": [
       "Hop-on hop-off bus tour",
       "Live guide (Red Route)",
       "Recorded commentary",
       "Complimentary earphones",
       "30-minute river cruise",
       "A walking tour",
       "Reward Voucher booklet",
       "Hotel drop-off"
     ]
   },
   "CurrencyCode": "GBP",
   "Amount": 77.22,
   "Traveller": [
     {
       "TravellerIdentifier": "1",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     },
     {
       "TravellerIdentifier": "2",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     },
     {
       "TravellerIdentifier": "3",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     }
   ],
   "Travelle...
[2019-02-05 08:32:06.882] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:32:06.883] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:85986480-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:32:06.898] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.4.08]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 521cc1ca-83f8-4505-9ba1-e345e49396a8, Message Id: 85986480-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-05 08:32:06.900] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Date TimeZone :sun.util.calendar.ZoneInfo[id="PST",offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=PST,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]]
[2019-02-05 08:32:06.900] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: System Date :2019-02-05
[2019-02-05 08:32:06.916] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.47]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:32:06.916] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.47]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:85986480-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:32:06.924] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.5.08]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 521cc1ca-83f8-4505-9ba1-e345e49396a8, Message Id: 85986480-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}]
[2019-02-05 08:32:06.936] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-booking.6.08]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 521cc1ca-83f8-4505-9ba1-e345e49396a8, Message Id: 85986480-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "bookingRequest": {
    "tradePartnerName": "test",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": ""
    },
    "products": {
      "product": [
        {
          "productId": "14488",
          "dateOfTravel": "2019-12-20",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}
[2019-02-05 08:32:06.938] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:32:06.938] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:85986480-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:32:06.946] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.49]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:32:06.946] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.49]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:85986480-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:32:06.952] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:32:06.952] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:32:06.952] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: dataSource : source.getNumActive() : 0
[2019-02-05 08:32:06.952] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.45]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('521cc1ca-83f8-4505-9ba1-e345e49396a8','85986480-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-05 08:32:06.877 [bb-viator-api-v1-t].bb-viator-api-flow-booking.3.08','{
 "requestType": "BookingRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "2000145",
   "ExternalReference": "332002200014548999731299852079166",
   "Timestamp": "2018-03-07T12:35:47.214-08:00",
   "BookingReference": "645394587",
   "TravelDate": "2019-12-20",
   "SupplierProductCode": "14488",
   "Location": "London",
   "TourOptions": {
     "Language": {
       "LanguageCode": "en",
       "LanguageOption": [
         "GUIDE"
       ]
     }
   },
   "Inclusions": {
     "Inclusion": [
       "Hop-on hop-off bus tour",
       "Live guide (Red Route)",
       "Recorded commentary",
       "Complimentary earphones",
       "30-minute river cruise",
       "A walking tour",
       "Reward Voucher booklet",
       "Hotel drop-off"
     ]
   },
   "CurrencyCode": "GBP",
   "Amount": 77.22,
   "Traveller": [
     {
       "TravellerIdentifier": "1",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": true
     },
     {
       "TravellerIdentifier": "2",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     },
     {
       "TravellerIdentifier": "3",
       "TravellerTitle": "",
       "GivenName": "Michael",
       "Surname": "Matusik",
       "AgeBand": "ADULT",
       "LeadTraveller": false
     }
   ],
   "TravellerMix": {
     "Adult": "3",
     "Child": "0",
     "Youth": "0",
     "Infant": "0",
     "Senior": "0",
     "Total": "3"
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ]
 }
}',CURRENT_TIMESTAMP,'2019-02-05 08:32:06.877','1')
[2019-02-05 08:32:06.954] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.47]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:32:06.954] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.47]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:32:06.954] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.47]: dataSource : source.getNumActive() : 0
[2019-02-05 08:32:06.954] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.47]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('521cc1ca-83f8-4505-9ba1-e345e49396a8','85986480-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 08:32:06.899 [bb-viator-api-v1-t].bb-viator-api-flow-booking.4.08','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-05 08:32:06.899','1')
[2019-02-05 08:32:06.957] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:32:06.957] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:32:06.957] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: dataSource : source.getNumActive() : 0
[2019-02-05 08:32:06.957] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('521cc1ca-83f8-4505-9ba1-e345e49396a8','85986480-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 08:32:06.925 [bb-viator-api-v1-t].bb-viator-api-flow-booking.5.08','[{product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}, {product_id=14488, default_branch_currency=GBP}]',CURRENT_TIMESTAMP,'2019-02-05 08:32:06.925','1')
[2019-02-05 08:32:06.965] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.49]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:32:06.965] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.49]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:32:06.965] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.49]: dataSource : source.getNumActive() : 0
[2019-02-05 08:32:06.966] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.49]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('521cc1ca-83f8-4505-9ba1-e345e49396a8','85986480-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-02-05 08:32:06.937 [bb-viator-api-v1-t].bb-viator-api-flow-booking.6.08','{
  "bookingRequest": {
    "tradePartnerName": "test",
    "agentReference": "645394587",
    "price": {
      "currency": "GBP",
      "paid": "77.22"
    },
    "ticketPerPassenger": "1",
    "underName": {
      "firstname": ""
    },
    "products": {
      "product": [
        {
          "productId": "14488",
          "dateOfTravel": "2019-12-20",
          "currencyCode": "GBP",
          "price": "77.22",
          "items": [
            {
              "category": "Adult",
              "quantity": "3"
            }
          ]
        }
      ]
    }
  }
}',CURRENT_TIMESTAMP,'2019-02-05 08:32:06.937','1')
[2019-02-05 08:32:12.946] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.7.08]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 521cc1ca-83f8-4505-9ba1-e345e49396a8, Message Id: 85986480-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: 
[2019-02-05 08:32:12.960] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.49]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:32:12.961] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.49]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:85986480-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:32:12.963] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-booking.8.08]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-booking, Request Id: 521cc1ca-83f8-4505-9ba1-e345e49396a8, Message Id: 85986480-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-02-05T08:32:12.940Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10125091|1|20122019|1[14488AD:1:3700:GBP]87bcf29a36d60a0f",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10125092|1|20122019|1[14488AD:1:3700:GBP]b655d05ce7c46b73",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10125093|1|20122019|1[14488AD:1:3700:GBP]dc9ba50bcffd87be",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "eea4277d-6995-422a-b6c5-58a202b42d41"
  }
}
[2019-02-05 08:32:12.966] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:32:12.966] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:85986480-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:32:12.974] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.49]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:32:12.974] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.49]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:32:12.974] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.49]: dataSource : source.getNumActive() : 0
[2019-02-05 08:32:12.974] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.49]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('521cc1ca-83f8-4505-9ba1-e345e49396a8','85986480-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-02-05 08:32:12.947 [bb-viator-api-v1-t].bb-viator-api-flow-booking.7.08','',CURRENT_TIMESTAMP,'2019-02-05 08:32:12.947','1')
[2019-02-05 08:32:12.978] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:32:12.978] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:32:12.978] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: dataSource : source.getNumActive() : 0
[2019-02-05 08:32:12.978] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('521cc1ca-83f8-4505-9ba1-e345e49396a8','85986480-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 08:32:12.964 [bb-viator-api-v1-t].bb-viator-api-flow-booking.8.08','{
  "responseType": "BookingResponse",
  "data": {
    "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
    "ResellerId": "1000",
    "SupplierId": "2000145",
    "ExternalReference": "332002200014548999731299852079166",
    "Timestamp": "2019-02-05T08:32:12.940Z",
    "RequestStatus": {
      "Status": "SUCCESS"
    },
    "TransactionStatus": {
      "Status": "CONFIRMED"
    },
    "Traveller": [
      {
        "TravellerBarcode": "10125091|1|20122019|1[14488AD:1:3700:GBP]87bcf29a36d60a0f",
        "TravellerIdentifier": "1"
      },
      {
        "TravellerBarcode": "10125092|1|20122019|1[14488AD:1:3700:GBP]b655d05ce7c46b73",
        "TravellerIdentifier": "2"
      },
      {
        "TravellerBarcode": "10125093|1|20122019|1[14488AD:1:3700:GBP]dc9ba50bcffd87be",
        "TravellerIdentifier": "3"
      }
    ],
    "SupplierConfirmationNumber": "eea4277d-6995-422a-b6c5-58a202b42d41"
  }
}',CURRENT_TIMESTAMP,'2019-02-05 08:32:12.964','1')
[2019-02-05 08:33:10.177] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:33:10.182] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:33:10.195] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.14]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 0f41792a-d7ed-4576-9159-11daa7e62429, Message Id: ab55ccd0-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:33:10.197] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:33:10.198] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:ab55ccd0-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:33:10.190] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=ab55ccd0-2920-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:33:10.261] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:33:10.261] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:33:10.261] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: dataSource : source.getNumActive() : 0
[2019-02-05 08:33:10.262] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('0f41792a-d7ed-4576-9159-11daa7e62429','ab55ccd0-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 08:33:10.195 [bb-viator-api-v1-t].api-main.1.14','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-01-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"eea4277d-6995-422a-b6c5-58a202b42d41\",\n  \"CancelDate\": \"2019-12-20\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 08:33:10.195','1')
[2019-02-05 08:33:47.885] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:33:47.886] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:33:47.887] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.14]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: a91a6647-fd43-498a-8b3d-487f140b81d0, Message Id: c1cf9590-2920-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:33:47.889] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:33:47.890] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:c1cf9590-2920-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:33:47.903] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=c1cf9590-2920-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:33:47.942] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:33:47.942] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:33:47.942] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: dataSource : source.getNumActive() : 0
[2019-02-05 08:33:47.942] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.48]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('a91a6647-fd43-498a-8b3d-487f140b81d0','c1cf9590-2920-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 08:33:47.887 [bb-viator-api-v1-t].api-main.1.14','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"332002200014548999731299852079166\",\n  \"Timestamp\": \"2019-02-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"eea4277d-6995-422a-b6c5-58a202b42d41\",\n  \"CancelDate\": \"2019-12-20\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 08:33:47.887','1')
[2019-02-05 08:36:48.566] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:36:48.570] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:36:48.578] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.15]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: 853c451c-6cc6-4348-913e-8075f4775179, Message Id: 2d819f40-2921-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:36:48.587] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=2d819f40-2921-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:36:48.601] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.50]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:36:48.601] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.50]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:2d819f40-2921-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:36:48.655] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.50]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:36:48.655] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.50]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:36:48.655] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.50]: dataSource : source.getNumActive() : 0
[2019-02-05 08:36:48.656] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.50]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('853c451c-6cc6-4348-913e-8075f4775179','2d819f40-2921-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 08:36:48.58 [bb-viator-api-v1-t].api-main.1.15','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"\",\n  \"Timestamp\": \"2019-02-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"eea4277d-6995-422a-b6c5-58a202b42d41\",\n  \"CancelDate\": \"2019-12-20\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 08:36:48.58','1')
[2019-02-05 08:37:11.125] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : null
Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
null (org.mule.module.apikit.exception.UnsupportedMediaTypeException)
  org.mule.module.apikit.Router.getFlow(Router.java:91)
  org.mule.module.apikit.AbstractRouter.processRouterRequest(AbstractRouter.java:206)
  org.mule.module.apikit.AbstractRouter.processBlockingRequest(AbstractRouter.java:103)
  (109 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:37:11.128] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=3af316e0-2921-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.processor.chain.SubflowInterceptingChainLifecycleWrapper.process(SubflowInterceptingChainLifecycleWrapper.java:75)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:37:16.087] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : null
Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
null (org.mule.module.apikit.exception.UnsupportedMediaTypeException)
  org.mule.module.apikit.Router.getFlow(Router.java:91)
  org.mule.module.apikit.AbstractRouter.processRouterRequest(AbstractRouter.java:206)
  org.mule.module.apikit.AbstractRouter.processBlockingRequest(AbstractRouter.java:103)
  (109 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:37:16.090] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=3de8b030-2921-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.processor.chain.SubflowInterceptingChainLifecycleWrapper.process(SubflowInterceptingChainLifecycleWrapper.java:75)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:37:26.207] INFO    org.mule.module.apikit.validation.RestJsonSchemaValidator [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Schema validation failed: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:37:26.208] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]

 (org.mule.module.apikit.exception.BadRequestException)
  org.mule.module.apikit.validation.RestJsonSchemaValidator.validate(RestJsonSchemaValidator.java:131)
  org.mule.module.apikit.HttpRestRequest.validateSchema(HttpRestRequest.java:671)
  org.mule.module.apikit.HttpRestRequest.validateBody(HttpRestRequest.java:440)
  (113 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:37:26.209] ERROR   com.bb.commons [[bb-viator-api-v1-t].api-main.1.15]: ERROR <<< ApplicationName : bb-viator-api-v1-t , Flow Name: api-main, Request Id: b0634ef2-15e2-4b02-94df-e1597257786e, Message Id: 43f0e0b0-2921-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Exception: org.mule.module.apikit.exception.BadRequestException: error: instance type (string) does not match any allowed primitive type (allowed: ["object"])
    level: "error"
    schema: {"loadingURI":"file:/opt/mule/mule-3.9.1/apps/bb-viator-api-v1-t/classes/json/bookingCancellationRequestSchema.json#","pointer":""}
    instance: {"pointer":""}
    domain: "validation"
    keyword: "type"
    found: "string"
    expected: ["object"]


[2019-02-05 08:37:26.212] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.50]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:37:26.212] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.50]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:43f0e0b0-2921-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:37:26.233] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=43f0e0b0-2921-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
payload.data.ApiKey when payload != null and payload.data != null and payload.data.ApiKey !=null otherwise ""
                                             ^
Type mismatch for 'Value Selector' operator
     found :string, :name
  required :datetime, :name or
  required :localdatetime, :name or
  required :object, :name or
  required :time, :name or
  required :array, :name or
  required :date, :name or
  required :localtime, :name or
  required :period, :name.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:37:26.255] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.50]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:37:26.256] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.50]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:37:26.256] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.50]: dataSource : source.getNumActive() : 0
[2019-02-05 08:37:26.256] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.50]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('b0634ef2-15e2-4b02-94df-e1597257786e','43f0e0b0-2921-11e9-86d0-02d6dd8e3bbe','no_correlation_id','4','2019-02-05 08:37:26.21 [bb-viator-api-v1-t].api-main.1.15','"{\n\"requestType\": \"BookingCancellationRequest\",\n\"data\": {\n  \"ApiKey\": \"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE\",\n  \"ResellerId\": \"1000\",\n  \"SupplierId\": \"1004\",\n  \"ExternalReference\": \"\",\n  \"Timestamp\": \"2019-02-21 17:49:40\",\n  \"Extension\": {\n    \"any\": {}\n  },\n  \"Parameter\": [\n    {\n      \"Name\": \"TourGradeLevelAvailability\",\n      \"Value\": \"True\"\n    }\n  ],\n  \"RequestStatus\": {\n    \"Status\": \"SUCCESS\"\n  },\n  \"BookingReference\": \"332002200014548999731299852079166\",\n  \"SupplierConfirmationNumber\": \"eea4277d-6995-422a-b6c5-58a202b42d41\",\n  \"CancelDate\": \"2019-12-20\",\n  \"Author\": \"Customer Service\",\n  \"Reason\": \"No longer traveling\",\n  \"SupplierNote\": \"Refunded Customer\"\n}\n}\n"',CURRENT_TIMESTAMP,'2019-02-05 08:37:26.21','1')
[2019-02-05 08:37:31.759] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : null
Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
null (org.mule.module.apikit.exception.UnsupportedMediaTypeException)
  org.mule.module.apikit.Router.getFlow(Router.java:91)
  org.mule.module.apikit.AbstractRouter.processRouterRequest(AbstractRouter.java:206)
  org.mule.module.apikit.AbstractRouter.processBlockingRequest(AbstractRouter.java:103)
  (109 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:37:31.768] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=47400bb0-2921-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
{NullPayload}
 ^
Unexpected character 'N' at payload@[1:2] (line:column), expected '"'.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.processor.chain.SubflowInterceptingChainLifecycleWrapper.process(SubflowInterceptingChainLifecycleWrapper.java:75)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:38:20.347] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : null
Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
null (org.mule.module.apikit.exception.UnsupportedMediaTypeException)
  org.mule.module.apikit.Router.getFlow(Router.java:91)
  org.mule.module.apikit.AbstractRouter.processRouterRequest(AbstractRouter.java:206)
  org.mule.module.apikit.AbstractRouter.processBlockingRequest(AbstractRouter.java:103)
  (109 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:38:20.348] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=6435fc70-2921-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
{NullPayload}
 ^
Unexpected character 'N' at payload@[1:2] (line:column), expected '"'.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.processor.chain.SubflowInterceptingChainLifecycleWrapper.process(SubflowInterceptingChainLifecycleWrapper.java:75)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:39:07.440] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : null
Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
null (org.mule.module.apikit.exception.UnsupportedMediaTypeException)
  org.mule.module.apikit.Router.getFlow(Router.java:91)
  org.mule.module.apikit.AbstractRouter.processRouterRequest(AbstractRouter.java:206)
  org.mule.module.apikit.AbstractRouter.processBlockingRequest(AbstractRouter.java:103)
  (109 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:39:07.441] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=8047cec0-2921-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
{NullPayload}
 ^
Unexpected character 'N' at payload@[1:2] (line:column), expected '"'.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.processor.chain.SubflowInterceptingChainLifecycleWrapper.process(SubflowInterceptingChainLifecycleWrapper.java:75)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:42:24.347] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: 
********************************************************************************
Message               : null
Element               : /api-main/processors/3 @ bb-viator-api-v1-t:bb-viator-api.xml:25 (APIkit Router)
--------------------------------------------------------------------------------
Exception stack is:
null (org.mule.module.apikit.exception.UnsupportedMediaTypeException)
  org.mule.module.apikit.Router.getFlow(Router.java:91)
  org.mule.module.apikit.AbstractRouter.processRouterRequest(AbstractRouter.java:206)
  org.mule.module.apikit.AbstractRouter.processBlockingRequest(AbstractRouter.java:103)
  (109 more...)

  (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)
********************************************************************************

[2019-02-05 08:42:24.351] ERROR   org.mule.module.apikit.MappingExceptionListener [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Failed to dispatch message to error queue after it failed to process.  This may cause message loss. Message identification summary here: id=f5a56e70-2921-11e9-86d0-02d6dd8e3bbe correlationId=<not set>, correlationGroup=-1, correlationSeq=-1
com.mulesoft.weave.mule.exception.WeaveExecutionException: Exception while executing: 
{NullPayload}
 ^
Unexpected character 'N' at payload@[1:2] (line:column), expected '"'.
	at com.mulesoft.weave.mule.exception.WeaveExecutionException$.apply(WeaveExecutionException.scala:10)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.execute(WeaveMessageProcessor.scala:133)
	at com.mulesoft.weave.mule.WeaveMessageProcessor.process(WeaveMessageProcessor.scala:72)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.processor.chain.SubflowInterceptingChainLifecycleWrapper.process(SubflowInterceptingChainLifecycleWrapper.java:75)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.BlockingProcessorExecutor.executeNext(BlockingProcessorExecutor.java:88)
	at org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:59)
	at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:81)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)
	at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:74)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)
	at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
	at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:111)
	at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)
	at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)
	at org.mule.exception.TemplateMessagingExceptionStrategy.route(TemplateMessagingExceptionStrategy.java:178)
	at org.mule.exception.TemplateMessagingExceptionStrategy$ExceptionMessageProcessor.processNext(TemplateMessagingExceptionStrategy.java:99)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.processBlocking(AbstractRequestResponseMessageProcessor.java:57)
	at org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:48)
	at org.mule.exception.TemplateMessagingExceptionStrategy.handleException(TemplateMessagingExceptionStrategy.java:42)
	at org.mule.module.apikit.RestMappingExceptionStrategy.handleException(RestMappingExceptionStrategy.java:38)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:37)
	at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)
	at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)
	at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)
	at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)
	at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)
	at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)
	at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)
	at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)
	at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:59)
	at org.mule.execution.AsyncResponseFlowProcessingPhase.runPhase(AsyncResponseFlowProcessingPhase.java:36)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:69)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:187)
	at com.mulesoft.mule.throttling.ThrottlingPhase.runPhase(ThrottlingPhase.java:58)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:93)
	at com.mulesoft.gateway.http.phases.GatewayValidationPhase.runPhase(GatewayValidationPhase.java:49)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.phaseSuccessfully(PhaseExecutionEngine.java:65)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:112)
	at org.mule.modules.cors.CorsPhase.runPhase(CorsPhase.java:39)
	at org.mule.execution.PhaseExecutionEngine$InternalPhaseExecutionEngine.process(PhaseExecutionEngine.java:114)
	at org.mule.execution.PhaseExecutionEngine.process(PhaseExecutionEngine.java:41)
	at org.mule.execution.MuleMessageProcessingManager.processMessage(MuleMessageProcessingManager.java:32)
	at org.mule.module.http.internal.listener.DefaultHttpListener$1.handleRequest(DefaultHttpListener.java:135)
	at org.mule.module.http.internal.listener.grizzly.GrizzlyRequestDispatcherFilter.handleRead(GrizzlyRequestDispatcherFilter.java:105)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.run0(ExecutorPerServerAddressIOStrategy.java:126)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy.access$100(ExecutorPerServerAddressIOStrategy.java:32)
	at org.mule.module.http.internal.listener.grizzly.ExecutorPerServerAddressIOStrategy$WorkerThreadRunnable.run(ExecutorPerServerAddressIOStrategy.java:149)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


[2019-02-05 08:42:31.412] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.3.04]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: 161600cf-be72-4fa5-aee4-1d1a924fc6c0, Message Id: f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
 "requestType": "BookingCancellationRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "1004",
   "ExternalReference": "10051374722992850",
   "Timestamp": "2019-10-21 17:49:40",
   "Extension": {
     "any": {}
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ],
   "RequestStatus": {
     "Status": "SUCCESS"
   },
   "BookingReference": "332002200014548999731299852079166",
   "SupplierConfirmationNumber": "eea4277d-6995-422a-b6c5-58a202b42d41",
   "CancelDate": "2019-12-01",
   "Author": "Customer Service",
   "Reason": "No longer traveling",
   "SupplierNote": "Refunded Customer"
 }
}
[2019-02-05 08:42:31.443] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.51]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:42:31.443] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.51]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:42:31.447] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.4.04]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: 161600cf-be72-4fa5-aee4-1d1a924fc6c0, Message Id: f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-05 08:42:31.449] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: Date TimeZone :sun.util.calendar.ZoneInfo[id="PST",offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=PST,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]]
[2019-02-05 08:42:31.449] INFO    com.bb.viator.api.component.ValidationUtil [[bb-viator-api-v1-t].api-httpListenerConfig.worker.11]: System Date :2019-02-05
[2019-02-05 08:42:31.460] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.5.04]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: 161600cf-be72-4fa5-aee4-1d1a924fc6c0, Message Id: f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-05 08:42:31.467] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.52]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:42:31.467] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.52]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:42:31.473] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.6.04]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: 161600cf-be72-4fa5-aee4-1d1a924fc6c0, Message Id: f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "cancelBookingRequest": {
    "tradePartnerName": "test",
    "bookingReference": "eea4277d-6995-422a-b6c5-58a202b42d41"
  }
}
[2019-02-05 08:42:31.475] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.53]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:42:31.478] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.53]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:42:31.481] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.54]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:42:31.481] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.54]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:42:31.496] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.52]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:42:31.496] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.52]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:42:31.496] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.52]: dataSource : source.getNumActive() : 0
[2019-02-05 08:42:31.496] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.52]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('161600cf-be72-4fa5-aee4-1d1a924fc6c0','f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 08:42:31.448 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.4.04','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-05 08:42:31.448','1')
[2019-02-05 08:42:31.499] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.54]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:42:31.499] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.54]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:42:31.499] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.54]: dataSource : source.getNumActive() : 0
[2019-02-05 08:42:31.499] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.54]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('161600cf-be72-4fa5-aee4-1d1a924fc6c0','f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-02-05 08:42:31.473 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.6.04','{
  "cancelBookingRequest": {
    "tradePartnerName": "test",
    "bookingReference": "eea4277d-6995-422a-b6c5-58a202b42d41"
  }
}',CURRENT_TIMESTAMP,'2019-02-05 08:42:31.473','1')
[2019-02-05 08:42:31.500] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.51]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:42:31.500] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.51]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:42:31.500] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.51]: dataSource : source.getNumActive() : 0
[2019-02-05 08:42:31.500] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.51]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('161600cf-be72-4fa5-aee4-1d1a924fc6c0','f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-05 08:42:31.412 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.3.04','{
 "requestType": "BookingCancellationRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "1004",
   "ExternalReference": "10051374722992850",
   "Timestamp": "2019-10-21 17:49:40",
   "Extension": {
     "any": {}
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ],
   "RequestStatus": {
     "Status": "SUCCESS"
   },
   "BookingReference": "332002200014548999731299852079166",
   "SupplierConfirmationNumber": "eea4277d-6995-422a-b6c5-58a202b42d41",
   "CancelDate": "2019-12-01",
   "Author": "Customer Service",
   "Reason": "No longer traveling",
   "SupplierNote": "Refunded Customer"
 }
}',CURRENT_TIMESTAMP,'2019-02-05 08:42:31.412','1')
[2019-02-05 08:42:31.502] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.53]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:42:31.502] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.53]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:42:31.502] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.53]: dataSource : source.getNumActive() : 0
[2019-02-05 08:42:31.502] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.53]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('161600cf-be72-4fa5-aee4-1d1a924fc6c0','f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 08:42:31.46 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.5.04','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-05 08:42:31.46','1')
[2019-02-05 08:42:32.165] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.7.04]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: 161600cf-be72-4fa5-aee4-1d1a924fc6c0, Message Id: f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: { "status":"SUCCESS", "errorMessage":"" }
[2019-02-05 08:42:32.167] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.8.04]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-bookings-cancellation, Request Id: 161600cf-be72-4fa5-aee4-1d1a924fc6c0, Message Id: f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: 
[2019-02-05 08:42:32.171] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.53]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:42:32.171] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.53]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:42:32.178] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.51]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:42:32.178] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.51]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:42:32.185] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.53]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:42:32.185] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.53]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:42:32.185] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.53]: dataSource : source.getNumActive() : 0
[2019-02-05 08:42:32.185] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.53]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('161600cf-be72-4fa5-aee4-1d1a924fc6c0','f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-02-05 08:42:32.165 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.7.04','{ "status":"SUCCESS", "errorMessage":"" }',CURRENT_TIMESTAMP,'2019-02-05 08:42:32.165','1')
[2019-02-05 08:42:32.188] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.51]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:42:32.188] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.51]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:42:32.188] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.51]: dataSource : source.getNumActive() : 0
[2019-02-05 08:42:32.188] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.51]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('161600cf-be72-4fa5-aee4-1d1a924fc6c0','f9d8b7e0-2921-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 08:42:32.17 [bb-viator-api-v1-t].bb-viator-api-flow-bookings-cancellation.8.04','',CURRENT_TIMESTAMP,'2019-02-05 08:42:32.169','1')
[2019-02-05 08:46:42.933] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.3.05]: ENTRY >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: ecbe3863-f9dd-44b7-a2e0-3dfac9bdceb7, Message Id: 8fc4b150-2922-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
 "requestType": "TourListRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "1004",
   "ExternalReference": "10051374722994001",
   "Timestamp": "2019-01-21 18:20:49",
   "Extension": {
     "any": {}
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ]
 }
}
[2019-02-05 08:46:42.965] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.4.05]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: ecbe3863-f9dd-44b7-a2e0-3dfac9bdceb7, Message Id: 8fc4b150-2922-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: [{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]
[2019-02-05 08:46:42.977] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.5.05]: CALLING >> ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: ecbe3863-f9dd-44b7-a2e0-3dfac9bdceb7, Message Id: 8fc4b150-2922-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {
  "countryCodeFilter": "null",
  "tradePartnerName": "test"
}
[2019-02-05 08:46:42.993] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:46:42.993] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:8fc4b150-2922-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:46:42.994] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.56]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:46:42.995] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.56]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:8fc4b150-2922-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:46:42.998] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.57]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:46:42.998] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.57]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:8fc4b150-2922-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:46:43.063] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.57]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:46:43.063] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.57]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:46:43.063] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.57]: dataSource : source.getNumActive() : 0
[2019-02-05 08:46:43.063] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.57]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('ecbe3863-f9dd-44b7-a2e0-3dfac9bdceb7','8fc4b150-2922-11e9-86d0-02d6dd8e3bbe','no_correlation_id','2','2019-02-05 08:46:42.978 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.5.05','{
  "countryCodeFilter": "null",
  "tradePartnerName": "test"
}',CURRENT_TIMESTAMP,'2019-02-05 08:46:42.977','1')
[2019-02-05 08:46:43.063] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.56]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:46:43.063] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.56]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:46:43.063] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.56]: dataSource : source.getNumActive() : 0
[2019-02-05 08:46:43.064] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.56]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('ecbe3863-f9dd-44b7-a2e0-3dfac9bdceb7','8fc4b150-2922-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 08:46:42.966 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.4.05','[{tp_name=test, tp_default_vacancies=100, id=1}, {tp_name=CruiseClub, tp_default_vacancies=100, id=5}]',CURRENT_TIMESTAMP,'2019-02-05 08:46:42.966','1')
[2019-02-05 08:46:43.065] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:46:43.065] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:46:43.065] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: dataSource : source.getNumActive() : 0
[2019-02-05 08:46:43.065] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('ecbe3863-f9dd-44b7-a2e0-3dfac9bdceb7','8fc4b150-2922-11e9-86d0-02d6dd8e3bbe','no_correlation_id','1','2019-02-05 08:46:42.933 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.3.05','{
 "requestType": "TourListRequest",
 "data": {
   "ApiKey": "0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE",
   "ResellerId": "1000",
   "SupplierId": "1004",
   "ExternalReference": "10051374722994001",
   "Timestamp": "2019-01-21 18:20:49",
   "Extension": {
     "any": {}
   },
   "Parameter": [
     {
       "Name": "TourGradeLevelAvailability",
       "Value": "True"
     }
   ]
 }
}',CURRENT_TIMESTAMP,'2019-02-05 08:46:42.933','1')
[2019-02-05 08:47:00.035] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.6.05]: CALLED << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: ecbe3863-f9dd-44b7-a2e0-3dfac9bdceb7, Message Id: 8fc4b150-2922-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"status":"SUCCESS","code":null,"message":null,"productResult":{"countries":[{"id":null,"name":"USA","code":"USA","cities":[{"id":null,"name":"USA -6 hours","branches":[{"id":"15","name":"UAT-Chicago","products":[{"id":"154565","name":"Premium Tour CHICAGO","description":null,"printName":"Premium Tour ","printText":"Valid for 2 day on the date of purchase.If purchased after 3 PM this ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of our staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"30.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"55.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154656","name":"Night Tour CHICAGO","description":null,"printName":"Night Tour ","printText":"Live Guided, Panoramic, Non-Stop Night Tour of Chicago. Departs from Navy Pier (stop 11) Nightly at 7.00pm","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","...
[2019-02-05 08:47:00.041] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:47:00.041] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:8fc4b150-2922-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:47:00.054] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:47:00.054] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:47:00.054] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: dataSource : source.getNumActive() : 0
[2019-02-05 08:47:00.055] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('ecbe3863-f9dd-44b7-a2e0-3dfac9bdceb7','8fc4b150-2922-11e9-86d0-02d6dd8e3bbe','no_correlation_id','3','2019-02-05 08:47:00.036 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.6.05','{"status":"SUCCESS","code":null,"message":null,"productResult":{"countries":[{"id":null,"name":"USA","code":"USA","cities":[{"id":null,"name":"USA -6 hours","branches":[{"id":"15","name":"UAT-Chicago","products":[{"id":"154565","name":"Premium Tour CHICAGO","description":null,"printName":"Premium Tour ","printText":"Valid for 2 day on the date of purchase.If purchased after 3 PM this ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of our staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"30.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"55.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154656","name":"Night Tour CHICAGO","description":null,"printName":"Night Tour ","printText":"Live Guided, Panoramic, Non-Stop Night Tour of Chicago. Departs from Navy Pier (stop 11) Nightly at 7.00pm","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"19:45","toTime":"22:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"19:45","toTime":"22:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"29.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"15.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154564","name":"Classic Tour CHICAGO","description":null,"printName":"Classic Tour ","printText":"Valid for one day on the date of purchase.If purchase after 3PM,ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of the staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"45.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"25.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"154655","name":"Deluxe Tour CHICAGO","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 day on the date of purchase.If purchased after 3 PM this ticket is valid for the next day.Want to explore more? Upgrade your ticket with a member of our staff.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"10:00","toTime":"16:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"May-01","endPeriod":"Sep-30","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-30","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"35.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"65.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]},{"id":null,"name":"USA -5 hours","branches":[{"id":"2","name":"UAT-New York","products":[{"id":"24659","name":"Night Tour NEW YORK","description":null,"printName":"Night Tour ","printText":"Valid for a single Night Tour. Departs from Stop#18- M&M World from 7pm to 9pm every 30min. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"18:00","toTime":"20:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"19:00","toTime":"21:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"19:00","toTime":"21:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"18:00","toTime":"20:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"18:00","toTime":"20:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"39.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24490","name":"Classic Tour NEW YORK","description":null,"printName":"Classic","printText":"If purchased or redeemed after 3pm this ticket is valid until the same time the next day. This ticket is valid on the Downtown and Uptown Loops. Last departure for Uptown and Downtown is at 5pm. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"49.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"59.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24511","name":"Deluxe Tour NEW YORK","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 days. If purchased or redeemed after 3PM, this ticket is valid until the same time 2 days from now. This ticket is valid on the Uptown, Downtown, Harlem, Brooklyn Loops and Night Tours as well as a Sightseeing Cruise. Last depature for the Uptown and Downtown  is at 5PM. Last depature for the Brooklyn and Harlem Loop is 3PM. Want more? Please ask an agent about upgrades.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"69.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"89.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"24491","name":"Premium Tour NEW YORK","description":null,"printName":"2 Day Premium","printText":"Valid for 2 Days. If purchased or redeemed after 3pm this ticket is valid until the same time 2 days from now.This ticket is valid on the Downtown, Midtown, Uptown and the Brooklyn Tours. . Last departure for Uptown and Downtown is at 5pm. ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:00","toTime":"17:00"},{"startPeriod":"Mar-01","endPeriod":"Apr-30","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"08:00","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"08:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"59.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"69.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"4","name":"UAT-Washington DC","products":[{"id":"44569","name":"Panoramic Night Tour WASHINGTON DC","description":null,"printName":"Panoramic Night Tour ","printText":"Valid for one Night Tour. See current brochure for departure time.\n","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-12","fromTime":"18:30","toTime":"20:30"},{"startPeriod":"Mar-13","endPeriod":"May-25","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"May-26","endPeriod":"Sep-04","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Sep-05","endPeriod":"Dec-31","fromTime":"18:30","toTime":"20:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"29.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"39.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"44567","name":"Premium Tour WASHINGTON DC","description":null,"printName":"Premium Tour ","printText":"Valid for 1 day on all Loops","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"29.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"44568","name":"Deluxe Tour WASHINGTON DC","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 days on all Loops","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-12","fromTime":"09:00","toTime":"16:00"},{"startPeriod":"Mar-13","endPeriod":"May-25","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"May-26","endPeriod":"Sep-04","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Sep-05","endPeriod":"Dec-31","fromTime":"09:00","toTime":"16:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"69.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"49.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"6","name":"UAT-Miami","products":[{"id":"64657","name":"Deluxe Tour MIAMI","description":null,"printName":"Deluxe Tour ","printText":"2 Days all Loops Tour, Biscayne Boat and Night Tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"79.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"64.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64658","name":"Night Tour MIAMI","description":null,"printName":"Night Tour","printText":"Departs from Senor frogs at 7:30pm and Central Station 8:00pm.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"19:30","toTime":"21:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"19:30","toTime":"21:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"29.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"19.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64570","name":"Classic Tour MIAMI","description":null,"printName":"Classic Tour ","printText":"1 Day all loops tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"39.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"64571","name":"Premium Tour MIAMI","description":null,"printName":"Premium Tour ","printText":"1 Day All Loops Tour","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"08:15","toTime":"17:30"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"08:15","toTime":"17:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"59.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"69.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]},{"id":null,"name":"USA -8 hours","branches":[{"id":"5","name":"UAT-San Francisco","products":[{"id":"54493","name":"Classic Tour SAN FRANCISCO","description":null,"printName":"Classic Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for One Day Hop-on Hop-Tour and Walking Tours. Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"40.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"52.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54495","name":"Deluxe Tour SAN FRANCISCO","description":null,"printName":"Deluxe Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for Two Day Hop-on Hop-Tour, Walking Tours & Night Tour (Except May 24th 2017). Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"75.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"60.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54496","name":"Night Tour SAN FRANCISCO","description":null,"printName":"Night Tour ","printText":"Daily at 6:30pm, 7:00pm & (7:30pm April - October) Arrive 30 minutes prior to desired tour time as seats are first come first serve. Tour operates rain or shine. All sales are final. No refunds of exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"18:30","toTime":"21:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"18:30","toTime":"21:00"},{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"18:30","toTime":"21:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"30.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"20.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"54494","name":"Premium Tour SAN FRANCISCO","description":null,"printName":"Premium Tour ","printText":"Daily Tours from 9:00am - 5:00pm. Last bus departs Stop 1 at 5:00pm. Ticket valid for One Day Hop-on Hop-Tour & Walking Tours . Tour operates rain or shine. All sales are final. No refunds or exchanges.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:00","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"52.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"65.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"7","name":"UAT-Las Vegas","products":[{"id":"74505","name":"Deluxe Tour LAS VEGAS","description":null,"printName":"Deluxe","printText":"Valid for 3 days hop on hop off 10 am to 6 pm daily. If purchased or redeemed after 3 PM,this ticket is valid until the same time 3 days from now. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"75.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"59.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74506","name":"Night Tour LAS VEGAS","description":null,"printName":"Panoramic Night Tour","printText":"Must be used within 24 hours after purchase. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"19:00","toTime":"10:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"35.0","currencyCode":"USD"}]},{"categoryName":"Adult","prices":[{"amount":"45.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74503","name":"Classic Tour LAS VEGAS","description":null,"printName":"Classic","printText":"Valid for one day hop on hop off tour 10 am to 6 pm daily. THIS TICKET INCLUDES STATE PASSENGER TAX.  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"39.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"74504","name":"Premium Tour LAS VEGAS","description":null,"printName":"Premium","printText":"Valid for 2 days  hop on hop off 10 am to 6 pm daily. If purchased or redeemed after 3 PM,this ticket is valid until the same time 2 days from now. THIS TICKET INCLUDES STATE PASSENGER TAX.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Dec-31","fromTime":"10:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"59.0","currencyCode":"USD"}]},{"categoryName":"Child","prices":[{"amount":"49.0","currencyCode":"USD"}]}],"supplierID":"BBC","hasManagedCapacity":false}]}]}]},{"id":null,"name":" Europe","code":"EUR","cities":[{"id":null,"name":"Europe Time Zone","branches":[{"id":"16","name":"UAT-Rome","products":[{"id":"164498","name":"Premium Tour ROME","description":null,"printName":"Premium Tour ","printText":"Valid for 2 consecutive days on City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00 Enjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"39.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"25.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"164497","name":"Classic Tour ROME","description":null,"printName":"Classic Tour ","printText":"City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00.Enjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"32.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"21.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"164499","name":"Deluxe Tour ROME","description":null,"printName":"Deluxe Tour ","printText":"Valid for 3 consecutive days on City Centre Loop & FREE WALKING TOURS Exclusive to Big Bus Rome Guests. # 1: Big Bus Stop Vatican at 12.00 - # 2 Big Bus Stop Vatican at 14.00 - # 3 Big Bus Stop Piazza Venezia at 15.30 - # 4 Big Bus Stop Barberini at 17.00\nEnjoy your stay in Rome.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:00","toTime":"18:00"},{"startPeriod":"Apr-01","endPeriod":"Nov-01","fromTime":"08:30","toTime":"20:15"},{"startPeriod":"Nov-02","endPeriod":"Dec-31","fromTime":"09:00","toTime":"18:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"33.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"48.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"3","name":"UAT-Paris","products":[{"id":"34664","name":"Deluxe Tour PARIS","description":null,"printName":"Deluxe Tour ","printText":"Valid for 2 consecutive days","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"24.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"48.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34665","name":"Night Tour PARIS","description":null,"printName":"Night Tour ","printText":"Panoramic Night Tour- Valid for 1 Tour  ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"21:15","toTime":"23:15"},{"startPeriod":"Apr-01","endPeriod":"Oct-31","fromTime":"20:15","toTime":"22:15"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"21:15","toTime":"23:15"},{"startPeriod":"Jan-05","endPeriod":"Mar-26","fromTime":"20:15","toTime":"22:15"},{"startPeriod":"Mar-26","endPeriod":"Oct-29","fromTime":"21:15","toTime":"23:15"}],"category":[{"categoryName":"Child","prices":[{"amount":"12.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"23.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34500","name":"Classic Tour PARIS","description":null,"printName":"Classic Tour ","printText":"Valid 1 Day ","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"17.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"35.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"34501","name":"Premium Tour PARIS","description":null,"printName":"Premium Tour ","printText":"Valid for 2 consecutive days","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"May-31","fromTime":"09:30","toTime":"17:15"},{"startPeriod":"Jun-01","endPeriod":"Jun-30","fromTime":"09:15","toTime":"18:30"},{"startPeriod":"Jul-01","endPeriod":"Aug-31","fromTime":"09:15","toTime":"19:00"},{"startPeriod":"Sep-01","endPeriod":"Sep-30","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Oct-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"17:00"}],"category":[{"categoryName":"Adult","prices":[{"amount":"39.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"20.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"8","name":"UAT-Vienna","products":[{"id":"84572","name":"Classic Tour VIENNA","description":null,"printName":"Classic Tour","printText":"Valid for 24 hours, All Routes & City walk. Enjoy your time in Vienna. incl. 10% VAT.","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Child","prices":[{"amount":"19.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"28.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84661","name":"Deluxe Tour VIENNA","description":null,"printName":"Deluxe Tour ","printText":"Valid for 48 hours + 3rd Day FREE. All Routes, river cruise, City walk & Night Tour. Enjoy your time in Vienna. incl. 10% VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"49.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"32.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84663","name":"Night Tour VIENNA","description":null,"printName":"Night Tour ","printText":"Tour starts from stop 1 \"Opera\". Enjoy your time in Vienna. incl. 10 % VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Apr-01","endPeriod":"Sep-30","fromTime":"19:30","toTime":"20:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"17.0","currencyCode":"EUR"}]},{"categoryName":"Child","prices":[{"amount":"12.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false},{"id":"84573","name":"Premium Tour VIENNA","description":null,"printName":"Premium Tour ","printText":"Valid for 48 hours + 3rd Day FREE. All Routes, City walk & Night Tour. Enjoy your time in Vienna. incl. 10 % VAT","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Jan-01","endPeriod":"Feb-28","fromTime":"09:30","toTime":"16:30"},{"startPeriod":"Mar-01","endPeriod":"Mar-31","fromTime":"09:30","toTime":"17:00"},{"startPeriod":"Apr-01","endPeriod":"Aug-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"09:30","toTime":"18:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"09:30","toTime":"16:30"}],"category":[{"categoryName":"Adult","prices":[{"amount":"34.0","currencyCode":"EUR"},{"amount":"34.0","currencyCode":"EUR"}]},{"categoryName":"Adult","prices":[{"amount":"34.0","currencyCode":"EUR"},{"amount":"34.0","currencyCode":"EUR"}]}],"supplierID":"BBC","hasManagedCapacity":false}]},{"id":"9","name":"UAT-Budapest","products":[{"id":"94897","name":"Night Tour BUDAPEST","description":null,"printName":"Night Tour BUDAPEST","printText":"Valid on one Night Tour starting at 19:30pm at the bus stop no.15. Not valid for Day Tour or Hop On Hop Off","image":"Logo","status":"active","productTypeID":"128","productTypename":"Tickets(Atraction)","productGroupID":null,"productGroupname":"Big Bus","operatingHours":[{"startPeriod":"Mar-15","endPeriod":"Apr-30","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"May-01","endPeriod":"Aug-31","fromTime":"21:00","toTime":"22:00"},{"startPeriod":"Sep-01","endPeriod":"Oct-31","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Nov-01","endPeriod":"Dec-31","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Jan-01","endPeriod":"Jan-15","fromTime":"19:00","toTime":"20:00"},{"startPeriod":"Jan-15","endPeriod":"Mar-14","fromTime":"18:00","toTime":"19:00"}],"category":[{"categoryName":"Child","prices":[{"amount":"4200.0","currencyCode":"HUF"}]},{"categoryName":"Adult","prices":[{"amount":"4200.0","currencyCode":"HUF"}]}],"supplierID":"BBC","ha... [truncated]
[2019-02-05 08:47:00.098] INFO    com.bb.commons [[bb-viator-api-v1-t].bb-viator-api-flow-tourlist.7.05]: EXIT << ApplicationName : bb-viator-api-v1-t , Flow Name: bb-viator-api-flow-tourlist, Request Id: ecbe3863-f9dd-44b7-a2e0-3dfac9bdceb7, Message Id: 8fc4b150-2922-11e9-86d0-02d6dd8e3bbe , Correlation Id: null, Log Message: {"responseType":"TourListResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722994001","Timestamp":"2019-02-05T08:47:00.076Z","RequestStatus":{"Status":"SUCCESS"},"Tour":[{"SupplierProductCode":"154565","SupplierProductName":"Premium Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154656","SupplierProductName":"Night Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154564","SupplierProductName":"Classic Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154655","SupplierProductName":"Deluxe Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24659","SupplierProductName":"Night Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24490","SupplierProductName":"Classic Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24511","SupplierProductName":"Deluxe Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24491","SupplierProductName":"Prem...
[2019-02-05 08:47:00.104] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: DB: org.apache.commons.dbcp2.BasicDataSource@7c0308a9 and null
[2019-02-05 08:47:00.105] INFO    org.mule.api.processor.LoggerMessageProcessor [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: PROCESSING >> DB: bb-viator-api-v1-t:LogtoDB-File-JMS:Message Id:8fc4b150-2922-11e9-86d0-02d6dd8e3bbe: Correlation Id: null null
[2019-02-05 08:47:00.121] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: DATA_SOURCE : org.apache.commons.dbcp2.BasicDataSource@7c0308a9
[2019-02-05 08:47:00.121] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: dataSource : source.getInitialSize() : 1
[2019-02-05 08:47:00.121] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: dataSource : source.getNumActive() : 0
[2019-02-05 08:47:00.121] INFO    com.ww.log.BBAuditDatabase [[bb-viator-api-v1-t].LogtoDB-File-JMS.stage1.55]: Query to insert to DB : Insert into t_audit (REQUEST_ID,MESSAGE_ID,CORRELATION_ID,LOG_TYPE,INSTANCE_THREAD,LOG_MESSAGE,RECORD_CREATE_TIME,MESSAGE_RECEIVE_TIME,FLOW_STATUS) values ('ecbe3863-f9dd-44b7-a2e0-3dfac9bdceb7','8fc4b150-2922-11e9-86d0-02d6dd8e3bbe','no_correlation_id','0','2019-02-05 08:47:00.101 [bb-viator-api-v1-t].bb-viator-api-flow-tourlist.7.05','{"responseType":"TourListResponse","data":{"ApiKey":"0FGb?42VKs9hCuZZH*Ttm#RtH_OPKAF7zEBNL8ZRvOE","ResellerId":"1000","SupplierId":"1004","ExternalReference":"10051374722994001","Timestamp":"2019-02-05T08:47:00.076Z","RequestStatus":{"Status":"SUCCESS"},"Tour":[{"SupplierProductCode":"154565","SupplierProductName":"Premium Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154656","SupplierProductName":"Night Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154564","SupplierProductName":"Classic Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"154655","SupplierProductName":"Deluxe Tour CHICAGO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24659","SupplierProductName":"Night Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24490","SupplierProductName":"Classic Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24511","SupplierProductName":"Deluxe Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"24491","SupplierProductName":"Premium Tour NEW YORK","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44569","SupplierProductName":"Panoramic Night Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44567","SupplierProductName":"Premium Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"44568","SupplierProductName":"Deluxe Tour WASHINGTON DC","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64657","SupplierProductName":"Deluxe Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64658","SupplierProductName":"Night Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64570","SupplierProductName":"Classic Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"64571","SupplierProductName":"Premium Tour MIAMI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54493","SupplierProductName":"Classic Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54495","SupplierProductName":"Deluxe Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54496","SupplierProductName":"Night Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"54494","SupplierProductName":"Premium Tour SAN FRANCISCO","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74505","SupplierProductName":"Deluxe Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74506","SupplierProductName":"Night Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74503","SupplierProductName":"Classic Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"74504","SupplierProductName":"Premium Tour LAS VEGAS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164498","SupplierProductName":"Premium Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164497","SupplierProductName":"Classic Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"164499","SupplierProductName":"Deluxe Tour ROME","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34664","SupplierProductName":"Deluxe Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34665","SupplierProductName":"Night Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34500","SupplierProductName":"Classic Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"34501","SupplierProductName":"Premium Tour PARIS","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84572","SupplierProductName":"Classic Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84661","SupplierProductName":"Deluxe Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84663","SupplierProductName":"Night Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"84573","SupplierProductName":"Premium Tour VIENNA","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94897","SupplierProductName":"Night Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94866","SupplierProductName":"Deluxe Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94865","SupplierProductName":"Premium Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"94864","SupplierProductName":"Classic Tour BUDAPEST","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114559","SupplierProductName":"Night Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"11111","SupplierProductName":"Aquaventure Waterpark","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114556","SupplierProductName":"Classic Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114557","SupplierProductName":"Premium Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"114558","SupplierProductName":"Deluxe Tour DUBAI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124562","SupplierProductName":"Premium Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124666","SupplierProductName":"Deluxe Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124667","SupplierProductName":"Night Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"124560","SupplierProductName":"Classic Tour ABU DHABI","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"205003","SupplierProductName":"Classic Tour MUSCAT","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"205005","SupplierProductName":"Premium Tour MUSCAT","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14489","SupplierProductName":"Premium Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14488","SupplierProductName":"Classic Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14660","SupplierProductName":"Deluxe Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"14751","SupplierProductName":" Night Tour LONDON","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134750","SupplierProductName":"Night Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134508","SupplierProductName":"Premium Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134697","SupplierProductName":"Deluxe Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"134507","SupplierProductName":"Classic Tour HONG KONG","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"13210","SupplierProductName":"Single Route Voucher","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194595","SupplierProductName":"Deluxe Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194593","SupplierProductName":"Classic Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""},{"SupplierProductCode":"194594","SupplierProductName":"Premium Tour SYDNEY","CountryCode":"GB","DestinationCode":"LON","DestinationName":"LONDON","TourDescription":""}]}}',CURRENT_TIMESTAMP,'2019-02-05 08:47:00.101','1')
